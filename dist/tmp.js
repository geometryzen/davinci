(function(){var COMPILED=!0,goog=goog||{};goog.global=this;goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]?c[d]:c[d]={}:c[d]=b};goog.define=function(a,b){var c=b;COMPILED||goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]);goog.exportPath_(a,c)};goog.DEBUG=!1;goog.LOCALE="en";goog.TRUSTED_SITE=!0;
goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)};goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};
COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){var c=b||goog.global,d;for(d in a)c[d]=a[d]};
goog.addDependency=function(a,b,c){if(goog.DEPENDENCIES_ENABLED){var d;a=a.replace(/\\/g,"/");for(var e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][d]=!0;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b){goog.included_[b]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a,b){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;
goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:
d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var b=goog.global.document;if("complete"==b.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}b.write('<script type="text/javascript" src="'+a+'">\x3c/script>');
return!0}return!1},goog.writeScripts_=function(){function a(e){if(!(e in d.written)){if(!(e in d.visited)&&(d.visited[e]=!0,e in d.requires))for(var h in d.requires[e])if(!goog.isProvided_(h))if(h in d.nameToPath)a(d.nameToPath[h]);else throw Error("Undefined nameToPath for "+h);e in c||(c[e]=!0,b.push(e))}}var b=[],c={},d=goog.dependencies_,e;for(e in goog.included_)d.written[e]||a(e);for(e=0;e<b.length;e++)if(b[e])goog.importScript_(goog.basePath+b[e]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};
goog.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);
b.body.removeChild(c)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};
goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a};
goog.base=function(a,b,c){var d=arguments.callee.caller;if(goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_)return d.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=!1,h=a.constructor;h;h=h.superClass_&&h.superClass_.constructor)if(h.prototype[b]===d)f=!0;else if(f)return h.prototype[b].apply(a,
e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){a.call(goog.global)};(function(a){var b,c,d;(function(){var a={},f={};b=function(b,c,d){a[b]={deps:c,callback:d}};d=c=function(b){function k(a){if("."!==a.charAt(0))return a;a=a.split("/");for(var c=b.split("/").slice(0,-1),d=0,g=a.length;d<g;d++){var q=a[d];".."===q?c.pop():"."!==q&&c.push(q)}return c.join("/")}d._eak_seen=a;if(f[b])return f[b];f[b]={};if(!a[b])throw Error("Could not find module "+b);for(var q=a[b],n=q.deps,q=q.callback,m=[],g,l=0,p=n.length;l<p;l++)"exports"===n[l]?m.push(g={}):m.push(c(k(n[l])));n=
q.apply(this,m);return f[b]=g||n}})();b("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,d=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function g(a){return function(c){e[a]=c;0===--p&&b(e)}}var e=[],p=a.length,h;0===p&&b([]);for(var f=0;f<a.length;f++)(h=a[f])&&d(h.then)?h.then(g(f),c):(e[f]=h,0===--p&&b(e))})}});b("promise/asap",["exports"],function(a){function b(){return function(){process.nextTick(d)}}
function c(){return function(){q.setTimeout(d,1)}}function d(){for(var a=0;a<n.length;a++){var b=n[a];(0,b[0])(b[1])}n=[]}var q="undefined"!==typeof global?global:void 0===this?window:this,n=[],m;m="undefined"!==typeof process&&"[object process]"==={}.toString.call(process)?b():c();a.asap=function(a,b){1===n.push([a,b])&&m()}});b("promise/config",["exports"],function(a){var b={instrument:!1};a.config=b;a.configure=function(a,c){if(2===arguments.length)b[a]=c;else return b[a]}});b("promise/polyfill",
["./promise","./utils","exports"],function(b,c,d){var k=b.Promise,q=c.isFunction;d.polyfill=function(){var b;b="undefined"!==typeof global?global:"undefined"!==typeof window&&window.document?window:a;"Promise"in b&&"resolve"in b.Promise&&"reject"in b.Promise&&"all"in b.Promise&&"race"in b.Promise&&function(){var a;new b.Promise(function(b){a=b});return q(a)}()||(b.Promise=k)}});b("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,d,q,n,m,
g){function l(a){if(!D(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[];p(a,this)}function p(a,b){function c(a){z(b,a)}function d(a){x(b,a)}try{a(c,d)}catch(g){d(g)}}function H(a,b,c,d){var g=D(c),q,m,e,l;if(g)try{q=c(d),e=!0}catch(p){l=!0,m=p}else q=d,e=
!0;N(b,q)||(g&&e?z(b,q):l?x(b,m):a===A?z(b,q):a===w&&x(b,q))}function r(a,b,c,d){a=a._subscribers;var g=a.length;a[g]=b;a[g+A]=c;a[g+w]=d}function u(a,b){for(var c,d,g=a._subscribers,q=a._detail,m=0;m<g.length;m+=3)c=g[m],d=g[m+b],H(b,c,d,q);a._subscribers=null}function N(a,b){var c=null,d;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(v(b)&&(c=b.then,D(c)))return c.call(b,function(c){if(d)return!0;d=!0;b!==c?z(a,c):J(a,c)},function(b){if(d)return!0;d=
!0;x(a,b)}),!0}catch(g){if(d)return!0;x(a,g);return!0}return!1}function z(a,b){a===b?J(a,b):N(a,b)||J(a,b)}function J(a,b){a._state===y&&(a._state=B,a._detail=b,F.async(s,a))}function x(a,b){a._state===y&&(a._state=B,a._detail=b,F.async(E,a))}function s(a){u(a,a._state=A)}function E(a){u(a,a._state=w)}var F=a.config,v=b.objectOrFunction,D=b.isFunction;a=c.all;d=d.race;q=q.resolve;n=n.reject;F.async=m.asap;var y=void 0,B=0,A=1,w=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,
then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var g=arguments;F.async(function(){H(c._state,d,g[c._state-1],c._detail)})}else r(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};l.all=a;l.race=d;l.resolve=q;l.reject=n;g.Promise=l});b("promise/race",["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,c){for(var d,g=0;g<a.length;g++)(d=
a[g])&&"function"===typeof d.then?d.then(b,c):b(d)})}});b("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});b("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});b("promise/utils",["exports"],function(a){function b(a){return"function"===typeof a}var c=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=function(a){return b(a)||"object"===
typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});c("promise/polyfill").polyfill()})(this);/*
 almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
(function(a,b){var c=a.define,d,e;(function(a){function c(a,b){var d,g,q,m,e,l,p,n,k,f=b&&b.split("/"),h=x.map,r=h&&h["*"]||{};if(a&&"."===a.charAt(0))if(b){f=f.slice(0,f.length-1);d=a.split("/");e=a.length-1;x.nodeIdCompat&&v.test(d[e])&&(d[e]=d[e].replace(v,""));d=f.concat(a);for(e=0;e<d.length;e+=1)if(g=d[e],"."===g)d.splice(e,1),e-=1;else if(".."===g)if(1!==e||".."!==d[2]&&".."!==d[0])0<e&&(d.splice(e-1,2),e-=2);else break;a=d.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((f||r)&&
h){d=a.split("/");for(e=d.length;0<e;e-=1){g=d.slice(0,e).join("/");if(f)for(k=f.length;0<k;k-=1)if(q=h[f.slice(0,k).join("/")])if(q=q[g]){m=q;l=e;break}if(m)break;!p&&(r&&r[g])&&(p=r[g],n=e)}!m&&p&&(m=p,l=n);m&&(d.splice(0,l,m),a=d.join("/"))}return a}function q(b,c){return function(){return r.apply(a,F.call(arguments,0).concat([b,c]))}}function n(a){return function(b){return c(b,a)}}function m(a){return function(b){z[a]=b}}function g(b){if(E.call(J,b)){var c=J[b];delete J[b];s[b]=!0;f.apply(a,c)}if(!E.call(z,
b)&&!E.call(s,b))throw Error("No "+b);return z[b]}function l(a){var b,c=a?a.indexOf("!"):-1;-1<c&&(b=a.substring(0,c),a=a.substring(c+1,a.length));return[b,a]}function p(a){return function(){return x&&x.config&&x.config[a]||{}}}var f,r,u,N,z={},J={},x={},s={},E=Object.prototype.hasOwnProperty,F=[].slice,v=/\.js$/;u=function(a,b){var d,q=l(a),e=q[0];a=q[1];e&&(e=c(e,b),d=g(e));e?a=d&&d.normalize?d.normalize(a,n(b)):c(a,b):(a=c(a,b),q=l(a),e=q[0],a=q[1],e&&(d=g(e)));return{f:e?e+"!"+a:a,n:a,pr:e,p:d}};
N={require:function(a){return q(a)},exports:function(a){var b=z[a];return"undefined"!==typeof b?b:z[a]={}},module:function(a){return{id:a,uri:"",exports:z[a],config:p(a)}}};f=function(b,c,d,e){var l,p,n,k,f=[];p=typeof d;var r;e=e||b;if("undefined"===p||"function"===p){c=!c.length&&d.length?["require","exports","module"]:c;for(k=0;k<c.length;k+=1)if(n=u(c[k],e),p=n.f,"require"===p)f[k]=N.require(b);else if("exports"===p)f[k]=N.exports(b),r=!0;else if("module"===p)l=f[k]=N.module(b);else if(E.call(z,
p)||E.call(J,p)||E.call(s,p))f[k]=g(p);else if(n.p)n.p.load(n.n,q(e,!0),m(p),{}),f[k]=z[p];else throw Error(b+" missing "+p);c=d?d.apply(z[b],f):void 0;b&&(l&&l.exports!==a&&l.exports!==z[b]?z[b]=l.exports:c===a&&r||(z[b]=c))}else b&&(z[b]=d)};d=e=r=function(b,c,d,q,e){if("string"===typeof b)return N[b]?N[b](c):g(u(b,c).f);if(!b.splice){x=b;x.deps&&r(x.deps,x.callback);if(!c)return;c.splice?(b=c,c=d,d=null):b=a}c=c||function(){};"function"===typeof d&&(d=q,q=e);q?f(a,b,c,d):setTimeout(function(){f(a,
b,c,d)},4);return r};r.config=function(a){return r(a)};d._defined=z;b=function(a,b,c){b.splice||(c=b,b=[]);E.call(z,a)||E.call(J,a)||(J[a]=[a,b,c])};b.amd={jQuery:!0}})(void 0);b("../manual-deps/almond/almond",function(){});b("davinci-py/core",[],function(){return{VERSION:"0.9.247"}});b("davinci-py/base",[],function(){var a=a||{};a.global=this;a.exportPath_=function(b,c,d){b=b.split(".");d=d||a.global;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||
void 0===c?d=d[e]?d[e]:d[e]={}:d[e]=c};a.DEBUG=!0;a.getObjectByName=function(b,c){for(var d=b.split("."),e=c||a.global,g;g=d.shift();)if(a.isDefAndNotNull(e[g]))e=e[g];else return null;return e};a.globalize=function(b,c){var d=c||a.global,e;for(e in b)d[e]=b[e]};a.nullFunction=function(){};a.identityFunction=function(a,b){return a};a.abstractMethod=function(){throw Error("unimplemented abstract method");};a.typeOf=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";
if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";
return b};a.isDef=function(a){return void 0!==a};a.isNull=function(a){return null===a};a.isDefAndNotNull=function(a){return null!=a};a.isArray=function(b){return"array"==a.typeOf(b)};a.isArrayLike=function(b){var c=a.typeOf(b);return"array"==c||"object"==c&&"number"==typeof b.length};a.isDateLike=function(b){return a.isObject(b)&&"function"==typeof b.getFullYear};a.isString=function(a){return"string"==typeof a};a.isBoolean=function(a){return"boolean"==typeof a};a.isNumber=function(a){return"number"==
typeof a};a.isFunction=function(b){return"function"==a.typeOf(b)};a.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};a.getUid=function(b){return b[a.UID_PROPERTY_]||(b[a.UID_PROPERTY_]=++a.uidCounter_)};a.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(a.UID_PROPERTY_);try{delete b[a.UID_PROPERTY_]}catch(c){}};a.UID_PROPERTY_="closure_uid_"+(1E9*Math.random()>>>0);a.uidCounter_=0;a.getHashCode=a.getUid;a.removeHashCode=a.removeUid;a.cloneObject=function(b){var c=
a.typeOf(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=a.cloneObject(b[d]);return c}return b};a.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};a.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};a.bind=
function(b,c,d){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a.bind=a.bindNative_:a.bind=a.bindJs_;return a.bind.apply(null,arguments)};a.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};a.mixin=function(a,b){for(var c in b)a[c]=b[c]};a.now=a.TRUSTED_SITE&&Date.now||function(){return+new Date};a.globalEval=function(b){if(a.global.execScript)a.global.execScript(b,
"JavaScript");else if(a.global.eval)if(null==a.evalWorksForGlobals_&&(a.global.eval("var _et_ = 1;"),"undefined"!=typeof a.global._et_?(delete a.global._et_,a.evalWorksForGlobals_=!0):a.evalWorksForGlobals_=!1),a.evalWorksForGlobals_)a.global.eval(b);else{var c=a.global.document,d=c.createElement("script");d.type="text/javascript";d.defer=!1;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else throw Error("base.globalEval not available");};a.evalWorksForGlobals_=null;
a.getCssName=function(b,c){var d=function(b){return a.cssNameMapping_[b]||b},e=function(a){a=a.split("-");for(var b=[],c=0;c<a.length;c++)b.push(d(a[c]));return b.join("-")},e=a.cssNameMapping_?"BY_WHOLE"==a.cssNameMappingStyle_?d:e:function(a){return a};return c?b+"-"+e(c):e(b)};a.setCssNameMapping=function(b,c){a.cssNameMapping_=b;a.cssNameMappingStyle_=c};a.global.CLOSURE_CSS_NAME_MAPPING&&(a.cssNameMapping_=a.global.CLOSURE_CSS_NAME_MAPPING);a.getMsg=function(a,b){var c=b||{},d;for(d in c){var g=
(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),g)}return a};a.getMsgWithFallback=function(a,b){return a};a.exportSymbol=function(b,c,d){a.exportPath_(b,c,d)};a.exportProperty=function(a,b,c){a[b]=c};a.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a};a.base=function(b,c,d){var e=arguments.callee.caller;if(a.DEBUG&&!e)throw Error("arguments.caller not defined.  base.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
if(e.superClass_)return e.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),l=!1,p=b.constructor;p;p=p.superClass_&&p.superClass_.constructor)if(p.prototype[c]===e)l=!0;else if(l)return p.prototype[c].apply(b,g);if(b[c]===e)return b.constructor.prototype[c].apply(b,g);throw Error("base.base called from a method of one name to a method of a different name");};a.scope=function(b){b.call(a.global)};return a});b("davinci-py/asserts",
[],function(){function a(b,c){if(!b)throw Error(c);}return{assert:a,fail:function(b){a(!1,b)}}});b("davinci-py/tokenize",["davinci-py/base","davinci-py/asserts"],function(a,b){function c(a){return"("+Array.prototype.slice.call(arguments).join("|")+")"}function d(c,g,e,l){b.assert(a.isString(c),"message must be a string");b.assert(a.isString(g),"fileName must be a string");b.assert(a.isNumber(e),"lineNumber must be a number");b.assert(a.isNumber(l),"columnNumber must be a number");this.name="TokenError";
this.message=c;this.fileName=g;this.lineNumber=e;this.columnNumber=l}function e(c,d,g,l,m){a.isArray(g)||b.fail("begin must be Array.<number>");a.isArray(l)||b.fail("end must be Array.<number>");c=new SyntaxError(c,d);c.name="IndentationError";c.fileName=d;a.isDef(g)&&(c.lineNumber=g[0],c.columnNumber=g[1]);return c}var g=function(c,d,e){b.assert(a.isString(c),"fileName must be a string");this.fileName=c;this.callback=e;this.parenlev=this.lnum=0;this.continued=!1;this.namechars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_";
this.numchars="0123456789";this.contstr="";this.needcont=!1;this.contline=void 0;this.indents=[0];this.endprog=/.*/;this.strstart=[-1,-1];this.interactive=d;this.doneFunc=function(){for(var a=1;a<this.indents.length;++a)if(this.callback(g.Tokens.T_DEDENT,"",[this.lnum,0],[this.lnum,0],""))return"done";return this.callback(g.Tokens.T_ENDMARKER,"",[this.lnum,0],[this.lnum,0],"")?"done":"failed"}};g.Tokens={T_ENDMARKER:0,T_NAME:1,T_NUMBER:2,T_STRING:3,T_NEWLINE:4,T_INDENT:5,T_DEDENT:6,T_LPAR:7,T_RPAR:8,
T_LSQB:9,T_RSQB:10,T_COLON:11,T_COMMA:12,T_SEMI:13,T_PLUS:14,T_MINUS:15,T_STAR:16,T_SLASH:17,T_VBAR:18,T_AMPER:19,T_LESS:20,T_GREATER:21,T_EQUAL:22,T_DOT:23,T_PERCENT:24,T_BACKQUOTE:25,T_LBRACE:26,T_RBRACE:27,T_EQEQUAL:28,T_NOTEQUAL:29,T_LESSEQUAL:30,T_GREATEREQUAL:31,T_TILDE:32,T_CIRCUMFLEX:33,T_LEFTSHIFT:34,T_RIGHTSHIFT:35,T_DOUBLESTAR:36,T_PLUSEQUAL:37,T_MINEQUAL:38,T_STAREQUAL:39,T_SLASHEQUAL:40,T_PERCENTEQUAL:41,T_AMPEREQUAL:42,T_VBAREQUAL:43,T_CIRCUMFLEXEQUAL:44,T_LEFTSHIFTEQUAL:45,T_RIGHTSHIFTEQUAL:46,
T_DOUBLESTAREQUAL:47,T_DOUBLESLASH:48,T_DOUBLESLASHEQUAL:49,T_AT:50,T_OP:51,T_COMMENT:52,T_NL:53,T_RARROW:54,T_ERRORTOKEN:55,T_N_TOKENS:56,T_NT_OFFSET:256};var l=c("0[bB][01]*","0[xX][\\da-fA-F]*[lL]?","0[oO]?[0-7]*[lL]?","[1-9]\\d*[lL]?"),p=c("\\d+\\.\\d*","\\.\\d+")+function(a){return c.apply(null,arguments)+"?"}("[eE][-+]?\\d+"),p=c(p,"\\d+[eE][-+]?\\d+"),f=c("\\d+[jJ]",p+"[jJ]"),l=c(f,p,l),p=c("[ubUB]?[rR]?'''",'[ubUB]?[rR]?"""');c("[uU]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*'",'[uU]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*"');
var f=c("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","->","[+\\-*/%&|^=<>]=?","~"),r=c("\\r?\\n","[:;.,`@]"),f=c(f,"[\\][(){}]",r),r=c("[uUbB]?[rR]?'[^\\n'\\\\]*(?:\\\\.[^\\n'\\\\]*)*"+c("'","\\\\\\r?\\n"),'[uUbB]?[rR]?"[^\\n"\\\\]*(?:\\\\.[^\\n"\\\\]*)*'+c('"',"\\\\\\r?\\n")),p=c("\\\\\\r?\\n","#[^\\r\\n]*",p),u="^"+c(p,l,f,r,"[a-zA-Z_]\\w*"),N={"'''":!0,'"""':!0,"r'''":!0,'r"""':!0,"R'''":!0,'R"""':!0,"u'''":!0,'u"""':!0,"U'''":!0,'U"""':!0,"b'''":!0,'b"""':!0,"B'''":!0,'B"""':!0,"ur'''":!0,'ur"""':!0,
"Ur'''":!0,'Ur"""':!0,"uR'''":!0,'uR"""':!0,"UR'''":!0,'UR"""':!0,"br'''":!0,'br"""':!0,"Br'''":!0,'Br"""':!0,"bR'''":!0,'bR"""':!0,"BR'''":!0,'BR"""':!0},z={"'":!0,'"':!0,"r'":!0,'r"':!0,"R'":!0,'R"':!0,"u'":!0,'u"':!0,"U'":!0,'U"':!0,"b'":!0,'b"':!0,"B'":!0,'B"':!0,"ur'":!0,'ur"':!0,"Ur'":!0,'Ur"':!0,"uR'":!0,'uR"':!0,"UR'":!0,'UR"':!0,"br'":!0,'br"':!0,"Br'":!0,'Br"':!0,"bR'":!0,'bR"':!0,"BR'":!0,'BR"':!0};(function(){for(var a in N);for(a in z);})();d.prototype=new SyntaxError;d.prototype.constructor=
d;g.prototype.generateTokens=function(a){var b,c,l,q,p,f=RegExp(u);c=/[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*'''/g;p=/[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*"""/g;var r={"'":/^[^'\\]*(?:\\.[^'\\]*)*'/g,'"':/^[^"\\]*(?:\\.[^"\\]*)*"/g,"'''":c,'"""':p,"r'''":c,'r"""':p,"u'''":c,'u"""':p,"b'''":c,'b"""':p,"ur'''":c,'ur"""':p,"br'''":c,'br"""':p,"R'''":c,'R"""':p,"U'''":c,'U"""':p,"B'''":c,'B"""':p,"uR'''":c,'uR"""':p,"Ur'''":c,'Ur"""':p,"UR'''":c,'UR"""':p,"bR'''":c,'bR"""':p,"Br'''":c,'Br"""':p,"BR'''":c,'BR"""':p,
r:null,R:null,u:null,U:null,b:null,B:null};a||(a="");this.lnum+=1;c=0;p=a.length;if(0<this.contstr.length){if(!a)throw new d("EOF in multi-line string",this.fileName,this.strstart[0],this.strstart[1]);this.endprog.lastIndex=0;if(b=this.endprog.test(a)){c=q=this.endprog.lastIndex;if(this.callback(g.Tokens.T_STRING,this.contstr+a.substring(0,q),this.strstart,[this.lnum,q],this.contline+a))return"done";this.contstr="";this.needcont=!1;this.contline=void 0}else{if(this.needcont&&"\\\n"!==a.substring(a.length-
2)&&"\\\r\n"!==a.substring(a.length-3)){if(this.callback(g.Tokens.T_ERRORTOKEN,this.contstr+a,this.strstart,[this.lnum,a.length],this.contline))return"done";this.contstr="";this.contline=void 0}else this.contstr+=a,this.contline+=a;return!1}}else if(0!==this.parenlev||this.continued){if(!a)throw new d("EOF in multi-line statement",this.fileName,this.lnum,0);this.continued=!1}else{if(!a)return this.doneFunc();for(l=0;c<p;){if(" "===a.charAt(c))l+=1;else if("\t"===a.charAt(c))l=8*(l/8+1);else if("\f"===
a.charAt(c))l=0;else break;c+=1}if(c===p)return this.doneFunc();if(-1!=="#\r\n".indexOf(a.charAt(c))){if("#"===a.charAt(c)){f=a.substring(c);for(p=f.length;0<p&&-1!=="\r\n".indexOf(f.charAt(p-1));--p);f=f.substring(0,p);p=c+f.length;return this.callback(g.Tokens.T_COMMENT,f,[this.lnum,c],[this.lnum,c+f.length],a)||this.callback(g.Tokens.T_NL,a.substring(p),[this.lnum,p],[this.lnum,a.length],a)?"done":!1}if(this.callback(g.Tokens.T_NL,a.substring(c),[this.lnum,c],[this.lnum,a.length],a))return"done";
if(!this.interactive)return!1}if(l>this.indents[this.indents.length-1]&&(this.indents.push(l),this.callback(g.Tokens.T_INDENT,a.substring(0,c),[this.lnum,0],[this.lnum,c],a)))return"done";for(;l<this.indents[this.indents.length-1];){var k;a:{k=this.indents;for(b=k.length;b--;)if(k[b]===l){k=!0;break a}k=!1}if(!k)throw e("unindent does not match any outer indentation level",this.fileName,[this.lnum,0],[this.lnum,c],a);this.indents.splice(this.indents.length-1,1);if(this.callback(g.Tokens.T_DEDENT,
"",[this.lnum,c],[this.lnum,c],a))return"done"}}for(;c<p;){for(l=a.charAt(c);" "===l||"\f"===l||"\t"===l;)c+=1,l=a.charAt(c);f.lastIndex=0;if(k=f.exec(a.substring(c))){l=c;q=l+k[1].length;k=[this.lnum,l];b=[this.lnum,q];c=q;q=a.substring(l,q);var H=a.charAt(l);if(-1!==this.numchars.indexOf(H)||"."===H&&"."!==q){if(this.callback(g.Tokens.T_NUMBER,q,k,b,a))return"done"}else if("\r"===H||"\n"===H){if(l=g.Tokens.T_NEWLINE,0<this.parenlev&&(l=g.Tokens.T_NL),this.callback(l,q,k,b,a))return"done"}else if("#"===
H){if(this.callback(g.Tokens.T_COMMENT,q,k,b,a))return"done"}else if(N.hasOwnProperty(q))if(this.endprog=r[q],this.endprog.lastIndex=0,b=this.endprog.test(a.substring(c))){if(c=this.endprog.lastIndex+c,q=a.substring(l,c),this.callback(g.Tokens.T_STRING,q,k,[this.lnum,c],a))return"done"}else{this.strstart=[this.lnum,l];this.contstr=a.substring(l);this.contline=a;break}else if(z.hasOwnProperty(H)||z.hasOwnProperty(q.substring(0,2))||z.hasOwnProperty(q.substring(0,3)))if("\n"===q[q.length-1]){this.strstart=
[this.lnum,l];this.endprog=r[H]||r[q[1]]||r[q[2]];this.contstr=a.substring(l);this.needcont=!0;this.contline=a;break}else{if(this.callback(g.Tokens.T_STRING,q,k,b,a))return"done"}else if(-1!==this.namechars.indexOf(H)){if(this.callback(g.Tokens.T_NAME,q,k,b,a))return"done"}else if("\\"===H){if(this.callback(g.Tokens.T_NL,q,k,[this.lnum,c],a))return"done";this.continued=!0}else if(-1!=="([{".indexOf(H)?this.parenlev+=1:-1!==")]}".indexOf(H)&&(this.parenlev-=1),this.callback(g.Tokens.T_OP,q,k,b,a))return"done"}else{if(this.callback(g.Tokens.T_ERRORTOKEN,
a.charAt(c),[this.lnum,c],[this.lnum,c+1],a))return"done";c+=1}}return!1};g.tokenNames={0:"T_ENDMARKER",1:"T_NAME",2:"T_NUMBER",3:"T_STRING",4:"T_NEWLINE",5:"T_INDENT",6:"T_DEDENT",7:"T_LPAR",8:"T_RPAR",9:"T_LSQB",10:"T_RSQB",11:"T_COLON",12:"T_COMMA",13:"T_SEMI",14:"T_PLUS",15:"T_MINUS",16:"T_STAR",17:"T_SLASH",18:"T_VBAR",19:"T_AMPER",20:"T_LESS",21:"T_GREATER",22:"T_EQUAL",23:"T_DOT",24:"T_PERCENT",25:"T_BACKQUOTE",26:"T_LBRACE",27:"T_RBRACE",28:"T_EQEQUAL",29:"T_NOTEQUAL",30:"T_LESSEQUAL",31:"T_GREATEREQUAL",
32:"T_TILDE",33:"T_CIRCUMFLEX",34:"T_LEFTSHIFT",35:"T_RIGHTSHIFT",36:"T_DOUBLESTAR",37:"T_PLUSEQUAL",38:"T_MINEQUAL",39:"T_STAREQUAL",40:"T_SLASHEQUAL",41:"T_PERCENTEQUAL",42:"T_AMPEREQUAL",43:"T_VBAREQUAL",44:"T_CIRCUMFLEXEQUAL",45:"T_LEFTSHIFTEQUAL",46:"T_RIGHTSHIFTEQUAL",47:"T_DOUBLESTAREQUAL",48:"T_DOUBLESLASH",49:"T_DOUBLESLASHEQUAL",50:"T_AT",51:"T_OP",52:"T_COMMENT",53:"T_NL",54:"T_RARROW",55:"T_ERRORTOKEN",56:"T_N_TOKENS",256:"T_NT_OFFSET"};return g});b("davinci-py/tables",["davinci-py/tokenize"],
function(a){return{OpMap:{"(":a.Tokens.T_LPAR,")":a.Tokens.T_RPAR,"[":a.Tokens.T_LSQB,"]":a.Tokens.T_RSQB,":":a.Tokens.T_COLON,",":a.Tokens.T_COMMA,";":a.Tokens.T_SEMI,"+":a.Tokens.T_PLUS,"-":a.Tokens.T_MINUS,"*":a.Tokens.T_STAR,"/":a.Tokens.T_SLASH,"|":a.Tokens.T_VBAR,"&":a.Tokens.T_AMPER,"<":a.Tokens.T_LESS,">":a.Tokens.T_GREATER,"=":a.Tokens.T_EQUAL,".":a.Tokens.T_DOT,"%":a.Tokens.T_PERCENT,"`":a.Tokens.T_BACKQUOTE,"{":a.Tokens.T_LBRACE,"}":a.Tokens.T_RBRACE,"@":a.Tokens.T_AT,"==":a.Tokens.T_EQEQUAL,
"!=":a.Tokens.T_NOTEQUAL,"<>":a.Tokens.T_NOTEQUAL,"<=":a.Tokens.T_LESSEQUAL,">=":a.Tokens.T_GREATEREQUAL,"~":a.Tokens.T_TILDE,"^":a.Tokens.T_CIRCUMFLEX,"<<":a.Tokens.T_LEFTSHIFT,">>":a.Tokens.T_RIGHTSHIFT,"**":a.Tokens.T_DOUBLESTAR,"+=":a.Tokens.T_PLUSEQUAL,"-=":a.Tokens.T_MINEQUAL,"*=":a.Tokens.T_STAREQUAL,"/=":a.Tokens.T_SLASHEQUAL,"%=":a.Tokens.T_PERCENTEQUAL,"&=":a.Tokens.T_AMPEREQUAL,"|=":a.Tokens.T_VBAREQUAL,"^=":a.Tokens.T_CIRCUMFLEXEQUAL,"<<=":a.Tokens.T_LEFTSHIFTEQUAL,">>=":a.Tokens.T_RIGHTSHIFTEQUAL,
"**=":a.Tokens.T_DOUBLESTAREQUAL,"//":a.Tokens.T_DOUBLESLASH,"//=":a.Tokens.T_DOUBLESLASHEQUAL,"->":a.Tokens.T_RARROW},ParseTables:{sym:{AndExpr:257,ArithmeticExpr:258,AtomExpr:259,BitwiseAndExpr:260,BitwiseOrExpr:261,BitwiseXorExpr:262,ComparisonExpr:263,ExprList:264,ExprStmt:265,GeometricExpr:266,GlobalStmt:267,IfExpr:268,LambdaExpr:269,NonLocalStmt:270,NotExpr:271,OrExpr:272,PowerExpr:273,ShiftExpr:274,UnaryExpr:275,YieldExpr:276,arglist:277,argument:278,assert_stmt:279,augassign:280,break_stmt:281,
classdef:282,comp_op:283,compound_stmt:284,continue_stmt:285,decorated:286,decorator:287,decorators:288,del_stmt:289,dictmaker:290,dotted_as_name:291,dotted_as_names:292,dotted_name:293,encoding_decl:294,eval_input:295,except_clause:296,exec_stmt:297,file_input:298,flow_stmt:299,for_stmt:300,fpdef:301,fplist:302,funcdef:303,gen_for:304,gen_if:305,gen_iter:306,if_stmt:307,import_as_name:308,import_as_names:309,import_from:310,import_name:311,import_stmt:312,list_for:313,list_if:314,list_iter:315,listmaker:316,
old_LambdaExpr:317,old_test:318,parameters:319,pass_stmt:320,print_stmt:321,raise_stmt:322,return_stmt:323,simple_stmt:324,single_input:256,sliceop:325,small_stmt:326,stmt:327,subscript:328,subscriptlist:329,suite:330,testlist:331,testlist1:332,testlist_gexp:333,testlist_safe:334,trailer:335,try_stmt:336,varargslist:337,while_stmt:338,with_stmt:339,with_var:340,yield_stmt:341},number2symbol:{256:"single_input",257:"AndExpr",258:"ArithmeticExpr",259:"AtomExpr",260:"BitwiseAndExpr",261:"BitwiseOrExpr",
262:"BitwiseXorExpr",263:"ComparisonExpr",264:"ExprList",265:"ExprStmt",266:"GeometricExpr",267:"GlobalStmt",268:"IfExpr",269:"LambdaExpr",270:"NonLocalStmt",271:"NotExpr",272:"OrExpr",273:"PowerExpr",274:"ShiftExpr",275:"UnaryExpr",276:"YieldExpr",277:"arglist",278:"argument",279:"assert_stmt",280:"augassign",281:"break_stmt",282:"classdef",283:"comp_op",284:"compound_stmt",285:"continue_stmt",286:"decorated",287:"decorator",288:"decorators",289:"del_stmt",290:"dictmaker",291:"dotted_as_name",292:"dotted_as_names",
293:"dotted_name",294:"encoding_decl",295:"eval_input",296:"except_clause",297:"exec_stmt",298:"file_input",299:"flow_stmt",300:"for_stmt",301:"fpdef",302:"fplist",303:"funcdef",304:"gen_for",305:"gen_if",306:"gen_iter",307:"if_stmt",308:"import_as_name",309:"import_as_names",310:"import_from",311:"import_name",312:"import_stmt",313:"list_for",314:"list_if",315:"list_iter",316:"listmaker",317:"old_LambdaExpr",318:"old_test",319:"parameters",320:"pass_stmt",321:"print_stmt",322:"raise_stmt",323:"return_stmt",
324:"simple_stmt",325:"sliceop",326:"small_stmt",327:"stmt",328:"subscript",329:"subscriptlist",330:"suite",331:"testlist",332:"testlist1",333:"testlist_gexp",334:"testlist_safe",335:"trailer",336:"try_stmt",337:"varargslist",338:"while_stmt",339:"with_stmt",340:"with_var",341:"yield_stmt"},dfas:{256:[[[[1,1],[2,1],[3,2]],[[0,1]],[[2,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,
37:1}],257:[[[[38,1]],[[39,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],258:[[[[40,1]],[[25,0],[37,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],259:[[[[18,1],[8,2],[32,5],[29,4],[9,3],[14,6],[21,2]],[[18,1],[0,1]],[[0,2]],[[41,7],[42,2]],[[43,2],[44,8],[45,8]],[[46,9],[47,2]],[[48,10]],[[42,2]],[[43,2]],[[47,2]],[[14,2]]],{8:1,9:1,14:1,18:1,21:1,29:1,32:1}],260:[[[[49,1]],[[50,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],261:[[[[51,1]],[[52,0],[0,
1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],262:[[[[53,1]],[[54,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],263:[[[[55,1]],[[56,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],264:[[[[55,1]],[[57,2],[0,1]],[[55,1],[0,2]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],265:[[[[58,1]],[[59,2],[60,3],[0,1]],[[58,4],[45,4]],[[58,5],[45,5]],[[0,4]],[[60,3],[0,5]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],266:[[[[61,1]],[[62,0],[63,0],[64,0],
[65,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],267:[[[[27,1]],[[21,2]],[[57,1],[0,2]]],{27:1}],268:[[[[66,1],[67,2]],[[0,1]],[[31,3],[0,2]],[[67,4]],[[68,5]],[[69,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],269:[[[[11,1]],[[70,2],[71,3]],[[69,4]],[[70,2]],[[0,4]]],{11:1}],270:[[[[13,1]],[[21,2]],[[57,1],[0,2]]],{13:1}],271:[[[[7,1],[72,2]],[[38,2]],[[0,2]]],{6:1,7:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],272:[[[[73,1]],[[74,0],[0,1]]],{6:1,7:1,8:1,9:1,14:1,
18:1,21:1,25:1,29:1,32:1,37:1}],273:[[[[75,1]],[[76,2],[77,1],[0,1]],[[49,3]],[[0,3]]],{8:1,9:1,14:1,18:1,21:1,29:1,32:1}],274:[[[[78,1]],[[79,0],[80,0],[0,1]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],275:[[[[25,1],[6,1],[37,1],[81,2]],[[49,2]],[[0,2]]],{6:1,8:1,9:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],276:[[[[26,1]],[[58,2],[0,1]],[[0,2]]],{26:1}],277:[[[[63,1],[82,2],[76,3]],[[69,4]],[[57,5],[0,2]],[[69,6]],[[57,7],[0,4]],[[63,1],[82,2],[76,3],[0,5]],[[0,6]],[[82,4],[76,3]]],{6:1,7:1,
8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,63:1,76:1}],278:[[[[69,1]],[[83,2],[60,3],[0,1]],[[0,2]],[[69,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],279:[[[[20,1]],[[69,2]],[[57,3],[0,2]],[[69,4]],[[0,4]]],{20:1}],280:[[[[84,1],[85,1],[86,1],[87,1],[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],{84:1,85:1,86:1,87:1,88:1,89:1,90:1,91:1,92:1,93:1,94:1,95:1}],281:[[[[33,1]],[[0,1]]],{33:1}],282:[[[[10,1]],[[21,2]],[[70,3],[29,4]],[[96,5]],[[43,6],[58,7]],[[0,
5]],[[70,3]],[[43,6]]],{10:1}],283:[[[[97,1],[98,1],[7,2],[99,1],[97,1],[100,1],[101,1],[102,3],[103,1],[104,1]],[[0,1]],[[100,1]],[[7,1],[0,3]]],{7:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1}],284:[[[[105,1],[106,1],[107,1],[108,1],[109,1],[110,1],[111,1],[112,1]],[[0,1]]],{4:1,10:1,15:1,17:1,28:1,31:1,35:1,36:1}],285:[[[[34,1]],[[0,1]]],{34:1}],286:[[[[113,1]],[[111,2],[108,2]],[[0,2]]],{35:1}],287:[[[[35,1]],[[114,2]],[[29,4],[2,3]],[[0,3]],[[43,5],[115,6]],[[2,3]],[[43,5]]],{35:1}],288:[[[[116,
1]],[[116,1],[0,1]]],{35:1}],289:[[[[22,1]],[[117,2]],[[0,2]]],{22:1}],290:[[[[69,1]],[[70,2]],[[69,3]],[[57,4],[0,3]],[[69,1],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],291:[[[[114,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],{21:1}],292:[[[[119,1]],[[57,0],[0,1]]],{21:1}],293:[[[[21,1]],[[120,0],[0,1]]],{21:1}],294:[[[[21,1]],[[0,1]]],{21:1}],295:[[[[58,1]],[[2,1],[121,2]],[[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],296:[[[[122,1]],[[69,2],[0,1]],[[118,3],
[57,3],[0,2]],[[69,4]],[[0,4]]],{122:1}],297:[[[[16,1]],[[55,2]],[[100,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],{16:1}],298:[[[[2,0],[121,1],[123,0]],[[0,1]]],{2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,121:1}],299:[[[[124,1],[125,1],[126,1],[127,1],[128,1]],[[0,1]]],{5:1,19:1,26:1,33:1,34:1}],300:[[[[28,1]],[[117,2]],[[100,3]],[[58,4]],[[70,5]],[[96,6]],[[68,7],
[0,6]],[[70,8]],[[96,9]],[[0,9]]],{28:1}],301:[[[[29,1],[21,2]],[[129,3]],[[0,2]],[[43,2]]],{21:1,29:1}],302:[[[[130,1]],[[57,2],[0,1]],[[130,1],[0,2]]],{21:1,29:1}],303:[[[[4,1]],[[21,2]],[[131,3]],[[70,4]],[[96,5]],[[0,5]]],{4:1}],304:[[[[28,1]],[[117,2]],[[100,3]],[[67,4]],[[132,5],[0,4]],[[0,5]]],{28:1}],305:[[[[31,1]],[[133,2]],[[132,3],[0,2]],[[0,3]]],{31:1}],306:[[[[83,1],[134,1]],[[0,1]]],{28:1,31:1}],307:[[[[31,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[135,1],[0,4]],[[70,6]],[[96,7]],[[0,7]]],
{31:1}],308:[[[[21,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],{21:1}],309:[[[[136,1]],[[57,2],[0,1]],[[136,1],[0,2]]],{21:1}],310:[[[[30,1]],[[114,2],[120,3]],[[24,4]],[[114,2],[24,4],[120,3]],[[137,5],[63,5],[29,6]],[[0,5]],[[137,7]],[[43,5]]],{30:1}],311:[[[[24,1]],[[138,2]],[[0,2]]],{24:1}],312:[[[[139,1],[140,1]],[[0,1]]],{24:1,30:1}],313:[[[[28,1]],[[117,2]],[[100,3]],[[141,4]],[[142,5],[0,4]],[[0,5]]],{28:1}],314:[[[[31,1]],[[133,2]],[[142,3],[0,2]],[[0,3]]],{31:1}],315:[[[[143,1],[144,1]],[[0,1]]],
{28:1,31:1}],316:[[[[69,1]],[[143,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],317:[[[[11,1]],[[70,2],[71,3]],[[133,4]],[[70,2]],[[0,4]]],{11:1}],318:[[[[67,1],[145,1]],[[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],319:[[[[29,1]],[[43,2],[71,3]],[[0,2]],[[43,2]]],{29:1}],320:[[[[23,1]],[[0,1]]],{23:1}],321:[[[[12,1]],[[69,2],[79,3],[0,1]],[[57,4],[0,2]],[[69,5]],[[69,2],[0,4]],[[57,6],[0,5]],[[69,7]],[[57,
8],[0,7]],[[69,7],[0,8]]],{12:1}],322:[[[[5,1]],[[69,2],[0,1]],[[57,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],{5:1}],323:[[[[19,1]],[[58,2],[0,1]],[[0,2]]],{19:1}],324:[[[[146,1]],[[2,2],[147,3]],[[0,2]],[[146,1],[2,2]]],{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],325:[[[[70,1]],[[69,2],[0,1]],[[0,2]]],{70:1}],326:[[[[148,1],[149,1],[150,1],[151,1],[152,1],[153,1],[154,1],[155,1],[156,1],[157,1]],[[0,1]]],
{5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],327:[[[[1,1],[3,1]],[[0,1]]],{4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1}],328:[[[[70,1],[69,2],[120,3]],[[158,4],[69,5],[0,1]],[[70,1],[0,2]],[[120,6]],[[0,4]],[[158,4],[0,5]],[[120,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,70:1,120:1}],
329:[[[[159,1]],[[57,2],[0,1]],[[159,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1,70:1,120:1}],330:[[[[1,1],[2,2]],[[0,1]],[[160,3]],[[123,4]],[[161,1],[123,4]]],{2:1,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1,16:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,32:1,33:1,34:1,37:1}],331:[[[[69,1]],[[57,2],[0,1]],[[69,1],[0,2]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],332:[[[[69,1]],[[57,0],[0,1]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,
37:1}],333:[[[[69,1]],[[83,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],334:[[[[133,1]],[[57,2],[0,1]],[[133,3]],[[57,4],[0,3]],[[133,3],[0,4]]],{6:1,7:1,8:1,9:1,11:1,14:1,18:1,21:1,25:1,29:1,32:1,37:1}],335:[[[[29,1],[120,2],[32,3]],[[43,4],[115,5]],[[21,4]],[[162,6]],[[0,4]],[[43,4]],[[47,4]]],{29:1,32:1,120:1}],336:[[[[15,1]],[[70,2]],[[96,3]],[[163,4],[164,5]],[[70,6]],[[70,7]],[[96,8]],[[96,9]],[[163,4],[68,10],[164,5],[0,
8]],[[0,9]],[[70,11]],[[96,12]],[[164,5],[0,12]]],{15:1}],337:[[[[63,1],[130,2],[76,3]],[[21,4]],[[60,5],[57,6],[0,2]],[[21,7]],[[57,8],[0,4]],[[69,9]],[[63,1],[130,2],[76,3],[0,6]],[[0,7]],[[76,3]],[[57,6],[0,9]]],{21:1,29:1,63:1,76:1}],338:[[[[17,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[0,4]],[[70,6]],[[96,7]],[[0,7]]],{17:1}],339:[[[[36,1]],[[69,2]],[[70,3],[165,4]],[[96,5]],[[70,3]],[[0,5]]],{36:1}],340:[[[[118,1]],[[55,2]],[[0,2]]],{118:1}],341:[[[[45,1]],[[0,1]]],{26:1}]},states:[[[[1,1],[2,
1],[3,2]],[[0,1]],[[2,1]]],[[[38,1]],[[39,0],[0,1]]],[[[40,1]],[[25,0],[37,0],[0,1]]],[[[18,1],[8,2],[32,5],[29,4],[9,3],[14,6],[21,2]],[[18,1],[0,1]],[[0,2]],[[41,7],[42,2]],[[43,2],[44,8],[45,8]],[[46,9],[47,2]],[[48,10]],[[42,2]],[[43,2]],[[47,2]],[[14,2]]],[[[49,1]],[[50,0],[0,1]]],[[[51,1]],[[52,0],[0,1]]],[[[53,1]],[[54,0],[0,1]]],[[[55,1]],[[56,0],[0,1]]],[[[55,1]],[[57,2],[0,1]],[[55,1],[0,2]]],[[[58,1]],[[59,2],[60,3],[0,1]],[[58,4],[45,4]],[[58,5],[45,5]],[[0,4]],[[60,3],[0,5]]],[[[61,1]],
[[62,0],[63,0],[64,0],[65,0],[0,1]]],[[[27,1]],[[21,2]],[[57,1],[0,2]]],[[[66,1],[67,2]],[[0,1]],[[31,3],[0,2]],[[67,4]],[[68,5]],[[69,1]]],[[[11,1]],[[70,2],[71,3]],[[69,4]],[[70,2]],[[0,4]]],[[[13,1]],[[21,2]],[[57,1],[0,2]]],[[[7,1],[72,2]],[[38,2]],[[0,2]]],[[[73,1]],[[74,0],[0,1]]],[[[75,1]],[[76,2],[77,1],[0,1]],[[49,3]],[[0,3]]],[[[78,1]],[[79,0],[80,0],[0,1]]],[[[25,1],[6,1],[37,1],[81,2]],[[49,2]],[[0,2]]],[[[26,1]],[[58,2],[0,1]],[[0,2]]],[[[63,1],[82,2],[76,3]],[[69,4]],[[57,5],[0,2]],
[[69,6]],[[57,7],[0,4]],[[63,1],[82,2],[76,3],[0,5]],[[0,6]],[[82,4],[76,3]]],[[[69,1]],[[83,2],[60,3],[0,1]],[[0,2]],[[69,2]]],[[[20,1]],[[69,2]],[[57,3],[0,2]],[[69,4]],[[0,4]]],[[[84,1],[85,1],[86,1],[87,1],[88,1],[89,1],[90,1],[91,1],[92,1],[93,1],[94,1],[95,1]],[[0,1]]],[[[33,1]],[[0,1]]],[[[10,1]],[[21,2]],[[70,3],[29,4]],[[96,5]],[[43,6],[58,7]],[[0,5]],[[70,3]],[[43,6]]],[[[97,1],[98,1],[7,2],[99,1],[97,1],[100,1],[101,1],[102,3],[103,1],[104,1]],[[0,1]],[[100,1]],[[7,1],[0,3]]],[[[105,1],
[106,1],[107,1],[108,1],[109,1],[110,1],[111,1],[112,1]],[[0,1]]],[[[34,1]],[[0,1]]],[[[113,1]],[[111,2],[108,2]],[[0,2]]],[[[35,1]],[[114,2]],[[29,4],[2,3]],[[0,3]],[[43,5],[115,6]],[[2,3]],[[43,5]]],[[[116,1]],[[116,1],[0,1]]],[[[22,1]],[[117,2]],[[0,2]]],[[[69,1]],[[70,2]],[[69,3]],[[57,4],[0,3]],[[69,1],[0,4]]],[[[114,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],[[[119,1]],[[57,0],[0,1]]],[[[21,1]],[[120,0],[0,1]]],[[[21,1]],[[0,1]]],[[[58,1]],[[2,1],[121,2]],[[0,2]]],[[[122,1]],[[69,2],[0,1]],[[118,
3],[57,3],[0,2]],[[69,4]],[[0,4]]],[[[16,1]],[[55,2]],[[100,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],[[[2,0],[121,1],[123,0]],[[0,1]]],[[[124,1],[125,1],[126,1],[127,1],[128,1]],[[0,1]]],[[[28,1]],[[117,2]],[[100,3]],[[58,4]],[[70,5]],[[96,6]],[[68,7],[0,6]],[[70,8]],[[96,9]],[[0,9]]],[[[29,1],[21,2]],[[129,3]],[[0,2]],[[43,2]]],[[[130,1]],[[57,2],[0,1]],[[130,1],[0,2]]],[[[4,1]],[[21,2]],[[131,3]],[[70,4]],[[96,5]],[[0,5]]],[[[28,1]],[[117,2]],[[100,3]],[[67,4]],[[132,5],[0,4]],[[0,5]]],
[[[31,1]],[[133,2]],[[132,3],[0,2]],[[0,3]]],[[[83,1],[134,1]],[[0,1]]],[[[31,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[135,1],[0,4]],[[70,6]],[[96,7]],[[0,7]]],[[[21,1]],[[118,2],[0,1]],[[21,3]],[[0,3]]],[[[136,1]],[[57,2],[0,1]],[[136,1],[0,2]]],[[[30,1]],[[114,2],[120,3]],[[24,4]],[[114,2],[24,4],[120,3]],[[137,5],[63,5],[29,6]],[[0,5]],[[137,7]],[[43,5]]],[[[24,1]],[[138,2]],[[0,2]]],[[[139,1],[140,1]],[[0,1]]],[[[28,1]],[[117,2]],[[100,3]],[[141,4]],[[142,5],[0,4]],[[0,5]]],[[[31,1]],[[133,2]],
[[142,3],[0,2]],[[0,3]]],[[[143,1],[144,1]],[[0,1]]],[[[69,1]],[[143,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],[[[11,1]],[[70,2],[71,3]],[[133,4]],[[70,2]],[[0,4]]],[[[67,1],[145,1]],[[0,1]]],[[[29,1]],[[43,2],[71,3]],[[0,2]],[[43,2]]],[[[23,1]],[[0,1]]],[[[12,1]],[[69,2],[79,3],[0,1]],[[57,4],[0,2]],[[69,5]],[[69,2],[0,4]],[[57,6],[0,5]],[[69,7]],[[57,8],[0,7]],[[69,7],[0,8]]],[[[5,1]],[[69,2],[0,1]],[[57,3],[0,2]],[[69,4]],[[57,5],[0,4]],[[69,6]],[[0,6]]],[[[19,1]],[[58,2],[0,1]],
[[0,2]]],[[[146,1]],[[2,2],[147,3]],[[0,2]],[[146,1],[2,2]]],[[[70,1]],[[69,2],[0,1]],[[0,2]]],[[[148,1],[149,1],[150,1],[151,1],[152,1],[153,1],[154,1],[155,1],[156,1],[157,1]],[[0,1]]],[[[1,1],[3,1]],[[0,1]]],[[[70,1],[69,2],[120,3]],[[158,4],[69,5],[0,1]],[[70,1],[0,2]],[[120,6]],[[0,4]],[[158,4],[0,5]],[[120,4]]],[[[159,1]],[[57,2],[0,1]],[[159,1],[0,2]]],[[[1,1],[2,2]],[[0,1]],[[160,3]],[[123,4]],[[161,1],[123,4]]],[[[69,1]],[[57,2],[0,1]],[[69,1],[0,2]]],[[[69,1]],[[57,0],[0,1]]],[[[69,1]],
[[83,2],[57,3],[0,1]],[[0,2]],[[69,4],[0,3]],[[57,3],[0,4]]],[[[133,1]],[[57,2],[0,1]],[[133,3]],[[57,4],[0,3]],[[133,3],[0,4]]],[[[29,1],[120,2],[32,3]],[[43,4],[115,5]],[[21,4]],[[162,6]],[[0,4]],[[43,4]],[[47,4]]],[[[15,1]],[[70,2]],[[96,3]],[[163,4],[164,5]],[[70,6]],[[70,7]],[[96,8]],[[96,9]],[[163,4],[68,10],[164,5],[0,8]],[[0,9]],[[70,11]],[[96,12]],[[164,5],[0,12]]],[[[63,1],[130,2],[76,3]],[[21,4]],[[60,5],[57,6],[0,2]],[[21,7]],[[57,8],[0,4]],[[69,9]],[[63,1],[130,2],[76,3],[0,6]],[[0,7]],
[[76,3]],[[57,6],[0,9]]],[[[17,1]],[[69,2]],[[70,3]],[[96,4]],[[68,5],[0,4]],[[70,6]],[[96,7]],[[0,7]]],[[[36,1]],[[69,2]],[[70,3],[165,4]],[[96,5]],[[70,3]],[[0,5]]],[[[118,1]],[[55,2]],[[0,2]]],[[[45,1]],[[0,1]]]],labels:[[0,"EMPTY"],[324,null],[4,null],[284,null],[1,"def"],[1,"raise"],[32,null],[1,"not"],[2,null],[26,null],[1,"class"],[1,"lambda"],[1,"print"],[1,"nonlocal"],[25,null],[1,"try"],[1,"exec"],[1,"while"],[3,null],[1,"return"],[1,"assert"],[1,null],[1,"del"],[1,"pass"],[1,"import"],
[15,null],[1,"yield"],[1,"global"],[1,"for"],[7,null],[1,"from"],[1,"if"],[9,null],[1,"break"],[1,"continue"],[50,null],[1,"with"],[14,null],[271,null],[1,"and"],[266,null],[290,null],[27,null],[8,null],[333,null],[276,null],[316,null],[10,null],[332,null],[275,null],[19,null],[262,null],[18,null],[260,null],[33,null],[258,null],[283,null],[12,null],[331,null],[280,null],[22,null],[274,null],[48,null],[16,null],[17,null],[24,null],[269,null],[272,null],[1,"else"],[268,null],[11,null],[337,null],[263,
null],[257,null],[1,"or"],[259,null],[36,null],[335,null],[261,null],[35,null],[34,null],[273,null],[278,null],[304,null],[46,null],[39,null],[41,null],[47,null],[42,null],[43,null],[37,null],[44,null],[49,null],[40,null],[38,null],[45,null],[330,null],[29,null],[21,null],[28,null],[1,"in"],[30,null],[1,"is"],[31,null],[20,null],[336,null],[307,null],[300,null],[282,null],[339,null],[338,null],[303,null],[286,null],[288,null],[293,null],[277,null],[287,null],[264,null],[1,"as"],[291,null],[23,null],
[0,null],[1,"except"],[327,null],[281,null],[285,null],[322,null],[323,null],[341,null],[302,null],[301,null],[319,null],[306,null],[318,null],[305,null],[1,"elif"],[308,null],[309,null],[292,null],[311,null],[310,null],[334,null],[315,null],[313,null],[314,null],[317,null],[326,null],[13,null],[270,null],[267,null],[265,null],[320,null],[321,null],[289,null],[297,null],[299,null],[279,null],[312,null],[325,null],[328,null],[5,null],[6,null],[329,null],[296,null],[1,"finally"],[340,null]],keywords:{and:39,
as:118,assert:20,"break":33,"class":10,"continue":34,def:4,del:22,elif:135,"else":68,except:122,exec:16,"finally":164,"for":28,from:30,global:27,"if":31,"import":24,"in":100,is:102,lambda:11,nonlocal:13,not:7,or:74,pass:23,print:12,raise:5,"return":19,"try":15,"while":17,"with":36,yield:26},tokens:{0:121,1:21,2:8,3:18,4:2,5:160,6:161,7:29,8:43,9:32,10:47,11:70,12:57,13:147,14:37,15:25,16:63,17:64,18:52,19:50,20:104,21:98,22:60,23:120,24:65,25:14,26:9,27:42,28:99,29:97,30:101,31:103,32:6,33:54,34:80,
35:79,36:76,37:90,38:94,39:85,40:93,41:86,42:88,43:89,44:91,45:95,46:84,47:87,48:62,49:92,50:35},start:256}}});b("davinci-py/astnodes",[],function(){function a(){}function b(){}function c(){}function d(){}function e(){}function g(){}function l(){}function p(){}function f(){}function r(){}function u(){}function N(){}function z(){}function J(){}function x(){}function s(){}function E(){}function F(){}function v(){}function D(){}function y(){}function B(){}function A(){}function w(){}function O(){}function K(){}
function R(){}function P(){}function C(){}function I(){}function Q(){}function T(){}function S(){}function V(){}function W(a){this.body=a;return this}function L(a){this.body=a;return this}function X(a){this.body=a;return this}function t(a){this.body=a;return this}function M(a,b,c,d,g,e){this.name=a;this.args=b;this.body=c;this.decorator_list=d;this.lineno=g;this.col_offset=e;return this}function Y(a,b,c,d,g,e){this.name=a;this.bases=b;this.body=c;this.decorator_list=d;this.lineno=g;this.col_offset=
e;return this}function U(a,b,c){this.value=a;this.lineno=b;this.col_offset=c;return this}function Z(a,b,c){this.targets=a;this.lineno=b;this.col_offset=c;return this}function $(a,b,c,d){this.targets=a;this.value=b;this.lineno=c;this.col_offset=d;return this}function aa(a,b,c,d,g){this.target=a;this.op=b;this.value=c;this.lineno=d;this.col_offset=g;return this}function ba(a,b,c,d,g){this.dest=a;this.values=b;this.nl=c;this.lineno=d;this.col_offset=g;return this}function ca(a,b,c,d,g,e){this.target=
a;this.iter=b;this.body=c;this.orelse=d;this.lineno=g;this.col_offset=e;return this}function da(a,b,c,d,g){this.test=a;this.body=b;this.orelse=c;this.lineno=d;this.col_offset=g;return this}function ea(a,b,c,d,g){this.test=a;this.body=b;this.orelse=c;this.lineno=d;this.col_offset=g;return this}function fa(a,b,c,d,g){this.context_expr=a;this.optional_vars=b;this.body=c;this.lineno=d;this.col_offset=g;return this}function ga(a,b,c,d,g){this.type=a;this.inst=b;this.tback=c;this.lineno=d;this.col_offset=
g;return this}function ha(a,b,c,d,g){this.body=a;this.handlers=b;this.orelse=c;this.lineno=d;this.col_offset=g;return this}function ia(a,b,c,d){this.body=a;this.finalbody=b;this.lineno=c;this.col_offset=d;return this}function ja(a,b,c,d){this.test=a;this.msg=b;this.lineno=c;this.col_offset=d;return this}function ka(a,b,c){this.names=a;this.lineno=b;this.col_offset=c;return this}function la(a,b,c,d,g){this.module=a;this.names=b;this.level=c;this.lineno=d;this.col_offset=g;return this}function ma(a,
b,c,d,g){this.body=a;this.globals=b;this.locals=c;this.lineno=d;this.col_offset=g;return this}function na(a,b,c){this.names=a;this.lineno=b;this.col_offset=c;return this}function oa(a,b,c){this.names=a;this.lineno=b;this.col_offset=c;return this}function pa(a,b,c){this.value=a;this.lineno=b;this.col_offset=c;return this}function qa(a,b){this.lineno=a;this.col_offset=b;return this}function ra(a,b){this.lineno=a;this.col_offset=b;return this}function sa(a,b){this.lineno=a;this.col_offset=b;return this}
function ta(a,b,c,d){this.op=a;this.values=b;this.lineno=c;this.col_offset=d;return this}function ua(a,b,c,d,g){this.left=a;this.op=b;this.right=c;this.lineno=d;this.col_offset=g;return this}function va(a,b,c,d){this.op=a;this.operand=b;this.lineno=c;this.col_offset=d;return this}function wa(a,b,c,d){this.args=a;this.body=b;this.lineno=c;this.col_offset=d;return this}function xa(a,b,c,d,g){this.test=a;this.body=b;this.orelse=c;this.lineno=d;this.col_offset=g;return this}function ya(a,b,c,d){this.keys=
a;this.values=b;this.lineno=c;this.col_offset=d;return this}function za(a,b,c,d){this.elt=a;this.generators=b;this.lineno=c;this.col_offset=d;return this}function Aa(a,b,c,d){this.elt=a;this.generators=b;this.lineno=c;this.col_offset=d;return this}function Ba(a,b,c){this.value=a;this.lineno=b;this.col_offset=c;return this}function Ca(a,b,c,d,g){this.left=a;this.ops=b;this.comparators=c;this.lineno=d;this.col_offset=g;return this}function Da(a,b,c,d,g,e,l){this.func=a;this.args=b;this.keywords=c;this.starargs=
d;this.kwargs=g;this.lineno=e;this.col_offset=l;return this}function Ea(a,b,c){this.n=a;this.lineno=b;this.col_offset=c;return this}function Fa(a,b,c){this.s=a;this.lineno=b;this.col_offset=c;return this}function Ga(a,b,c,d,g){this.value=a;this.attr=b;this.ctx=c;this.lineno=d;this.col_offset=g;return this}function Ha(a,b,c,d,g){this.value=a;this.slice=b;this.ctx=c;this.lineno=d;this.col_offset=g;return this}function Ia(a,b,c,d){this.id=a;this.ctx=b;this.lineno=c;this.col_offset=d;return this}function Ja(a,
b,c,d){this.elts=a;this.ctx=b;this.lineno=c;this.col_offset=d;return this}function Ka(a,b,c,d){this.elts=a;this.ctx=b;this.lineno=c;this.col_offset=d;return this}function La(){return this}function Ma(a,b,c){this.lower=a;this.upper=b;this.step=c;return this}function Na(a){this.dims=a;return this}function Oa(a){this.value=a;return this}function Pa(a,b,c){this.target=a;this.iter=b;this.ifs=c;return this}function Qa(a,b,c,d,g){this.type=a;this.name=b;this.body=c;this.lineno=d;this.col_offset=g;return this}
function Ra(a,b,c,d){this.args=a;this.vararg=b;this.kwarg=c;this.defaults=d;return this}function Sa(a,b){this.arg=a;this.value=b;return this}function Ta(a,b){this.name=a;this.asname=b;return this}var G={};G.Load=a;G.Store=b;G.Del=c;G.AugLoad=d;G.AugStore=e;G.Param=g;G.And=l;G.Or=p;G.Add=f;G.Sub=r;G.Mult=u;G.Div=N;G.Mod=z;G.Pow=J;G.LShift=x;G.RShift=s;G.BitOr=E;G.BitXor=F;G.BitAnd=v;G.FloorDiv=D;G.Invert=y;G.Not=B;G.UAdd=A;G.USub=w;G.Eq=O;G.NotEq=K;G.Lt=R;G.LtE=P;G.Gt=C;G.GtE=I;G.Is=Q;G.IsNot=T;G.In_=
S;G.NotIn=V;G.Module=W;G.Interactive=L;G.Expression=X;G.Suite=t;G.FunctionDef=M;G.ClassDef=Y;G.Return_=U;G.Delete_=Z;G.Assign=$;G.AugAssign=aa;G.Print=ba;G.For_=ca;G.While_=da;G.If_=ea;G.With_=fa;G.Raise=ga;G.TryExcept=ha;G.TryFinally=ia;G.Assert=ja;G.Import_=ka;G.ImportFrom=la;G.Exec=ma;G.Global=na;G.NonLocal=oa;G.Expr=pa;G.Pass=qa;G.Break_=ra;G.Continue_=sa;G.BoolOp=ta;G.BinOp=ua;G.UnaryOp=va;G.Lambda=wa;G.IfExp=xa;G.Dict=ya;G.ListComp=za;G.GeneratorExp=Aa;G.Yield=Ba;G.Compare=Ca;G.Call=Da;G.Num=
Ea;G.Str=Fa;G.Attribute=Ga;G.Subscript=Ha;G.Name=Ia;G.List=Ja;G.Tuple=Ka;G.Ellipsis=La;G.Slice=Ma;G.ExtSlice=Na;G.Index=Oa;G.comprehension=Pa;G.ExceptHandler=Qa;G.arguments_=Ra;G.keyword=Sa;G.alias=Ta;W.prototype._astname="Module";W.prototype._fields=["body",function(a){return a.body}];L.prototype._astname="Interactive";L.prototype._fields=["body",function(a){return a.body}];X.prototype._astname="Expression";X.prototype._fields=["body",function(a){return a.body}];t.prototype._astname="Suite";t.prototype._fields=
["body",function(a){return a.body}];M.prototype._astname="FunctionDef";M.prototype._fields=["name",function(a){return a.name},"args",function(a){return a.args},"body",function(a){return a.body},"decorator_list",function(a){return a.decorator_list}];Y.prototype._astname="ClassDef";Y.prototype._fields=["name",function(a){return a.name},"bases",function(a){return a.bases},"body",function(a){return a.body},"decorator_list",function(a){return a.decorator_list}];U.prototype._astname="Return";U.prototype._fields=
["value",function(a){return a.value}];Z.prototype._astname="Delete";Z.prototype._fields=["targets",function(a){return a.targets}];$.prototype._astname="Assign";$.prototype._fields=["targets",function(a){return a.targets},"value",function(a){return a.value}];aa.prototype._astname="AugAssign";aa.prototype._fields=["target",function(a){return a.target},"op",function(a){return a.op},"value",function(a){return a.value}];ba.prototype._astname="Print";ba.prototype._fields=["dest",function(a){return a.dest},
"values",function(a){return a.values},"nl",function(a){return a.nl}];ca.prototype._astname="For";ca.prototype._fields=["target",function(a){return a.target},"iter",function(a){return a.iter},"body",function(a){return a.body},"orelse",function(a){return a.orelse}];da.prototype._astname="While";da.prototype._fields=["test",function(a){return a.test},"body",function(a){return a.body},"orelse",function(a){return a.orelse}];ea.prototype._astname="If";ea.prototype._fields=["test",function(a){return a.test},
"body",function(a){return a.body},"orelse",function(a){return a.orelse}];fa.prototype._astname="With";fa.prototype._fields=["context_expr",function(a){return a.context_expr},"optional_vars",function(a){return a.optional_vars},"body",function(a){return a.body}];ga.prototype._astname="Raise";ga.prototype._fields=["type",function(a){return a.type},"inst",function(a){return a.inst},"tback",function(a){return a.tback}];ha.prototype._astname="TryExcept";ha.prototype._fields=["body",function(a){return a.body},
"handlers",function(a){return a.handlers},"orelse",function(a){return a.orelse}];ia.prototype._astname="TryFinally";ia.prototype._fields=["body",function(a){return a.body},"finalbody",function(a){return a.finalbody}];ja.prototype._astname="Assert";ja.prototype._fields=["test",function(a){return a.test},"msg",function(a){return a.msg}];ka.prototype._astname="Import";ka.prototype._fields=["names",function(a){return a.names}];la.prototype._astname="ImportFrom";la.prototype._fields=["module",function(a){return a.module},
"names",function(a){return a.names},"level",function(a){return a.level}];ma.prototype._astname="Exec";ma.prototype._fields=["body",function(a){return a.body},"globals",function(a){return a.globals},"locals",function(a){return a.locals}];na.prototype._astname="Global";na.prototype._fields=["names",function(a){return a.names}];oa.prototype._astname="NonLocal";oa.prototype._fields=["names",function(a){return a.names}];pa.prototype._astname="Expr";pa.prototype._fields=["value",function(a){return a.value}];
qa.prototype._astname="Pass";qa.prototype._fields=[];ra.prototype._astname="Break";ra.prototype._fields=[];sa.prototype._astname="Continue";sa.prototype._fields=[];ta.prototype._astname="BoolOp";ta.prototype._fields=["op",function(a){return a.op},"values",function(a){return a.values}];ua.prototype._astname="BinOp";ua.prototype._fields=["left",function(a){return a.left},"op",function(a){return a.op},"right",function(a){return a.right}];va.prototype._astname="UnaryOp";va.prototype._fields=["op",function(a){return a.op},
"operand",function(a){return a.operand}];wa.prototype._astname="Lambda";wa.prototype._fields=["args",function(a){return a.args},"body",function(a){return a.body}];xa.prototype._astname="IfExp";xa.prototype._fields=["test",function(a){return a.test},"body",function(a){return a.body},"orelse",function(a){return a.orelse}];ya.prototype._astname="Dict";ya.prototype._fields=["keys",function(a){return a.keys},"values",function(a){return a.values}];za.prototype._astname="ListComp";za.prototype._fields=["elt",
function(a){return a.elt},"generators",function(a){return a.generators}];Aa.prototype._astname="GeneratorExp";Aa.prototype._fields=["elt",function(a){return a.elt},"generators",function(a){return a.generators}];Ba.prototype._astname="Yield";Ba.prototype._fields=["value",function(a){return a.value}];Ca.prototype._astname="Compare";Ca.prototype._fields=["left",function(a){return a.left},"ops",function(a){return a.ops},"comparators",function(a){return a.comparators}];Da.prototype._astname="Call";Da.prototype._fields=
["func",function(a){return a.func},"args",function(a){return a.args},"keywords",function(a){return a.keywords},"starargs",function(a){return a.starargs},"kwargs",function(a){return a.kwargs}];Ea.prototype._astname="Num";Ea.prototype._fields=["n",function(a){return a.n}];Fa.prototype._astname="Str";Fa.prototype._fields=["s",function(a){return a.s}];Ga.prototype._astname="Attribute";Ga.prototype._fields=["value",function(a){return a.value},"attr",function(a){return a.attr},"ctx",function(a){return a.ctx}];
Ha.prototype._astname="Subscript";Ha.prototype._fields=["value",function(a){return a.value},"slice",function(a){return a.slice},"ctx",function(a){return a.ctx}];Ia.prototype._astname="Name";Ia.prototype._fields=["id",function(a){return a.id},"ctx",function(a){return a.ctx}];Ja.prototype._astname="List";Ja.prototype._fields=["elts",function(a){return a.elts},"ctx",function(a){return a.ctx}];Ka.prototype._astname="Tuple";Ka.prototype._fields=["elts",function(a){return a.elts},"ctx",function(a){return a.ctx}];
a.prototype._astname="Load";a.prototype._isenum=!0;b.prototype._astname="Store";b.prototype._isenum=!0;c.prototype._astname="Del";c.prototype._isenum=!0;d.prototype._astname="AugLoad";d.prototype._isenum=!0;e.prototype._astname="AugStore";e.prototype._isenum=!0;g.prototype._astname="Param";g.prototype._isenum=!0;La.prototype._astname="Ellipsis";La.prototype._fields=[];Ma.prototype._astname="Slice";Ma.prototype._fields=["lower",function(a){return a.lower},"upper",function(a){return a.upper},"step",
function(a){return a.step}];Na.prototype._astname="ExtSlice";Na.prototype._fields=["dims",function(a){return a.dims}];Oa.prototype._astname="Index";Oa.prototype._fields=["value",function(a){return a.value}];l.prototype._astname="And";l.prototype._isenum=!0;p.prototype._astname="Or";p.prototype._isenum=!0;f.prototype._astname="Add";f.prototype._isenum=!0;r.prototype._astname="Sub";r.prototype._isenum=!0;u.prototype._astname="Mult";u.prototype._isenum=!0;N.prototype._astname="Div";N.prototype._isenum=
!0;z.prototype._astname="Mod";z.prototype._isenum=!0;J.prototype._astname="Pow";J.prototype._isenum=!0;x.prototype._astname="LShift";x.prototype._isenum=!0;s.prototype._astname="RShift";s.prototype._isenum=!0;E.prototype._astname="BitOr";E.prototype._isenum=!0;F.prototype._astname="BitXor";F.prototype._isenum=!0;v.prototype._astname="BitAnd";v.prototype._isenum=!0;D.prototype._astname="FloorDiv";D.prototype._isenum=!0;y.prototype._astname="Invert";y.prototype._isenum=!0;B.prototype._astname="Not";
B.prototype._isenum=!0;A.prototype._astname="UAdd";A.prototype._isenum=!0;w.prototype._astname="USub";w.prototype._isenum=!0;O.prototype._astname="Eq";O.prototype._isenum=!0;K.prototype._astname="NotEq";K.prototype._isenum=!0;R.prototype._astname="Lt";R.prototype._isenum=!0;P.prototype._astname="LtE";P.prototype._isenum=!0;C.prototype._astname="Gt";C.prototype._isenum=!0;I.prototype._astname="GtE";I.prototype._isenum=!0;Q.prototype._astname="Is";Q.prototype._isenum=!0;T.prototype._astname="IsNot";
T.prototype._isenum=!0;S.prototype._astname="In";S.prototype._isenum=!0;V.prototype._astname="NotIn";V.prototype._isenum=!0;Pa.prototype._astname="comprehension";Pa.prototype._fields=["target",function(a){return a.target},"iter",function(a){return a.iter},"ifs",function(a){return a.ifs}];Qa.prototype._astname="ExceptHandler";Qa.prototype._fields=["type",function(a){return a.type},"name",function(a){return a.name},"body",function(a){return a.body}];Ra.prototype._astname="arguments";Ra.prototype._fields=
["args",function(a){return a.args},"vararg",function(a){return a.vararg},"kwarg",function(a){return a.kwarg},"defaults",function(a){return a.defaults}];Sa.prototype._astname="keyword";Sa.prototype._fields=["arg",function(a){return a.arg},"value",function(a){return a.value}];Ta.prototype._astname="alias";Ta.prototype._fields=["name",function(a){return a.name},"asname",function(a){return a.asname}];return G});b("davinci-py/parser",["davinci-py/tables","davinci-py/tokenize","davinci-py/base","davinci-py/asserts"],
function(a,b,c,d){function e(a,b,d,g){a=new SyntaxError(a,b);a.name="ParseError";a.fileName=b;c.isDef(d)&&(a.lineNumber=d[0],a.columnNumber=d[1]);return a}function g(a,b){this.filename=a;this.grammar=b;return this}function l(a,c){void 0===c&&(c="file_input");var l=new g(a,r);"file_input"===c?l.setup(r.sym.file_input):d.fail("todo;");var q=b.Tokens.T_COMMENT,p=b.Tokens.T_NL,h=b.Tokens.T_OP,E=new b(a,"single_input"===c,function(a,b,c,d,g){if(a!==q&&a!==p&&(a===h&&(a=f[b]),l.addtoken(a,b,[c,d,g])))return!0});
return function(a){if(a=E.generateTokens(a)){if("done"!==a)throw e("incomplete input",this.filename);return l.rootnode}return!1}}function p(a){var c="";if(256<=a.type)for(var c=c+(r.number2symbol[a.type]+"\n"),d=0;d<a.children.length;++d)c+=p(a.children[d]);else c+=b.tokenNames[a.type]+": "+a.value+"\n";return c}var f=a.OpMap,r=a.ParseTables;g.prototype.setup=function(a){a=a||this.grammar.start;this.stack=[{dfa:this.grammar.dfas[a],state:0,node:{type:a,value:null,context:null,children:[]}}];this.used_names=
{}};g.prototype.addtoken=function(a,b,c){var g=this.classify(a,b,c);a:for(;;){for(var l=this.stack[this.stack.length-1],q=l.dfa[0],p=q[l.state],f=0;f<p.length;++f){var r=p[f][0],k=p[f][1],H=this.grammar.labels[r][0];if(g===r){d.assert(256>H);this.shift(a,b,k,c);for(a=k;1===q[a].length&&0===q[a][0][0]&&q[a][0][1]===a;){this.pop();if(0===this.stack.length)return!0;l=this.stack[this.stack.length-1];a=l.state;q=l.dfa[0]}return!1}if(256<=H&&this.grammar.dfas[H][1].hasOwnProperty(g)){this.push(H,this.grammar.dfas[H],
k,c);continue a}}b:{l=[0,l.state];for(q=p.length;q--;)if(p[q][0]===l[0]&&p[q][1]===l[1]){p=!0;break b}p=!1}if(p){if(this.pop(),0===this.stack.length)throw e("too much input",this.filename);}else throw e("bad input",this.filename,c[0],c[1]);}};g.prototype.classify=function(a,c,d){if(a===b.Tokens.T_NAME&&(this.used_names[c]=!0,c=this.grammar.keywords.hasOwnProperty(c)&&this.grammar.keywords[c]))return c;c=this.grammar.tokens.hasOwnProperty(a)&&this.grammar.tokens[a];if(!c)throw e("bad token",this.filename,
d[0],d[1]);return c};g.prototype.shift=function(a,b,c,d){var g=this.stack[this.stack.length-1].dfa,e=this.stack[this.stack.length-1].node;e.children.push({type:a,value:b,lineno:d[0][0],col_offset:d[0][1],children:null});this.stack[this.stack.length-1]={dfa:g,state:c,node:e}};g.prototype.push=function(a,b,c,d){this.stack[this.stack.length-1]={dfa:this.stack[this.stack.length-1].dfa,state:c,node:this.stack[this.stack.length-1].node};this.stack.push({dfa:b,state:0,node:{type:a,value:null,lineno:d[0][0],
col_offset:d[0][1],children:[]}})};g.prototype.pop=function(){var a=this.stack.pop().node;a&&(0!==this.stack.length?this.stack[this.stack.length-1].node.children.push(a):(this.rootnode=a,this.rootnode.used_names=this.used_names))};return{parse:function(a,b){var c=l(a);"\n"!==b.substr(b.length-1,1)&&(b+="\n");for(var d=b.split("\n"),g,e=0;e<d.length;++e)g=c(d[e]+(e===d.length-1?"":"\n"));return g},parseTreeDump:p}});b("davinci-py/numericLiteral",[],function(){return{floatAST:function(a){var b={};b.text=
a;b.value=parseFloat(a);b.isFloat=function(){return!0};b.isInt=function(){return!1};b.isLong=function(){return!1};b.toString=function(){return a};return b},intAST:function(a){var b={};b.value=a;b.isFloat=function(){return!1};b.isInt=function(){return!0};b.isLong=function(){return!1};b.toString=function(){return""+a};return b},longAST:function(a,b){var c={};c.text=a;c.radix=b;c.isFloat=function(){return!1};c.isInt=function(){return!1};c.isLong=function(){return!0};c.toString=function(){return a};return c}}});
b("davinci-py/builder","davinci-py/tables davinci-py/tokenize davinci-py/astnodes davinci-py/numericLiteral davinci-py/base davinci-py/asserts".split(" "),function(a,b,c,d,e,g){function l(a,b,c){g.assert(e.isString(a),"message must be a string");g.assert(e.isString(b),"fileName must be a string");g.assert(e.isNumber(c),"lineNumber must be a number");a=new SyntaxError(a,b);a.fileName=b;a.lineNumber=c;return a}function p(a,b){this.c_encoding=a;this.c_filename=b}function f(a){g.assert(void 0!==a);return null===
a.children?0:a.children.length}function r(a,b){g.assert(void 0!==a);g.assert(void 0!==b);return a.children[b]}function u(a,b){g.assert(a.type===b,"node wasn't expected type")}function N(a){g.assert("string"===typeof a,"expecting string, got "+typeof a);return a}function z(a){switch(a.type){case t.single_input:if(r(a,0).type===M.T_NEWLINE)break;else return z(r(a,0));case t.file_input:for(var b=0,c=0;c<f(a);++c){var d=r(a,c);d.type===t.stmt&&(b+=z(d))}return b;case t.stmt:return z(r(a,0));case t.compound_stmt:return 1;
case t.simple_stmt:return Math.floor(f(a)/2);case t.suite:if(1===f(a))return z(r(a,0));b=0;for(c=2;c<f(a)-1;++c)b+=z(r(a,c));return b;default:g.fail("Non-statement found")}return 0}function J(a,b,c,d){if("None"===c)throw l("assignment to None",a.c_filename,d);if("True"===c||"False"===c)throw l("assignment to True or False is forbidden",a.c_filename,d);}function x(a,b,d,e){g.assert(d!==c.AugStore&&d!==c.AugLoad);var f=null,p=null;switch(b.constructor){case c.Attribute:case c.Name:d===c.Store&&J(a,
e,b.attr,e.lineno);b.ctx=d;break;case c.Subscript:b.ctx=d;break;case c.List:b.ctx=d;f=b.elts;break;case c.Tuple:if(0===b.elts.length)throw l("can't assign to ()",a.c_filename,e.lineno);b.ctx=d;f=b.elts;break;case c.Lambda:p="lambda";break;case c.Call:p="function call";break;case c.BoolOp:case c.BinOp:case c.UnaryOp:p="operator";break;case c.GeneratorExp:p="generator expression";break;case c.Yield:p="yield expression";break;case c.ListComp:p="list comprehension";break;case c.Dict:case c.Num:case c.Str:p=
"literal";break;case c.Compare:p="comparison expression";break;case c.IfExp:p="conditional expression";break;default:g.fail("unhandled expression in assignment")}if(p)throw l("can't "+(d===c.Store?"assign to":"delete")+" "+p,a.c_filename,e.lineno);if(f)for(b=0;b<f.length;++b)x(a,f[b],d,e)}function s(a){g.assert(void 0!==U[a.type]);return U[a.type]}function E(a,b){u(b,t.comp_op);if(1===f(b))switch(b=r(b,0),b.type){case M.T_LESS:return c.Lt;case M.T_GREATER:return c.Gt;case M.T_EQEQUAL:return c.Eq;
case M.T_LESSEQUAL:return c.LtE;case M.T_GREATEREQUAL:return c.GtE;case M.T_NOTEQUAL:return c.NotEq;case M.T_NAME:if("in"===b.value)return c.In_;if("is"===b.value)return c.Is}else if(2===f(b)&&r(b,0).type===M.T_NAME){if("in"===r(b,1).value)return c.NotIn;if("is"===r(b,0).value)return c.IsNot}g.fail("invalid comp_op")}function F(a,b){g.assert(b.type===t.testlist||b.type===t.listmaker||b.type===t.testlist_gexp||b.type===t.testlist_safe||b.type===t.testlist1);for(var c=[],d=0;d<f(b);d+=2)g.assert(r(b,
d).type===t.IfExpr||r(b,d).type===t.old_test),c[d/2]=L(a,r(b,d));return c}function v(a,b){u(b,t.suite);var c=[],d=0,e;if(r(b,0).type===t.simple_stmt){b=r(b,0);e=f(b)-1;r(b,e-1).type===M.T_SEMI&&(e-=1);for(var l=0;l<e;l+=2)c[d++]=X(a,r(b,l))}else for(l=2;l<f(b)-1;++l)if(e=r(b,l),u(e,t.stmt),1===z(e))c[d++]=X(a,e);else{e=r(e,0);u(e,t.simple_stmt);for(var p=0;p<f(e);p+=2){if(0===f(r(e,p))){g.assert(p+1===f(e));break}c[d++]=X(a,r(e,p))}}g.assert(d===z(b));return c}function D(a,b,c){u(b,t.ExprList);for(var d=
[],g=0;g<f(b);g+=2){var e=L(a,r(b,g));d[g/2]=e;c&&x(a,e,c,r(b,g))}return d}function y(a,b){a:for(;;)switch(b.type){case t.import_as_name:var d=null,e=N(r(b,0).value);3===f(b)&&(d=r(b,2).value);return new c.alias(e,null==d?null:N(d));case t.dotted_as_name:if(1===f(b)){b=r(b,0);continue a}else return d=y(a,r(b,0)),g.assert(!d.asname),d.asname=N(r(b,2).value),d;case t.dotted_name:if(1===f(b))return new c.alias(N(r(b,0).value),null);d="";for(e=0;e<f(b);e+=2)d+=r(b,e).value+".";return new c.alias(N(d.substr(0,
d.length-1)),null);case M.T_STAR:return new c.alias(N("*"),null);default:throw l("unexpected import name",a.c_filename,b.lineno);}}function B(a,b){function d(a,b){for(var c=0;;){u(b,t.list_iter);if(r(b,0).type===t.list_for)return c;b=r(b,0);u(b,t.list_if);c++;if(2==f(b))return c;b=r(b,2)}}u(b,t.listmaker);g.assert(1<f(b));for(var e=L(a,r(b,0)),l=function(a,b){var c=0,d=r(b,1);a:for(;;){c++;u(d,t.list_for);if(5===f(d))d=r(d,4);else return c;b:for(;;){u(d,t.list_iter);d=r(d,0);if(d.type===t.list_for)continue a;
else if(d.type===t.list_if)if(3===f(d)){d=r(d,2);continue b}else return c;break}break}}(a,b),p=[],m=r(b,1),n=0;n<l;++n){u(m,t.list_for);var I=r(m,1),C=D(a,I,c.Store),k=T(a,r(m,3)),I=1===f(I)?new c.comprehension(C[0],k,[]):new c.comprehension(new c.Tuple(C,c.Store,m.lineno,m.col_offset),k,[]);if(5===f(m)){for(var m=r(m,4),C=d(a,m),k=[],J=0;J<C;++J)u(m,t.list_iter),m=r(m,0),u(m,t.list_if),k[J]=L(a,r(m,1)),3===f(m)&&(m=r(m,2));m.type===t.list_iter&&(m=r(m,0));I.ifs=k}p[n]=I}return new c.ListComp(e,p,
b.lineno,b.col_offset)}function A(a,b){if(r(b,0).type===M.T_MINUS&&2===f(b)){var d=r(b,1);if(d.type===t.UnaryExpr&&1===f(d)&&(d=r(d,0),d.type===t.PowerExpr&&1===f(d)&&(d=r(d,0),d.type===t.AtomExpr))){var e=r(d,0);if(e.type===M.T_NUMBER)return e.value="-"+e.value,W(a,d)}}d=L(a,r(b,1));switch(r(b,0).type){case M.T_PLUS:return new c.UnaryOp(c.UAdd,d,b.lineno,b.col_offset);case M.T_MINUS:return new c.UnaryOp(c.USub,d,b.lineno,b.col_offset);case M.T_TILDE:return new c.UnaryOp(c.Invert,d,b.lineno,b.col_offset)}g.fail("unhandled UnaryExpr")}
function w(a,b,d){u(b,t.arglist);for(var g=0,e=0,p=0,m=0;m<f(b);++m){var n=r(b,m);n.type===t.argument&&(1===f(n)?g++:r(n,1).type===t.gen_for?p++:e++)}if(1<p||p&&(g||e))throw l("Generator expression must be parenthesized if not sole argument",a.c_filename,b.lineno);if(255<g+e+p)throw l("more than 255 arguments",a.c_filename,b.lineno);for(var p=[],C=[],e=g=0,k=null,h=null,m=0;m<f(b);++m)if(n=r(b,m),n.type===t.argument)if(1===f(n)){if(e)throw l("non-keyword arg after keyword arg",a.c_filename,b.lineno);
if(k)throw l("only named arguments may follow *expression",a.c_filename,b.lineno);p[g++]=L(a,r(n,0))}else if(r(n,1).type===t.gen_for)p[g++]=I(a,n);else{var Q=L(a,r(n,0));if(Q.constructor===c.Lambda)throw l("lambda cannot contain assignment",a.c_filename,b.lineno);if(Q.constructor!==c.Name)throw l("keyword can't be an expression",a.c_filename,b.lineno);Q=Q.id;J(a,r(n,0),Q,b.lineno);for(var x=0;x<e;++x)if(C[x].arg===Q)throw l("keyword argument repeated",a.c_filename,b.lineno);C[e++]=new c.keyword(Q,
L(a,r(n,2)))}else n.type===M.T_STAR?k=L(a,r(b,++m)):n.type===M.T_DOUBLESTAR&&(h=L(a,r(b,++m)));return new c.Call(d,p,C,k,h,d.lineno,d.col_offset)}function O(a,b,d){u(b,t.trailer);if(r(b,0).type===M.T_LPAR)return 2===f(b)?new c.Call(d,[],[],null,null,b.lineno,b.col_offset):w(a,r(b,1),d);if(r(b,0).type===M.T_DOT)return new c.Attribute(d,N(r(b,1).value),c.Load,b.lineno,b.col_offset);u(r(b,0),M.T_LSQB);u(r(b,2),M.T_RSQB);b=r(b,1);if(1===f(b))return new c.Subscript(d,V(a,r(b,0)),c.Load,b.lineno,b.col_offset);
for(var e=!0,l=[],p=0;p<f(b);p+=2){var m=V(a,r(b,p));m.constructor!==c.Index&&(e=!1);l[p/2]=m}if(!e)return new c.Subscript(d,new c.ExtSlice(l),c.Load,b.lineno,b.col_offset);a=[];for(p=0;p<l.length;++p)m=l[p],g.assert(m.constructor===c.Index&&null!==m.value&&void 0!==m.value),a[p]=m.value;l=new c.Tuple(a,c.Load,b.lineno,b.col_offset);return new c.Subscript(d,new c.Index(l),c.Load,b.lineno,b.col_offset)}function K(a,b){var d;u(b,t.flow_stmt);d=r(b,0);switch(d.type){case t.break_stmt:return new c.Break_(b.lineno,
b.col_offset);case t.continue_stmt:return new c.Continue_(b.lineno,b.col_offset);case t.yield_stmt:return new c.Expr(L(a,r(d,0)),b.lineno,b.col_offset);case t.return_stmt:return 1===f(d)?new c.Return_(null,b.lineno,b.col_offset):new c.Return_(T(a,r(d,1)),b.lineno,b.col_offset);case t.raise_stmt:if(1===f(d))return new c.Raise(null,null,null,b.lineno,b.col_offset);if(2===f(d))return new c.Raise(L(a,r(d,1)),null,null,b.lineno,b.col_offset);if(4===f(d))return new c.Raise(L(a,r(d,1)),L(a,r(d,3)),null,
b.lineno,b.col_offset);if(6===f(d))return new c.Raise(L(a,r(d,1)),L(a,r(d,3)),L(a,r(d,5)),b.lineno,b.col_offset);default:g.fail("unexpected flow_stmt")}g.fail("unhandled flow statement")}function R(a,b){var d,e=null,p=null;if(b.type===t.parameters){if(2===f(b))return new c.arguments_([],null,null,[]);b=r(b,1)}u(b,t.varargslist);for(var m=[],n=[],I=!1,C=0,k=0,h=0;C<f(b);)switch(d=r(b,C),d.type){case t.fpdef:var Q=0;a:for(;;){if(C+1<f(b)&&r(b,C+1).type===M.T_EQUAL)n[k++]=L(a,r(b,C+2)),C+=2,I=!0;else if(I){if(Q)throw l("parenthesized arg with default",
a.c_filename,b.lineno);throw l("non-default argument follows default argument",a.c_filename,b.lineno);}if(3===f(d)){d=r(d,1);if(1!==f(d))throw l("tuple parameter unpacking has been removed",a.c_filename,b.lineno);Q=!0;d=r(d,0);g.assert(d.type===t.fpdef);continue a}if(r(d,0).type===M.T_NAME){J(a,b,r(d,0).value,b.lineno);var x=N(r(d,0).value);m[h++]=new c.Name(x,c.Param,d.lineno,d.col_offset)}C+=2;if(Q)throw l("parenthesized argument names are invalid",a.c_filename,b.lineno);break}break;case M.T_STAR:J(a,
r(b,C+1),r(b,C+1).value,b.lineno);e=N(r(b,C+1).value);C+=3;break;case M.T_DOUBLESTAR:J(a,r(b,C+1),r(b,C+1).value,b.lineno);p=N(r(b,C+1).value);C+=3;break;default:g.fail("unexpected node in varargslist")}return new c.arguments_(m,e,p,n)}function P(a,b,d){u(b,t.funcdef);var g=N(r(b,1).value);J(a,r(b,1),r(b,1).value,b.lineno);var e=R(a,r(b,2));a=v(a,r(b,4));return new c.FunctionDef(g,e,a,d,b.lineno,b.col_offset)}function C(a,b,d){u(b,t.classdef);J(a,b,r(b,1).value,b.lineno);var e=N(r(b,1).value);if(4===
f(b))return new c.ClassDef(e,[],v(a,r(b,3)),d,b.lineno,b.col_offset);if(r(b,3).type===M.T_RPAR)return new c.ClassDef(e,[],v(a,r(b,5)),d,b.lineno,b.col_offset);var l;l=r(b,3);g.assert(0<f(l));u(l,t.testlist);l=1===f(l)?[L(a,r(l,0))]:F(a,l);a=v(a,r(b,6));return new c.ClassDef(e,l,a,d,b.lineno,b.col_offset)}function I(a,b){function d(a,b){for(var c=0;;){u(b,t.gen_iter);if(r(b,0).type===t.gen_for)return c;b=r(b,0);u(b,t.gen_if);c++;if(2==f(b))return c;b=r(b,2)}}g.assert(b.type===t.testlist_gexp||b.type===
t.argument);g.assert(1<f(b));for(var e=L(a,r(b,0)),l=function(a,b){var c=0,d=r(b,1);a:for(;;){c++;u(d,t.gen_for);if(5===f(d))d=r(d,4);else return c;b:for(;;){u(d,t.gen_iter);d=r(d,0);if(d.type===t.gen_for)continue a;else if(d.type===t.gen_if)if(3===f(d)){d=r(d,2);continue b}else return c;break}break}g.fail("logic error in countGenFors")}(a,b),p=[],m=r(b,1),n=0;n<l;++n){u(m,t.gen_for);var C=r(m,1),I=D(a,C,c.Store),k=L(a,r(m,3)),C=1===f(C)?new c.comprehension(I[0],k,[]):new c.comprehension(new c.Tuple(I,
c.Store,m.lineno,m.col_offset),k,[]);if(5===f(m)){for(var m=r(m,4),I=d(a,m),J=[],h=0;h<I;++h)u(m,t.gen_iter),m=r(m,0),u(m,t.gen_if),k=L(a,r(m,1)),J[h]=k,3===f(m)&&(m=r(m,2));m.type===t.gen_iter&&(m=r(m,0));C.ifs=J}p[n]=C}return new c.GeneratorExp(e,p,b.lineno,b.col_offset)}function Q(a,b){u(b,t.augassign);b=r(b,0);switch(b.value.charAt(0)){case "+":return c.Add;case "-":return c.Sub;case "/":return"/"===b.value.charAt(1)?c.FloorDiv:c.Div;case "%":return c.Mod;case "<":return c.LShift;case ">":return c.RShift;
case "&":return c.BitAnd;case "^":return c.BitXor;case "|":return c.BitOr;case "*":return"*"===b.value.charAt(1)?c.Pow:c.Mult;default:g.fail("invalid augassign")}}function T(a,b){g.assert(0<f(b));b.type===t.testlist_gexp?1<f(b)&&g.assert(r(b,1).type!==t.gen_for):g.assert(b.type===t.testlist||b.type===t.testlist_safe||b.type===t.testlist1);return 1===f(b)?L(a,r(b,0)):new c.Tuple(F(a,b),c.Load,b.lineno,b.col_offset)}function S(a,b,c){var g=b.charAt(b.length-1);if("j"===g||"J"===g)throw l("complex numbers are currently unsupported",
a.c_filename,c);if(-1!==b.indexOf("."))return d.floatAST(b);var e=b;a=10;c=!1;"-"===b.charAt(0)&&(e=b.substr(1),c=!0);if("0"!==e.charAt(0)||"x"!==e.charAt(1)&&"X"!==e.charAt(1)){if(-1!==b.indexOf("e")||-1!==b.indexOf("E"))return d.floatAST(b);if("0"!==e.charAt(0)||"b"!==e.charAt(1)&&"B"!==e.charAt(1))if("0"===e.charAt(0))if("0"===e)e=0;else{if("l"===g||"L"===g)return d.longAST(b.substr(0,b.length-1),8);a=8;e=e.substring(1);if("o"===e.charAt(0)||"O"===e.charAt(0))e=e.substring(1);e=parseInt(e,8)}else{if("l"===
g||"L"===g)return d.longAST(b.substr(0,b.length-1),a);e=parseInt(e,a)}else e=e.substring(2),e=parseInt(e,2),a=2}else e=e.substring(2),e=parseInt(e,16),a=16;return e>Y&&Math.floor(e)===e&&-1===b.indexOf("e")&&-1===b.indexOf("E")?d.longAST(b,0):"l"===g||"L"===g?d.longAST(b.substr(0,b.length-1),a):c?d.intAST(-e):d.intAST(e)}function V(a,b){u(b,t.subscript);var d=r(b,0),g=null,e=null,l=null;if(d.type===M.T_DOT)return new c.Ellipsis;if(1===f(b)&&d.type===t.IfExpr)return new c.Index(L(a,d));d.type===t.IfExpr&&
(g=L(a,d));d.type===M.T_COLON?1<f(b)&&(d=r(b,1),d.type===t.IfExpr&&(e=L(a,d))):2<f(b)&&(d=r(b,2),d.type===t.IfExpr&&(e=L(a,d)));d=r(b,f(b)-1);d.type===t.sliceop&&(1===f(d)?(d=r(d,0),l=new c.Name(N("None"),c.Load,d.lineno,d.col_offset)):(d=r(d,1),d.type===t.IfExpr&&(l=L(a,d))));return new c.Slice(g,e,l)}function W(a,b){var d=r(b,0);switch(d.type){case M.T_NAME:return new c.Name(N(d.value),c.Load,b.lineno,b.col_offset);case M.T_STRING:d=c.Str;u(r(b,0),M.T_STRING);for(var e="",p=0;p<f(b);++p){var m=
r(b,p);try{var n=e,C=m.value,k=C.charAt(0),J=!1;if("u"===k||"U"===k)C=C.substr(1),k=C.charAt(0);else if("r"===k||"R"===k)C=C.substr(1),k=C.charAt(0),J=!0;g.assert("b"!==k&&"B"!==k,"todo; haven't done b'' strings yet");g.assert("'"===k||'"'===k&&C.charAt(C.length-1)===k);C=C.substr(1,C.length-2);4<=C.length&&(C.charAt(0)===k&&C.charAt(1)===k)&&(g.assert(C.charAt(C.length-1)===k&&C.charAt(C.length-2)===k),C=C.substr(2,C.length-4));var h=void 0;if(J||-1===C.indexOf("\\"))h=N(decodeURIComponent(escape(C)));
else{for(var J=C,Q=J.length,x="",z=0;z<Q;++z){var y=J.charAt(z);if("\\"===y)if(++z,y=J.charAt(z),"n"===y)x+="\n";else if("\\"===y)x+="\\";else if("t"===y)x+="\t";else if("r"===y)x+="\r";else if("b"===y)x+="\b";else if("f"===y)x+="\f";else if("v"===y)x+="\v";else if("0"===y)x+="\x00";else if('"'===y)x+='"';else if("'"===y)x+="'";else{if("\n"!==y)if("x"===y)var s=J.charAt(++z),E=J.charAt(++z),x=x+String.fromCharCode(parseInt(s+E,16));else if("u"===y||"U"===y)var s=J.charAt(++z),E=J.charAt(++z),P=J.charAt(++z),
w=J.charAt(++z),x=x+String.fromCharCode(parseInt(s+E,16),parseInt(P+w,16));else x+="\\"+y}else x+=y}h=N(x)}e=n+h}catch(A){throw l("invalid string (possibly contains a unicode character)",a.c_filename,m.lineno);}}return new d(e,b.lineno,b.col_offset);case M.T_NUMBER:return new c.Num(S(a,d.value,b.lineno),b.lineno,b.col_offset);case M.T_LPAR:d=r(b,1);if(d.type===M.T_RPAR)return new c.Tuple([],c.Load,b.lineno,b.col_offset);if(d.type===t.YieldExpr)return L(a,d);if(1<f(d)&&r(d,1).type===t.gen_for)return I(a,
d);C=d;g.assert(C.type===t.testlist_gexp||C.type===t.argument);C=1<f(C)&&r(C,1).type===t.gen_for?I(a,C):T(a,C);return C;case M.T_LSQB:d=r(b,1);if(d.type===M.T_RSQB)return new c.List([],c.Load,b.lineno,b.col_offset);u(d,t.listmaker);return 1===f(d)||r(d,1).type===M.T_COMMA?new c.List(F(a,d),c.Load,b.lineno,b.col_offset):B(a,d);case M.T_LBRACE:d=r(b,1);f(d);C=[];k=[];for(Q=0;Q<f(d);Q+=4)C[Q/4]=L(a,r(d,Q)),k[Q/4]=L(a,r(d,Q+2));return new c.Dict(C,k,b.lineno,b.col_offset);case M.T_BACKQUOTE:throw l("backquote not supported, use repr()",
a.c_filename,b.lineno);default:g.fail("unhandled atom",d.type)}}function L(a,b){a:for(;;){switch(b.type){case t.IfExpr:case t.old_test:if(r(b,0).type===t.LambdaExpr||r(b,0).type===t.old_LambdaExpr){var d=a,e=r(b,0),l=void 0,p=void 0;3===f(e)?(l=new c.arguments_([],null,null,[]),p=L(d,r(e,2))):(l=R(d,r(e,1)),p=L(d,r(e,3)));return new c.Lambda(l,p,e.lineno,e.col_offset)}if(1<f(b))return d=a,e=b,g.assert(5===f(e)),new c.IfExp(L(d,r(e,2)),L(d,r(e,0)),L(d,r(e,4)),e.lineno,e.col_offset);case t.OrExpr:case t.AndExpr:if(1===
f(b)){b=r(b,0);continue a}e=[];for(d=0;d<f(b);d+=2)e[d/2]=L(a,r(b,d));if("and"===r(b,1).value)return new c.BoolOp(c.And,e,b.lineno,b.col_offset);g.assert("or"===r(b,1).value);return new c.BoolOp(c.Or,e,b.lineno,b.col_offset);case t.NotExpr:if(1===f(b)){b=r(b,0);continue a}else return new c.UnaryOp(c.Not,L(a,r(b,1)),b.lineno,b.col_offset);case t.ComparisonExpr:if(1===f(b)){b=r(b,0);continue a}else{e=[];l=[];for(d=1;d<f(b);d+=2)e[(d-1)/2]=E(a,r(b,d)),l[(d-1)/2]=L(a,r(b,d+1));return new c.Compare(L(a,
r(b,0)),e,l,b.lineno,b.col_offset)}case t.ArithmeticExpr:case t.GeometricExpr:case t.ShiftExpr:case t.BitwiseOrExpr:case t.BitwiseXorExpr:case t.BitwiseAndExpr:if(1===f(b)){b=r(b,0);continue a}for(var d=a,e=b,l=new c.BinOp(L(d,r(e,0)),s(r(e,1)),L(d,r(e,2)),e.lineno,e.col_offset),p=(f(e)-1)/2,m=1;m<p;++m)var C=r(e,2*m+1),n=s(C),I=L(d,r(e,2*m+2)),l=new c.BinOp(l,n,I,C.lineno,C.col_offset);return l;case t.YieldExpr:return d=null,2===f(b)&&(d=T(a,r(b,1))),new c.Yield(d,b.lineno,b.col_offset);case t.UnaryExpr:if(1===
f(b)){b=r(b,0);continue a}return A(a,b);case t.PowerExpr:l=a;d=b;u(d,t.PowerExpr);e=W(l,r(d,0));if(1!==f(d)){for(p=1;p<f(d);++p){m=r(d,p);if(m.type!==t.trailer)break;m=O(l,m,e);m.lineno=e.lineno;m.col_offset=e.col_offset;e=m}r(d,f(d)-1).type===t.UnaryExpr&&(l=L(l,r(d,f(d)-1)),e=new c.BinOp(e,c.Pow,l,d.lineno,d.col_offset))}d=e;return d;default:g.fail("unhandled expr","n.type: %d",b.type)}break}}function X(a,b){b.type===t.stmt&&(g.assert(1===f(b)),b=r(b,0));b.type===t.simple_stmt&&(g.assert(1===z(b)),
b=r(b,0));if(b.type===t.small_stmt)switch(u(b,t.small_stmt),b=r(b,0),b.type){case t.ExprStmt:var d;d=b;u(d,t.ExprStmt);if(1===f(d))d=new c.Expr(T(a,r(d,0)),d.lineno,d.col_offset);else if(r(d,1).type===t.augassign){var e=r(d,0),p=T(a,e);switch(p.constructor){case c.GeneratorExp:throw l("augmented assignment to generator expression not possible",a.c_filename,d.lineno);case c.Yield:throw l("augmented assignment to yield expression not possible",a.c_filename,d.lineno);case c.Name:J(a,e,p.id,d.lineno);
break;case c.Attribute:case c.Subscript:break;default:throw l("illegal expression for augmented assignment",a.c_filename,d.lineno);}x(a,p,c.Store,e);e=r(d,2);e=e.type===t.testlist?T(a,e):L(a,e);d=new c.AugAssign(p,Q(a,r(d,1)),e,d.lineno,d.col_offset)}else{u(r(d,1),M.T_EQUAL);for(var p=[],m=0;m<f(d)-2;m+=2){e=r(d,m);if(e.type===t.YieldExpr)throw l("assignment to yield expression not possible",a.c_filename,d.lineno);e=T(a,e);x(a,e,c.Store,r(d,m));p[m/2]=e}e=r(d,f(d)-1);e=e.type===t.testlist?T(a,e):
L(a,e);d=new c.Assign(p,e,d.lineno,d.col_offset)}return d;case t.print_stmt:d=b;m=1;p=null;u(d,t.print_stmt);2<=f(d)&&r(d,1).type===M.T_RIGHTSHIFT&&(p=L(a,r(d,2)),m=4);for(var e=[],n=0;m<f(d);m+=2,++n)e[n]=L(a,r(d,m));m=r(d,f(d)-1).type===M.T_COMMA?!1:!0;return new c.Print(p,e,m,d.lineno,d.col_offset);case t.del_stmt:return d=b,u(d,t.del_stmt),new c.Delete_(D(a,r(d,1),c.Del),d.lineno,d.col_offset);case t.pass_stmt:return new c.Pass(b.lineno,b.col_offset);case t.flow_stmt:return K(a,b);case t.import_stmt:d=
b;u(d,t.import_stmt);p=d.lineno;e=d.col_offset;d=r(d,0);if(d.type===t.import_name){d=r(d,1);u(d,t.dotted_as_names);for(var I=[],k=0;k<f(d);k+=2)I[k/2]=y(a,r(d,k));d=new c.Import_(I,p,e)}else if(d.type===t.import_from){m=null;n=0;for(I=1;I<f(d);++I){if(r(d,I).type===t.dotted_name){m=y(a,r(d,I));I++;break}else if(r(d,I).type!==M.T_DOT)break;n++}++I;switch(r(d,I).type){case M.T_STAR:d=r(d,I);break;case M.T_LPAR:d=r(d,I+1);f(d);break;case t.import_as_names:d=r(d,I);I=f(d);if(0===I%2)throw l("trailing comma not allowed without surrounding parentheses",
a.c_filename,d.lineno);break;default:throw l("Unexpected node-type in from-import",a.c_filename,d.lineno);}I=[];if(d.type===M.T_STAR)I[0]=y(a,d);else for(k=0;k<f(d);k+=2)I[k/2]=y(a,r(d,k));d=new c.ImportFrom(N(m?m.name:""),I,n,p,e)}else throw l("unknown import statement",a.c_filename,d.lineno);return d;case t.GlobalStmt:d=b;u(d,t.GlobalStmt);p=[];for(e=1;e<f(d);e+=2)p[(e-1)/2]=N(r(d,e).value);return new c.Global(p,d.lineno,d.col_offset);case t.NonLocalStmt:d=b;u(d,t.NonLocalStmt);p=[];for(e=1;e<f(d);e+=
2)p[(e-1)/2]=N(r(d,e).value);return new c.NonLocal(p,d.lineno,d.col_offset);case t.exec_stmt:return d=b,m=e=null,n=f(d),g.assert(2===n||4===n||6===n),u(d,t.exec_stmt),p=L(a,r(d,1)),4<=n&&(e=L(a,r(d,3))),6===n&&(m=L(a,r(d,5))),new c.Exec(p,e,m,d.lineno,d.col_offset);case t.assert_stmt:return d=b,u(d,t.assert_stmt),2===f(d)?d=new c.Assert(L(a,r(d,1)),null,d.lineno,d.col_offset):4===f(d)?d=new c.Assert(L(a,r(d,1)),L(a,r(d,3)),d.lineno,d.col_offset):(g.fail("improper number of parts to assert stmt"),
d=void 0),d;default:g.fail("unhandled small_stmt")}else switch(d=r(b,0),u(b,t.compound_stmt),d.type){case t.if_stmt:u(d,t.if_stmt);if(4===f(d))d=new c.If_(L(a,r(d,1)),v(a,r(d,3)),[],d.lineno,d.col_offset);else if(p=r(d,4).value.charAt(2),"s"===p)d=new c.If_(L(a,r(d,1)),v(a,r(d,3)),v(a,r(d,6)),d.lineno,d.col_offset);else if("i"===p){p=f(d)-4;m=!1;e=[];r(d,p+1).type===M.T_NAME&&"s"===r(d,p+1).value.charAt(2)&&(m=!0,p-=3);p/=4;m&&(e=[new c.If_(L(a,r(d,f(d)-6)),v(a,r(d,f(d)-4)),v(a,r(d,f(d)-1)),r(d,f(d)-
6).lineno,r(d,f(d)-6).col_offset)],p--);for(m=0;m<p;++m)n=5+4*(p-m-1),e=[new c.If_(L(a,r(d,n)),v(a,r(d,n+2)),e,r(d,n).lineno,r(d,n).col_offset)];d=new c.If_(L(a,r(d,1)),v(a,r(d,3)),e,d.lineno,d.col_offset)}else g.fail("unexpected token in 'if' statement"),d=void 0;return d;case t.while_stmt:return u(d,t.while_stmt),4===f(d)?d=new c.While_(L(a,r(d,1)),v(a,r(d,3)),[],d.lineno,d.col_offset):7===f(d)?d=new c.While_(L(a,r(d,1)),v(a,r(d,3)),v(a,r(d,6)),d.lineno,d.col_offset):(g.fail("wrong number of tokens for 'while' stmt"),
d=void 0),d;case t.for_stmt:return p=[],u(d,t.for_stmt),9===f(d)&&(p=v(a,r(d,8))),e=r(d,1),m=D(a,e,c.Store),e=1===f(e)?m[0]:new c.Tuple(m,c.Store,d.lineno,d.col_offset),new c.For_(e,T(a,r(d,3)),v(a,r(d,5)),p,d.lineno,d.col_offset);case t.try_stmt:a:{I=f(d);e=(I-3)/3;n=[];p=null;u(d,t.try_stmt);m=v(a,r(d,2));if(r(d,I-3).type===M.T_NAME)"finally"===r(d,I-3).value?(9<=I&&r(d,I-6).type===M.T_NAME&&(n=v(a,r(d,I-4)),e--),p=v(a,r(d,I-1))):n=v(a,r(d,I-1)),e--;else if(r(d,I-3).type!==t.except_clause)throw l("malformed 'try' statement",
a.c_filename,d.lineno);if(0<e){I=[];for(k=0;k<e;++k){var h=I,s=k,E;E=a;var B=r(d,3+3*k),S=r(d,5+3*k);u(B,t.except_clause);u(S,t.suite);if(1===f(B))E=new c.ExceptHandler(null,null,v(E,S),B.lineno,B.col_offset);else if(2===f(B))E=new c.ExceptHandler(L(E,r(B,1)),null,v(E,S),B.lineno,B.col_offset);else if(4===f(B)){var F=L(E,r(B,3));x(E,F,c.Store,r(B,3));E=new c.ExceptHandler(L(E,r(B,1)),F,v(E,S),B.lineno,B.col_offset)}else g.fail("wrong number of children for except clause"),E=void 0;h[s]=E}e=new c.TryExcept(m,
I,n,d.lineno,d.col_offset);if(!p){d=e;break a}m=[e]}g.assert(null!==p);d=new c.TryFinally(m,p,d.lineno,d.col_offset)}return d;case t.with_stmt:return e=3,g.assert(d.type===t.with_stmt),p=L(a,r(d,1)),r(d,2).type===t.with_var&&(e=r(d,2),u(e,t.with_var),m=L(a,r(e,1)),x(a,m,c.Store,d),e=4),new c.With_(p,m,v(a,r(d,e)),d.lineno,d.col_offset);case t.funcdef:return P(a,d,[]);case t.classdef:return C(a,d,[]);case t.decorated:u(d,t.decorated);e=r(d,0);u(e,t.decorators);p=[];for(m=0;m<f(e);++m){n=p;I=m;k=a;
h=r(e,m);u(h,t.decorator);u(r(h,0),M.T_AT);u(r(h,f(h)-1),M.T_NEWLINE);s=r(h,1);u(s,t.dotted_name);E=s.lineno;for(var B=s.col_offset,S=N(r(s,0).value),F=new c.Name(S,c.Load,E,B),A=2;A<f(s);A+=2)S=N(r(s,A).value),F=new c.Attribute(F,S,c.Load,E,B);s=F;k=3===f(h)?s:5===f(h)?new c.Call(s,[],[],null,null,h.lineno,h.col_offset):w(k,r(h,3),s);n[I]=k}g.assert(r(d,1).type===t.funcdef||r(d,1).type===t.classdef);e=null;r(d,1).type===t.funcdef?e=P(a,r(d,1),p):r(d,1)===t.classdef&&(e=C(a,r(d,1),p));e&&(e.lineno=
d.lineno,e.col_offset=d.col_offset);return e;default:g.assert("unhandled compound_stmt")}}var t=a.ParseTables.sym,M=b.Tokens,Y=Math.pow(2,53),U={};U[M.T_VBAR]=c.BitOr;U[M.T_VBAR]=c.BitOr;U[M.T_CIRCUMFLEX]=c.BitXor;U[M.T_AMPER]=c.BitAnd;U[M.T_LEFTSHIFT]=c.LShift;U[M.T_RIGHTSHIFT]=c.RShift;U[M.T_PLUS]=c.Add;U[M.T_MINUS]=c.Sub;U[M.T_STAR]=c.Mult;U[M.T_SLASH]=c.Div;U[M.T_DOUBLESLASH]=c.FloorDiv;U[M.T_PERCENT]=c.Mod;return{astFromParse:function(a,b){var d=new p("utf-8",b),e=[],l,m=0;switch(a.type){case t.file_input:for(var n=
0;n<f(a)-1;++n)if(l=r(a,n),a.type!==M.T_NEWLINE){u(l,t.stmt);var C=z(l);if(1===C)e[m++]=X(d,l);else{l=r(l,0);u(l,t.simple_stmt);for(var I=0;I<C;++I)e[m++]=X(d,r(l,2*I))}}return new c.Module(e);case t.eval_input:g.fail("todo;");case t.single_input:g.fail("todo;");default:g.fail("todo;")}},astDump:function(a){var b=function(a){if(null===a)return"None";if(a.prototype&&void 0!==a.prototype._astname&&a.prototype._isenum)return a.prototype._astname+"()";if(void 0!==a._astname){for(var c=[],d=0;d<a._fields.length;d+=
2){var g=a._fields[d],p=a._fields[d+1](a);c.push([g,b(p)])}g=[];for(d=0;d<c.length;++d)p=c[d],g.push(p[0]+"="+p[1].replace(/^\s+/,""));d=g.join(",");return a._astname+"("+d+")"}if(e.isArrayLike(a)){c=[];for(d=0;d<a.length;++d)c.push(b(a[d]));return"["+c.join(",").replace(/^\s+/,"")+"]"}return!0===a?"True":!1===a?"False":""+a};return b(a)}}});b("davinci-py/symtable",["davinci-py/astnodes","davinci-py/base","davinci-py/asserts"],function(a,b,c){function d(a,e,g){c.assert(b.isString(a),"message must be a string");
c.assert(b.isString(e),"fileName must be a string");b.isDef(g)&&c.assert(b.isNumber(g),"lineNumber must be a number");a=new SyntaxError(a,e);a.fileName=e;"number"===typeof g&&(a.lineNumber=g);return a}function e(a,b){var c=null;if(null===a||(null===b||"_"!==b.charAt(0)||"_"!==b.charAt(1))||"_"===b.charAt(b.length-1)&&"_"===b.charAt(b.length-2))return b;c=a;c.replace(/_/g,"");if(""===c)return b;c=a;c.replace(/^_*/,"");return"_"+c+b}function g(a,b,c){this.__name=a;this.__flags=b;this.__scope=b>>r&u;
this.__namespaces=c||[]}function l(a,b,c,d,e){this.symFlags={};this.name=b;this.varnames=[];this.children=[];this.blockType=c;this.returnsValue=this.varkeywords=this.varargs=this.generator=this.childHasFree=this.hasFree=this.isNested=!1;this.lineno=e;this.table=a;a.cur&&(a.cur.nested||a.cur.blockType===N)&&(this.isNested=!0);d.scopeId=z++;a.stss[d.scopeId]=this;this.symbols={}}function p(a){this.fileName=a;this.top=this.cur=null;this.stack=[];this.curClass=this.global=null;this.tmpname=0;this.stss=
{}}function f(a,b){for(var c in b)a[c]=b[c]}var r=11,u=7,N="function";g.prototype.get_name=function(){return this.__name};g.prototype.is_referenced=function(){return!!(this.__flags&8)};g.prototype.is_parameter=function(){return!!(this.__flags&4)};g.prototype.is_global=function(){return 3===this.__scope||2==this.__scope};g.prototype.is_declared_global=function(){return 2==this.__scope};g.prototype.is_local=function(){return!!(this.__flags&1030)};g.prototype.is_free=function(){return 4==this.__scope};
g.prototype.is_imported=function(){return!!(this.__flags&1024)};g.prototype.is_assigned=function(){return!!(this.__flags&2)};g.prototype.is_namespace=function(){return this.__namespaces&&0<this.__namespaces.length};g.prototype.get_namespaces=function(){return this.__namespaces};var z=0;l.prototype.get_type=function(){return this.blockType};l.prototype.get_name=function(){return this.name};l.prototype.get_lineno=function(){return this.lineno};l.prototype.is_nested=function(){return this.isNested};
l.prototype.has_children=function(){return 0<this.children.length};l.prototype.get_identifiers=function(){return this._identsMatching(function(a){return!0})};l.prototype.lookup=function(a){if(this.symbols.hasOwnProperty(a))a=this.symbols[a];else{var b=this.symFlags[a],c=this.__check_children(a);a=this.symbols[a]=new g(a,b,c)}return a};l.prototype.__check_children=function(a){for(var b=[],c=0;c<this.children.length;++c){var d=this.children[c];d.name===a&&b.push(d)}return b};l.prototype._identsMatching=
function(a){var b=[],c;for(c in this.symFlags)this.symFlags.hasOwnProperty(c)&&a(this.symFlags[c])&&b.push(c);b.sort();return b};l.prototype.get_parameters=function(){c.assert("function"==this.get_type(),"get_parameters only valid for function scopes");this._funcParams||(this._funcParams=this._identsMatching(function(a){return a&4}));return this._funcParams};l.prototype.get_locals=function(){c.assert("function"==this.get_type(),"get_locals only valid for function scopes");this._funcLocals||(this._funcLocals=
this._identsMatching(function(a){return a&1030}));return this._funcLocals};l.prototype.get_globals=function(){c.assert("function"==this.get_type(),"get_globals only valid for function scopes");this._funcGlobals||(this._funcGlobals=this._identsMatching(function(a){a=a>>r&u;return 3==a||2==a}));return this._funcGlobals};l.prototype.get_frees=function(){c.assert("function"==this.get_type(),"get_frees only valid for function scopes");this._funcFrees||(this._funcFrees=this._identsMatching(function(a){return 4==
(a>>r&u)}));return this._funcFrees};l.prototype.get_methods=function(){c.assert("class"==this.get_type(),"get_methods only valid for class scopes");if(!this._classMethods){for(var a=[],b=0;b<this.children.length;++b)a.push(this.children[b].name);a.sort();this._classMethods=a}return this._classMethods};l.prototype.getScope=function(a){a=this.symFlags[a];return void 0===a?0:a>>r&u};p.prototype.getStsForAst=function(a){c.assert(void 0!==a.scopeId,"ast wasn't added to st?");a=this.stss[a.scopeId];c.assert(void 0!==
a,"unknown sym tab entry");return a};p.prototype.SEQStmt=function(a){for(var b=a.length,c=0;c<b;++c){var d=a[c];d&&this.visitStmt(d)}};p.prototype.SEQExpr=function(a){for(var b=a.length,c=0;c<b;++c){var d=a[c];d&&this.visitExpr(d)}};p.prototype.enterBlock=function(a,b,c,d){var e=null;this.cur&&(e=this.cur,this.stack.push(this.cur));this.cur=new l(this,a,b,c,d);"top"===a&&(this.global=this.cur.symFlags);e&&e.children.push(this.cur)};p.prototype.exitBlock=function(){this.cur=null;0<this.stack.length&&
(this.cur=this.stack.pop())};p.prototype.visitParams=function(b,e){for(var g=0;g<b.length;++g){var p=b[g];if(p.constructor===a.Name)c.assert(p.ctx===a.Param||p.ctx===a.Store&&!e),this.addDef(p.id,4,p.lineno);else throw d("invalid expression in parameter list",this.fileName);}};p.prototype.visitArguments=function(a,b){a.args&&this.visitParams(a.args,!0);a.vararg&&(this.addDef(a.vararg,4,b),this.cur.varargs=!0);a.kwarg&&(this.addDef(a.kwarg,4,b),this.cur.varkeywords=!0)};p.prototype.newTmpname=function(a){this.addDef("_["+
++this.tmpname+"]",2,a)};p.prototype.addDef=function(a,b,c){var g=e(this.curClass,a),p=this.cur.symFlags[g];if(void 0!==p){if(b&4&&p&4)throw d("duplicate argument '"+a+"' in function definition",this.fileName,c);p|=b}else p=b;this.cur.symFlags[g]=p;b&4?this.cur.varnames.push(g):b&1&&(p=b,a=this.global[g],void 0!==a&&(p|=a),this.global[g]=p)};p.prototype.visitSlice=function(b){switch(b.constructor){case a.Slice:b.lower&&this.visitExpr(b.lower);b.upper&&this.visitExpr(b.upper);b.step&&this.visitExpr(b.step);
break;case a.ExtSlice:for(var c=0;c<b.dims.length;++c)this.visitSlice(b.dims[c]);break;case a.Index:this.visitExpr(b.value)}};p.prototype.visitStmt=function(b){c.assert(void 0!==b,"visitStmt called with undefined");switch(b.constructor){case a.FunctionDef:this.addDef(b.name,2,b.lineno);b.args.defaults&&this.SEQExpr(b.args.defaults);b.decorator_list&&this.SEQExpr(b.decorator_list);this.enterBlock(b.name,N,b,b.lineno);this.visitArguments(b.args,b.lineno);this.SEQStmt(b.body);this.exitBlock();break;
case a.ClassDef:this.addDef(b.name,2,b.lineno);this.SEQExpr(b.bases);b.decorator_list&&this.SEQExpr(b.decorator_list);this.enterBlock(b.name,"class",b,b.lineno);var g=this.curClass;this.curClass=b.name;this.SEQStmt(b.body);this.curCalss=g;this.exitBlock();break;case a.Return_:if(b.value&&(this.visitExpr(b.value),this.cur.returnsValue=!0,this.cur.generator))throw d("'return' with argument inside generator",this.fileName);break;case a.Delete_:this.SEQExpr(b.targets);break;case a.Assign:this.SEQExpr(b.targets);
this.visitExpr(b.value);break;case a.AugAssign:this.visitExpr(b.target);this.visitExpr(b.value);break;case a.Print:b.dest&&this.visitExpr(b.dest);this.SEQExpr(b.values);break;case a.For_:this.visitExpr(b.target);this.visitExpr(b.iter);this.SEQStmt(b.body);b.orelse&&this.SEQStmt(b.orelse);break;case a.While_:this.visitExpr(b.test);this.SEQStmt(b.body);b.orelse&&this.SEQStmt(b.orelse);break;case a.If_:this.visitExpr(b.test);this.SEQStmt(b.body);b.orelse&&this.SEQStmt(b.orelse);break;case a.Raise:b.type&&
(this.visitExpr(b.type),b.inst&&(this.visitExpr(b.inst),b.tback&&this.visitExpr(b.tback)));break;case a.TryExcept:this.SEQStmt(b.body);this.SEQStmt(b.orelse);this.visitExcepthandlers(b.handlers);break;case a.TryFinally:this.SEQStmt(b.body);this.SEQStmt(b.finalbody);break;case a.Assert:this.visitExpr(b.test);b.msg&&this.visitExpr(b.msg);break;case a.Import_:case a.ImportFrom:this.visitAlias(b.names,b.lineno);break;case a.Exec:this.visitExpr(b.body);b.globals&&(this.visitExpr(b.globals),b.locals&&this.visitExpr(b.locals));
break;case a.Global:for(var g=b.names.length,p=0;p<g;++p){var l=e(this.curClass,b.names[p]),f=this.cur.symFlags[l];if(f&10){if(f&2)throw d("name '"+l+"' is assigned to before global declaration",this.fileName,b.lineno);throw d("name '"+l+"' is used prior to global declaration",this.fileName,b.lineno);}this.addDef(l,1,b.lineno)}break;case a.Expr:this.visitExpr(b.value);break;case a.Pass:case a.Break_:case a.Continue_:break;case a.With_:this.newTmpname(b.lineno);this.visitExpr(b.context_expr);b.optional_vars&&
(this.newTmpname(b.lineno),this.visitExpr(b.optional_vars));this.SEQStmt(b.body);break;default:c.fail("Unhandled type "+b.constructor.name+" in visitStmt")}};p.prototype.visitExpr=function(b){c.assert(void 0!==b,"visitExpr called with undefined");switch(b.constructor){case a.BoolOp:this.SEQExpr(b.values);break;case a.BinOp:this.visitExpr(b.left);this.visitExpr(b.right);break;case a.UnaryOp:this.visitExpr(b.operand);break;case a.Lambda:this.addDef("lambda",2,b.lineno);b.args.defaults&&this.SEQExpr(b.args.defaults);
this.enterBlock("lambda",N,b,b.lineno);this.visitArguments(b.args,b.lineno);this.visitExpr(b.body);this.exitBlock();break;case a.IfExp:this.visitExpr(b.test);this.visitExpr(b.body);this.visitExpr(b.orelse);break;case a.Dict:this.SEQExpr(b.keys);this.SEQExpr(b.values);break;case a.ListComp:this.newTmpname(b.lineno);this.visitExpr(b.elt);this.visitComprehension(b.generators,0);break;case a.GeneratorExp:this.visitGenexp(b);break;case a.Yield:b.value&&this.visitExpr(b.value);this.cur.generator=!0;if(this.cur.returnsValue)throw d("'return' with argument inside generator",
this.fileName);break;case a.Compare:this.visitExpr(b.left);this.SEQExpr(b.comparators);break;case a.Call:this.visitExpr(b.func);this.SEQExpr(b.args);for(var e=0;e<b.keywords.length;++e)this.visitExpr(b.keywords[e].value);b.starargs&&this.visitExpr(b.starargs);b.kwargs&&this.visitExpr(b.kwargs);break;case a.Num:case a.Str:break;case a.Attribute:this.visitExpr(b.value);break;case a.Subscript:this.visitExpr(b.value);this.visitSlice(b.slice);break;case a.Name:this.addDef(b.id,b.ctx===a.Load?8:2,b.lineno);
break;case a.List:case a.Tuple:this.SEQExpr(b.elts);break;default:c.fail("Unhandled type "+b.constructor.name+" in visitExpr")}};p.prototype.visitComprehension=function(a,b){for(var c=a.length,d=b;d<c;++d){var e=a[d];this.visitExpr(e.target);this.visitExpr(e.iter);this.SEQExpr(e.ifs)}};p.prototype.visitAlias=function(a,b){for(var c=0;c<a.length;++c){var e=a[c],g=e=null===e.asname?e.name:e.asname,p=e.indexOf(".");-1!==p&&(g=e.substr(0,p));if("*"!==e)this.addDef(g,1024,b);else if("module"!==this.cur.blockType)throw d("import * only allowed at module level",
this.fileName);}};p.prototype.visitGenexp=function(a){var b=a.generators[0];this.visitExpr(b.iter);this.enterBlock("genexpr",N,a,a.lineno);this.cur.generator=!0;this.addDef(".0",4,a.lineno);this.visitExpr(b.target);this.SEQExpr(b.ifs);this.visitComprehension(a.generators,1);this.visitExpr(a.elt);this.exitBlock()};p.prototype.visitExcepthandlers=function(a){for(var b=0,c;c=a[b];++b)c.type&&this.visitExpr(c.type),c.name&&this.visitExpr(c.name),this.SEQStmt(c.body)};p.prototype.analyzeBlock=function(a,
b,c,d){var e={},g={},p={},l={},m={};"class"==a.blockType&&(f(p,d),b&&f(l,b));for(var n in a.symFlags)this.analyzeName(a,g,n,a.symFlags[n],b,e,c,d);"class"!==a.blockType&&(a.blockType===N&&f(l,e),b&&f(l,b),f(p,d));d={};e=a.children.length;for(n=0;n<e;++n){var r=a.children[n];this.analyzeChildBlock(r,l,m,p,d);if(r.hasFree||r.childHasFree)a.childHasFree=!0}f(m,d);a.blockType===N&&this.analyzeCells(g,m);this.updateSymbols(a.symFlags,g,b,m,"class"===a.blockType);f(c,m)};p.prototype.analyzeChildBlock=function(a,
b,c,d,e){var g={};f(g,b);b={};f(b,c);c={};f(c,d);this.analyzeBlock(a,g,b,c);f(e,b)};p.prototype.analyzeCells=function(a,b){for(var c in a)1===a[c]&&void 0!==b[c]&&(a[c]=5,delete b[c])};p.prototype.updateSymbols=function(a,b,c,d,e){for(var g in a){var p=a[g],p=p|b[g]<<r;a[g]=p}b=4<<r;for(g in d)d=a[g],void 0!==d?e&&d&1031&&(a[g]=d|512):void 0!==c[g]&&(a[g]=b)};p.prototype.analyzeName=function(a,b,c,e,g,p,l,m){if(e&1){if(e&4)throw d("name '"+c+"' is local and global",this.fileName,a.lineno);b[c]=2;
m[c]=null;g&&void 0!==g[c]&&delete g[c]}else e&1030?(b[c]=1,p[c]=null,delete m[c]):g&&void 0!==g[c]?(b[c]=4,a.hasFree=!0,l[c]=null):(m&&void 0!==m[c]||!a.isNested||(a.hasFree=!0),b[c]=3)};p.prototype.analyze=function(){this.analyzeBlock(this.top,null,{},{})};return{symbolTable:function(a,b){var c=new p(b);c.enterBlock("top","module",a,0);c.top=c.cur;for(var d=0;d<a.body.length;++d)c.visitStmt(a.body[d]);c.exitBlock();c.analyze();return c},mangleName:e,LOCAL:1,GLOBAL_EXPLICIT:2,GLOBAL_IMPLICIT:3,FREE:4,
CELL:5,FunctionBlock:N,dumpSymbolTable:function(a){var b=function(a){return a?"True":"False"},c=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c]);return"["+b.join(", ")+"]"},d=function(a,e){void 0===e&&(e="");var g;g=""+(e+"Sym_type: "+a.get_type()+"\n");g+=e+"Sym_name: "+a.get_name()+"\n";g+=e+"Sym_lineno: "+a.get_lineno()+"\n";g+=e+"Sym_nested: "+b(a.is_nested())+"\n";g+=e+"Sym_haschildren: "+b(a.has_children())+"\n";"class"===a.get_type()?g+=e+"Class_methods: "+c(a.get_methods())+"\n":"function"===
a.get_type()&&(g+=e+"Func_params: "+c(a.get_parameters())+"\n",g+=e+"Func_locals: "+c(a.get_locals())+"\n",g+=e+"Func_globals: "+c(a.get_globals())+"\n",g+=e+"Func_frees: "+c(a.get_frees())+"\n");g+=e+"-- Identifiers --\n";for(var p=a.get_identifiers(),l=p.length,m=0;m<l;++m){var f=a.lookup(p[m]);g+=e+"name: "+f.get_name()+"\n";g+=e+"  is_referenced: "+b(f.is_referenced())+"\n";g+=e+"  is_imported: "+b(f.is_imported())+"\n";g+=e+"  is_parameter: "+b(f.is_parameter())+"\n";g+=e+"  is_global: "+b(f.is_global())+
"\n";g+=e+"  is_declared_global: "+b(f.is_declared_global())+"\n";g+=e+"  is_local: "+b(f.is_local())+"\n";g+=e+"  is_free: "+b(f.is_free())+"\n";g+=e+"  is_assigned: "+b(f.is_assigned())+"\n";g+=e+"  is_namespace: "+b(f.is_namespace())+"\n";var f=f.get_namespaces(),n=f.length;g+=e+"  namespaces: [\n";for(var r=[],k=0;k<n;++k)r.push(d(f[k],e+"    "));g+=r.join("\n");g+=e+"  ]\n"}return g};return d(a.top,"")}}});b("davinci-py/sk-compiler",["davinci-py/parser","davinci-py/astnodes","davinci-py/builder",
"davinci-py/symtable","davinci-py/asserts"],function(a,b,c,d,e){function g(a,b,c,d){this.fileName=a;this.st=b;this.flags=c;this.interactive=!1;this.nestlevel=0;this.u=null;this.stack=[];this.result=[];this.allUnits=[];this.source=d?d.split("\n"):!1}function l(){this.private_=this.name=this.ste=null;this.lineno=this.firstlineno=0;this.linenoSet=!1;this.localnames=[];this.blocknum=0;this.blocks=[];this.curblock=0;this.scopename=null;this.suffixCode=this.switchCode=this.varDeclsCode=this.prefixCode=
"";this.breakBlocks=[];this.continueBlocks=[];this.exceptBlocks=[];this.finallyBlocks=[]}function p(a){return!0!==F[a]?a:a+"_$rw$"}function f(a,b){var c=null;if(null===a||(null===b||"_"!==b.charAt(0)||"_"!==b.charAt(1))||"_"===b.charAt(b.length-1)&&"_"===b.charAt(b.length-2))return b;c=a;c.replace(/_/g,"");if(""===c)return b;c=a;c.replace(/^_*/,"");return"_"+c+b}var r=d.LOCAL,u=d.GLOBAL_EXPLICIT,N=d.GLOBAL_IMPLICIT,z=d.FREE,J=d.CELL,x=d.FunctionBlock,s,E=0;l.prototype.activateScope=function(){var a=
this;s=function(){for(var b=a.blocks[a.curblock],c=0;c<arguments.length;++c)b.push(arguments[c])}};g.prototype.getSourceLine=function(a){e.assert(this.source);return this.source[a-1]};g.prototype.annotateSource=function(a){if(this.source){var b=a.lineno;a=a.col_offset;s("\n//");s("\n// line ",b,":");s("\n// ",this.getSourceLine(b));s("\n// ");for(var c=0;c<a;++c)s(" ");s("^");s("\n//");s("\nSk.currLineNo = ",b,";Sk.currColNo = ",a,";");s("\nSk.currFilename = '",this.fileName,"';\n\n")}};g.prototype.gensym=
function(a){a="$"+(a||"");return a+=E++};g.prototype.niceName=function(a){return this.gensym(a.replace("<","").replace(">","").replace(" ","_"))};var F={"abstract":!0,as:!0,"boolean":!0,"break":!0,"byte":!0,"case":!0,"catch":!0,"char":!0,"class":!0,"continue":!0,"const":!0,"debugger":!0,"default":!0,"delete":!0,"do":!0,"double":!0,"else":!0,"enum":!0,"export":!0,"extends":!0,"false":!0,"final":!0,"finally":!0,"float":!0,"for":!0,"function":!0,"goto":!0,"if":!0,"implements":!0,"import":!0,"in":!0,
"instanceof":!0,"int":!0,"interface":!0,is:!0,"long":!0,namespace:!0,"native":!0,"new":!0,"null":!0,"package":!0,"private":!0,"protected":!0,"public":!0,"return":!0,"short":!0,"static":!0,"super":!1,"switch":!0,"synchronized":!0,"this":!0,"throw":!0,"throws":!0,"transient":!0,"true":!0,"try":!0,"typeof":!0,use:!0,"var":!0,"void":!0,"volatile":!0,"while":!0,"with":!0},v={__defineGetter__:!0,__defineSetter__:!0,apply:!0,call:!0,eval:!0,hasOwnProperty:!0,isPrototypeOf:!0,__lookupGetter__:!0,__lookupSetter__:!0,
__noSuchMethod__:!0,propertyIsEnumerable:!0,toSource:!0,toLocaleString:!0,toString:!0,unwatch:!0,valueOf:!0,watch:!0,length:!0};g.prototype._gr=function(a,b){var c=this.gensym(a);s("var ",c,"=");for(var d=1;d<arguments.length;++d)s(arguments[d]);s(";");return c};g.prototype._interruptTest=function(){s("if (typeof Sk.execStart === 'undefined') {Sk.execStart=new Date()}");s("if (Sk.execLimit !== null && new Date() - Sk.execStart > Sk.execLimit) {throw new Sk.builtin.TimeLimitError(Sk.timeoutMsg())}")};
g.prototype._jumpfalse=function(a,b){var c=this._gr("jfalse","(",a,"===false||!Sk.misceval.isTrue(",a,"))");this._interruptTest();s("if(",c,"){/*test failed */$blk=",b,";continue;}")};g.prototype._jumpundef=function(a,b){this._interruptTest();s("if(typeof ",a," === 'undefined'){$blk=",b,";continue;}")};g.prototype._jumptrue=function(a,b){var c=this._gr("jtrue","(",a,"===true||Sk.misceval.isTrue(",a,"))");this._interruptTest();s("if(",c,"){/*test passed */$blk=",b,";continue;}")};g.prototype._jump=
function(a){this._interruptTest();s("$blk=",a,";/* jump */continue;")};g.prototype.ctupleorlist=function(a,c,d){e.assert("tuple"===d||"list"===d);if(a.ctx===b.Store)for(var g=0;g<a.elts.length;++g)this.vexpr(a.elts[g],"Sk.abstr.objectGetItem("+c+","+g+")");else if(a.ctx===b.Load){c=[];for(g=0;g<a.elts.length;++g)c.push(this._gr("elem",this.vexpr(a.elts[g])));return this._gr("load"+d,"new Sk.builtins['",d,"']([",c,"])")}};g.prototype.cdict=function(a){e.assert(a.values.length===a.keys.length);for(var b=
[],c=0;c<a.values.length;++c){var d=this.vexpr(a.values[c]);b.push(this.vexpr(a.keys[c]));b.push(d)}return this._gr("loaddict","new Sk.builtins['dict']([",b,"])")};g.prototype.clistcompgen=function(a,b,c,d){var e=this.newBlock("list gen start"),g=this.newBlock("list gen skip"),p=this.newBlock("list gen anchor"),l=b[c],m=this.vexpr(l.iter),m=this._gr("iter","Sk.abstr.iter(",m,")");this._jump(e);this.setBlock(e);m=this._gr("next","Sk.abstr.iternext(",m,")");this._jumpundef(m,p);this.vexpr(l.target,
m);for(var m=l.ifs.length,f=0;f<m;++f){var n=this.vexpr(l.ifs[f]);this._jumpfalse(n,e)}++c<b.length&&this.clistcompgen(a,b,c,d);c>=b.length&&(b=this.vexpr(d),s(a,".v.push(",b,");"),this._jump(g),this.setBlock(g));this._jump(e);this.setBlock(p);return a};g.prototype.clistcomp=function(a){e.assert(a instanceof b.ListComp);var c=this._gr("_compr","new Sk.builtins['list']([])");return this.clistcompgen(c,a.generators,0,a.elt)};g.prototype.cyield=function(a){if(this.u.ste.blockType!==x)throw new SyntaxError("'yield' outside function");
var b="null";a.value&&(b=this.vexpr(a.value));a=this.newBlock("after yield");s("return [/*resume*/",a,",/*ret*/",b,"];");this.setBlock(a);return"$gen.gi$sentvalue"};g.prototype.ccompare=function(a){e.assert(a.ops.length===a.comparators.length);for(var b=this.vexpr(a.left),c=a.ops.length,d=this.newBlock("done"),g=this._gr("compareres","null"),p=0;p<c;++p){var l=this.vexpr(a.comparators[p]),b=this._gr("compare","Sk.builtin.bool(Sk.misceval.richCompareBool(",b,",",l,",'",a.ops[p].prototype._astname,
"'))");s(g,"=",b,";");this._jumpfalse(b,d);b=l}this._jump(d);this.setBlock(d);return g};g.prototype.ccall=function(a){var b=this.vexpr(a.func),c=this.vseqexpr(a.args);if(0<a.keywords.length||a.starargs||a.kwargs){for(var d=[],e=0;e<a.keywords.length;++e)d.push("'"+a.keywords[e].arg+"'"),d.push(this.vexpr(a.keywords[e].value));var d="["+d.join(",")+"]",g=e="undefined";a.starargs&&(e=this.vexpr(a.starargs));a.kwargs&&(g=this.vexpr(a.kwargs));return this._gr("call","Sk.misceval.call(",b,",",g,",",e,
",",d,0<c.length?",":"",c,")")}return this._gr("call","Sk.misceval.callsim(",b,0<c.length?",":"",c,")")};g.prototype.cslice=function(a){e.assert(a instanceof b.Slice);var c=a.lower?this.vexpr(a.lower):"null",d=a.upper?this.vexpr(a.upper):"null";a=a.step?this.vexpr(a.step):"null";return this._gr("slice","new Sk.builtins['slice'](",c,",",d,",",a,")")};g.prototype.vslicesub=function(a){var c;switch(a.constructor){case Number:case String:c=a;break;case b.Index:c=this.vexpr(a.value);break;case b.Slice:c=
this.cslice(a);break;case b.Ellipsis:case b.ExtSlice:e.fail("todo;");break;default:e.fail("invalid subscript kind")}return c};g.prototype.vslice=function(a,b,c,d){a=this.vslicesub(a);return this.chandlesubscr(b,c,a,d)};g.prototype.chandlesubscr=function(a,c,d,g){if(a===b.Load||a===b.AugLoad)return this._gr("lsubscr","Sk.abstr.objectGetItem(",c,",",d,")");a===b.Store||a===b.AugStore?s("Sk.abstr.objectSetItem(",c,",",d,",",g,");"):a===b.Del?s("Sk.abstr.objectDelItem(",c,",",d,");"):e.fail("handlesubscr fail")};
g.prototype.cboolop=function(a){e.assert(a instanceof b.BoolOp);var c;c=a.op===b.And?this._jumpfalse:this._jumptrue;var d=this.newBlock("end of boolop");a=a.values;for(var g=a.length,p,l=0;l<g;++l){var f=this.vexpr(a[l]);0===l&&(p=this._gr("boolopsucc",f));s(p,"=",f,";");c.call(this,f,d)}this._jump(d);this.setBlock(d);return p};var D=function(a){var b="'";-1!==a.indexOf("'")&&-1===a.indexOf('"')&&(b='"');for(var c=a.length,d=b,e=0;e<c;++e){var g=a.charAt(e);g===b||"\\"===g?d+="\\"+g:"\t"===g?d+="\\t":
"\n"===g?d+="\\n":"\r"===g?d+="\\r":" ">g||127<=g?(g=g.charCodeAt(0).toString(16),2>g.length&&(g="0"+g),d+="\\x"+g):d+=g}return d+b};g.prototype.vexpr=function(a,c,d){a.lineno>this.u.lineno&&(this.u.lineno=a.lineno,this.u.linenoSet=!1);switch(a.constructor){case b.BoolOp:return this.cboolop(a);case b.BinOp:return this._gr("binop","Sk.abstr.numberBinOp(",this.vexpr(a.left),",",this.vexpr(a.right),",'",a.op.prototype._astname,"')");case b.UnaryOp:return this._gr("unaryop","Sk.abstr.numberUnaryOp(",
this.vexpr(a.operand),",'",a.op.prototype._astname,"')");case b.Lambda:return this.clambda(a);case b.IfExp:return this.cifexp(a);case b.Dict:return this.cdict(a);case b.ListComp:return this.clistcomp(a);case b.GeneratorExp:return this.cgenexp(a);case b.Yield:return this.cyield(a);case b.Compare:return this.ccompare(a);case b.Call:return c=this.ccall(a),this.annotateSource(a),c;case b.Num:if(a.n.isFloat())return"Sk.builtin.numberToPy("+a.n.value+")";if(a.n.isInt())return"Sk.ffi.numberToIntPy("+a.n.value+
")";if(a.n.isLong())return"Sk.ffi.longFromString('"+a.n.text+"', "+a.n.radix+")";e.fail("unhandled Num type");case b.Str:return this._gr("str","Sk.builtin.stringToPy(",D(a.s),")");case b.Attribute:var g;a.ctx!==b.AugStore&&(g=this.vexpr(a.value));var l=D(a.attr),l=l.substring(1,l.length-1),l=f(this.u.private_,l),l=p(l),l=v[l]?l+"_$rn$":l;switch(a.ctx){case b.AugLoad:case b.Load:return this._gr("lattr","Sk.abstr.gattr(",g,",'",l,"')");case b.AugStore:s("if(typeof ",c," !== 'undefined'){");g=this.vexpr(d||
null);s("Sk.abstr.sattr(",g,",'",l,"',",c,");");s("}");break;case b.Store:s("Sk.abstr.sattr(",g,",'",l,"',",c,");");break;case b.Del:e.fail("todo;");break;default:e.fail("invalid attribute expression")}break;case b.Subscript:switch(a.ctx){case b.AugLoad:case b.Load:case b.Store:case b.Del:return this.vslice(a.slice,a.ctx,this.vexpr(a.value),c);case b.AugStore:s("if(typeof ",c," !== 'undefined'){");g=this.vexpr(d||null);this.vslice(a.slice,a.ctx,g,c);s("}");break;default:e.fail("invalid subscript expression")}break;
case b.Name:return this.nameop(a.id,a.ctx,c);case b.List:return this.ctupleorlist(a,c,"list");case b.Tuple:return this.ctupleorlist(a,c,"tuple");default:e.fail("unhandled case in vexpr")}};g.prototype.vseqexpr=function(a,b){var c="undefined"===typeof b;e.assert(c||a.length===b.length);for(var d=[],g=0;g<a.length;++g)d.push(this.vexpr(a[g],c?void 0:b[g]));return d};g.prototype.caugassign=function(a){e.assert(a instanceof b.AugAssign);var c=a.target;switch(c.constructor){case b.Attribute:var d=new b.Attribute(c.value,
c.attr,b.AugLoad,c.lineno,c.col_offset),g=this.vexpr(d),p=this.vexpr(a.value);a=this._gr("inplbinopattr","Sk.abstr.numberInplaceBinOp(",g,",",p,",'",a.op.prototype._astname,"')");d.ctx=b.AugStore;return this.vexpr(d,a,c.value);case b.Subscript:return d=this.vslicesub(c.slice),d=new b.Subscript(c.value,d,b.AugLoad,c.lineno,c.col_offset),g=this.vexpr(d),p=this.vexpr(a.value),a=this._gr("inplbinopsubscr","Sk.abstr.numberInplaceBinOp(",g,",",p,",'",a.op.prototype._astname,"')"),d.ctx=b.AugStore,this.vexpr(d,
a,c.value);case b.Name:return d=this.nameop(c.id,b.Load),p=this.vexpr(a.value),a=this._gr("inplbinop","Sk.abstr.numberInplaceBinOp(",d,",",p,",'",a.op.prototype._astname,"')"),this.nameop(c.id,b.Store,a);default:e.fail("unhandled case in augassign")}};g.prototype.exprConstant=function(a){switch(a.constructor){case b.Num:return Sk.misceval.isTrue(a.n);case b.Str:return Sk.misceval.isTrue(a.s);default:return-1}};g.prototype.newBlock=function(a){var b=this.u.blocknum++;this.u.blocks[b]=[];this.u.blocks[b]._name=
a||"<unnamed>";return b};g.prototype.setBlock=function(a){e.assert(0<=a&&a<this.u.blocknum);this.u.curblock=a};g.prototype.pushBreakBlock=function(a){e.assert(0<=a&&a<this.u.blocknum);this.u.breakBlocks.push(a)};g.prototype.popBreakBlock=function(){this.u.breakBlocks.pop()};g.prototype.pushContinueBlock=function(a){e.assert(0<=a&&a<this.u.blocknum);this.u.continueBlocks.push(a)};g.prototype.popContinueBlock=function(){this.u.continueBlocks.pop()};g.prototype.pushExceptBlock=function(a){e.assert(0<=
a&&a<this.u.blocknum);this.u.exceptBlocks.push(a)};g.prototype.popExceptBlock=function(){this.u.exceptBlocks.pop()};g.prototype.pushFinallyBlock=function(a){e.assert(0<=a&&a<this.u.blocknum);this.u.finallyBlocks.push(a)};g.prototype.popFinallyBlock=function(){this.u.finallyBlocks.pop()};g.prototype.setupExcept=function(a){s("$exc.push(",a,");")};g.prototype.endExcept=function(){s("$exc.pop();")};g.prototype.outputLocals=function(a){for(var b={},c=0;a.argnames&&c<a.argnames.length;++c)b[a.argnames[c]]=
!0;a.localnames.sort();for(var d=[],c=0;c<a.localnames.length;++c){var e=a.localnames[c];void 0===b[e]&&(d.push(e),b[e]=!0)}return 0<d.length?"var "+d.join(",")+"; /* locals */":""};g.prototype.outputAllUnits=function(){for(var a="",b=0;b<this.allUnits.length;++b){for(var c=this.allUnits[b],a=a+c.prefixCode,a=a+this.outputLocals(c),a=a+c.varDeclsCode,a=a+c.switchCode,d=c.blocks,e=0;e<d.length;++e)a+="case "+e+": /* --- "+d[e]._name+" --- */",a+=d[e].join("");a+=c.suffixCode}return a};g.prototype.cif=
function(a){e.assert(a instanceof b.If_);var c=this.exprConstant(a.test);if(0===c)a.orelse&&this.vseqstmt(a.orelse);else if(1===c)this.vseqstmt(a.body);else{var d=this.newBlock("end of if"),c=this.newBlock("next branch of if"),g=this.vexpr(a.test);this._jumpfalse(g,c);this.vseqstmt(a.body);this._jump(d);this.setBlock(c);a.orelse&&this.vseqstmt(a.orelse);this._jump(d)}this.setBlock(d)};g.prototype.cwhile=function(a){if(0===this.exprConstant(a.test))a.orelse&&this.vseqstmt(a.orelse);else{var b=this.newBlock("while test");
this._jump(b);this.setBlock(b);var c=this.newBlock("after while"),d=0<a.orelse.length?this.newBlock("while orelse"):null,e=this.newBlock("while body");this._jumpfalse(this.vexpr(a.test),d?d:c);this._jump(e);this.pushBreakBlock(c);this.pushContinueBlock(b);this.setBlock(e);this.vseqstmt(a.body);this._jump(b);this.popContinueBlock();this.popBreakBlock();0<a.orelse.length&&(this.setBlock(d),this.vseqstmt(a.orelse),this._jump(c));this.setBlock(c)}};g.prototype.cfor=function(a){var b=this.newBlock("for start"),
c=this.newBlock("for cleanup"),d=this.newBlock("for end");this.pushBreakBlock(d);this.pushContinueBlock(b);var e=this.vexpr(a.iter),g;this.u.ste.generator?(g="$loc."+this.gensym("iter"),s(g,"=Sk.abstr.iter(",e,");")):g=this._gr("iter","Sk.abstr.iter(",e,")");this._jump(b);this.setBlock(b);e=this._gr("next","Sk.abstr.iternext(",g,")");this._jumpundef(e,c);this.vexpr(a.target,e);this.vseqstmt(a.body);this._jump(b);this.setBlock(c);this.popContinueBlock();this.popBreakBlock();this.vseqstmt(a.orelse);
this._jump(d);this.setBlock(d)};g.prototype.craise=function(a){if(a&&a.type&&a.type.id&&"StopIteration"===a.type.id)s("return undefined;");else{var b="";a.inst?(b=this.vexpr(a.inst),s("throw ",this.vexpr(a.type),"(",b,");")):a.type?a.type.func?s("throw ",this.vexpr(a.type),";"):s("throw ",this.vexpr(a.type),"('');"):s("throw $err;")}};g.prototype.ctryexcept=function(a){for(var b=a.handlers.length,c=[],d=0;d<b;++d)c.push(this.newBlock("except_"+d+"_"));var e=this.newBlock("unhandled"),g=this.newBlock("orelse"),
p=this.newBlock("end");this.setupExcept(c[0]);this.vseqstmt(a.body);this.endExcept();this._jump(g);for(d=0;d<b;++d){this.setBlock(c[d]);var l=a.handlers[d];if(!l.type&&d<b-1)throw new SyntaxError("default 'except:' must be last");if(l.type){var m=this.vexpr(l.type),f=d==b-1?e:c[d+1],m=this._gr("instance","$err instanceof ",m);this._jumpfalse(m,f)}l.name&&this.vexpr(l.name,"$err");this.vseqstmt(l.body);this._jump(p)}this.setBlock(e);s("throw $err;");this.setBlock(g);this.vseqstmt(a.orelse);this._jump(p);
this.setBlock(p)};g.prototype.ctryfinally=function(a){s("/*todo; tryfinally*/");this.ctryexcept(a.body[0])};g.prototype.cassert=function(a){var b=this.vexpr(a.test),c=this.newBlock("end");this._jumptrue(b,c);s("throw new Sk.builtin.AssertionError(",a.msg?this.vexpr(a.msg):"",");");this.setBlock(c)};g.prototype.cimportas=function(a,c,d){var e=a.indexOf(".");if(-1!==e)for(a=a.substr(e+1);-1!==e;){var e=a.indexOf("."),g=-1!==e?a.substr(0,e):a;d=this._gr("lattr","Sk.abstr.gattr(",d,",'",g,"')");a=a.substr(e+
1)}return this.nameop(c,b.Store,d)};g.prototype.cimport=function(a){for(var c=a.names.length,d=0;d<c;++d){var e=a.names[d],g=this._gr("module","Sk.builtin.__import__(",D(e.name),",$gbl,$loc,[])");if(e.asname)this.cimportas(e.name,e.asname,g);else{var p=e.name.indexOf(".");-1!==p?this.nameop(e.name.substr(0,p),b.Store,g):this.nameop(e.name,b.Store,g)}}};g.prototype.cfromimport=function(a){for(var c=a.names.length,d=[],g=0;g<c;++g)d[g]=a.names[g].name;g=d.map(function(a){return D(a)}).join(", ");d=
this._gr("module","Sk.builtin.__import__(",D(a.module),",$gbl,$loc,[",g,"])");for(g=0;g<c;++g){var p=a.names[g];if(0===g&&"*"===p.name){e.assert(1===c);s("Sk.importStar(",d,",$loc, $gbl);");break}var l=this._gr("item","Sk.abstr.gattr(",d,",",D(p.name),")"),f=p.name;p.asname&&(f=p.asname);this.nameop(f,b.Store,l)}};g.prototype.buildcodeobj=function(a,c,d,e,g){var p=[],l=null,m=null;d&&this.vseqexpr(d);e&&e.defaults&&(p=this.vseqexpr(e.defaults));e&&e.vararg&&(l=e.vararg);e&&e.kwarg&&(m=e.kwarg);d=
this.u.ste.hasFree;var f=this.u.ste.childHasFree;a=this.enterScope(c,a,a.lineno);var n=this.u.ste.generator,r=this.u.ste.hasFree,q=this.u.ste.childHasFree,h=this.u.ste.hasFree,H=this.newBlock("codeobj entry");this.u.prefixCode="var "+a+"=(function "+this.niceName(c)+"$(";var u=[];if(n){if(m)throw new SyntaxError(c+"(): keyword arguments in generators not supported");if(l)throw new SyntaxError(c+"(): variable number of arguments in generators not supported");u.push("$gen")}else{m&&u.push("$kwa");for(var z=
0;e&&z<e.args.length;++z)u.push(this.nameop(e.args[z].id,b.Param))}h&&u.push("$free");this.u.prefixCode+=u.join(",");this.u.prefixCode+="){";n&&(this.u.prefixCode+="\n// generator\n");d&&(this.u.prefixCode+="\n// containing has free\n");f&&(this.u.prefixCode+="\n// containing has cell\n");r&&(this.u.prefixCode+="\n// has free\n");q&&(this.u.prefixCode+="\n// has cell\n");z="{}";n&&(H="$gen.gi$resumeat",z="$gen.gi$locals");f="";q&&(f=",$cell={}");this.u.varDeclsCode+="var $blk="+H+",$exc=[],$loc="+
z+f+",$gbl=this,$err;";for(z=0;e&&z<e.args.length;++z)q=e.args[z].id,this.isCell(q)&&(this.u.varDeclsCode+="$cell."+q+"="+q+";");n||(this.u.varDeclsCode+='Sk.builtin.pyCheckArgs("'+c+'", arguments, '+(e?e.args.length-p.length:0)+", "+(l?Infinity:e?e.args.length:0)+", "+(m?!0:!1)+", "+h+");");if(0<p.length)for(h=e.args.length-p.length,z=0;z<p.length;++z)q=this.nameop(e.args[z+h].id,b.Param),this.u.varDeclsCode+="if(typeof "+q+" === 'undefined')"+q+"="+a+".$defaults["+z+"];";l&&(this.u.varDeclsCode+=
l+"=new Sk.builtins['tuple'](Array.prototype.slice.call(arguments,"+u.length+")); /*vararg*/");m&&(this.u.varDeclsCode+=m+"=new Sk.builtins['dict']($kwa);");this.u.switchCode="while(true){try{switch($blk){";this.u.suffixCode="}}catch(err){if ($exc.length>0) {$err=err;$blk=$exc.pop();continue;} else {throw err;}}}});";g.call(this,a);var x;if(e&&0<e.args.length){g=[];for(z=0;z<e.args.length;++z)g.push(e.args[z].id);x=g.join("', '");this.u.argnames=g}this.exitScope();0<p.length&&s(a,".$defaults=[",p.join(","),
"];");x&&s(a,".co_varnames=['",x,"'];");m&&s(a,".co_kwargs=1;");m="";r&&(m=",$cell",d&&(m+=",$free"));return n?e&&0<e.args.length?this._gr("gener","new Sk.builtins['function']((function(){var $origargs=Array.prototype.slice.call(arguments);Sk.builtin.pyCheckArgs(\"",c,'",arguments,',e.args.length-p.length,",",e.args.length,");return new Sk.builtins['generator'](",a,",$gbl,$origargs",m,");}))"):this._gr("gener","new Sk.builtins['function']((function(){Sk.builtin.pyCheckArgs(\"",c,"\",arguments,0,0);return new Sk.builtins['generator'](",
a,",$gbl,[]",m,");}))"):this._gr("funcobj","new Sk.builtins['function'](",a,",$gbl",m,")")};g.prototype.cfunction=function(a){e.assert(a instanceof b.FunctionDef);var c=this.buildcodeobj(a,a.name,a.decorator_list,a.args,function(b){this.vseqstmt(a.body);s("return Sk.builtin.none.none$;")});this.nameop(a.name,b.Store,c)};g.prototype.clambda=function(a){e.assert(a instanceof b.Lambda);return this.buildcodeobj(a,"<lambda>",null,a.args,function(b){b=this.vexpr(a.body);s("return ",b,";")})};g.prototype.cifexp=
function(a){var b=this.newBlock("next of ifexp"),c=this.newBlock("end of ifexp"),d=this._gr("res","null"),e=this.vexpr(a.test);this._jumpfalse(e,b);s(d,"=",this.vexpr(a.body),";");this._jump(c);this.setBlock(b);s(d,"=",this.vexpr(a.orelse),";");this._jump(c);this.setBlock(c);return d};g.prototype.cgenexpgen=function(a,b,c){var d=this.newBlock("start for "+b),e=this.newBlock("skip for "+b);this.newBlock("if cleanup for "+b);var g=this.newBlock("end for "+b),p=a[b],l;if(0===b)l="$loc.$iter0";else{var m=
this.vexpr(p.iter);l="$loc."+this.gensym("iter");s(l,"=","Sk.abstr.iter(",m,");")}this._jump(d);this.setBlock(d);l=this._gr("next","Sk.abstr.iternext(",l,")");this._jumpundef(l,g);this.vexpr(p.target,l);l=p.ifs.length;for(m=0;m<l;++m){var f=this.vexpr(p.ifs[m]);this._jumpfalse(f,d)}++b<a.length&&this.cgenexpgen(a,b,c);b>=a.length&&(a=this.vexpr(c),s("return [",e,"/*resume*/,",a,"/*ret*/];"),this.setBlock(e));this._jump(d);this.setBlock(g);1===b&&s("return null;")};g.prototype.cgenexp=function(a){var b=
this.buildcodeobj(a,"<genexpr>",null,null,function(b){this.cgenexpgen(a.generators,0,a.elt)}),b=this._gr("gener","Sk.misceval.callsim(",b,");");s(b,".gi$locals.$iter0=Sk.abstr.iter(",this.vexpr(a.generators[0].iter),");");return b};g.prototype.cclass=function(a){e.assert(a instanceof b.ClassDef);var c=this.vseqexpr(a.bases),d=this.enterScope(a.name,a,a.lineno),g=this.newBlock("class entry");this.u.prefixCode="var "+d+"=(function $"+a.name+"$class_outer($globals,$locals,$rest){var $gbl=$globals,$loc=$locals;";
this.u.switchCode+="return(function "+a.name+"(){";this.u.switchCode+="var $blk="+g+",$exc=[];while(true){switch($blk){";this.u.suffixCode="}break;}}).apply(null,$rest);});";this.u.private_=a.name;this.cbody(a.body);s("break;");this.exitScope();c=this._gr("built","Sk.misceval.buildClass($gbl,",d,",",D(a.name),",[",c,"])");this.nameop(a.name,b.Store,c)};g.prototype.ccontinue=function(a){if(0===this.u.continueBlocks.length)throw new SyntaxError("'continue' outside loop");this._jump(this.u.continueBlocks[this.u.continueBlocks.length-
1])};g.prototype.vstmt=function(a){this.u.lineno=a.lineno;this.u.linenoSet=!1;this.annotateSource(a);switch(a.constructor){case b.FunctionDef:this.cfunction(a);break;case b.ClassDef:this.cclass(a);break;case b.Return_:if(this.u.ste.blockType!==x)throw new SyntaxError("'return' outside function");a.value?s("return ",this.vexpr(a.value),";"):s("return null;");break;case b.Delete_:this.vseqexpr(a.targets);break;case b.Assign:for(var c=a.targets.length,d=this.vexpr(a.value),g=0;g<c;++g)this.vexpr(a.targets[g],
d);break;case b.AugAssign:return this.caugassign(a);case b.Print:this.cprint(a);break;case b.For_:return this.cfor(a);case b.While_:return this.cwhile(a);case b.If_:return this.cif(a);case b.Raise:return this.craise(a);case b.TryExcept:return this.ctryexcept(a);case b.TryFinally:return this.ctryfinally(a);case b.Assert:return this.cassert(a);case b.Import_:return this.cimport(a);case b.ImportFrom:return this.cfromimport(a);case b.Global:break;case b.Expr:this.vexpr(a.value);break;case b.Pass:break;
case b.Break_:if(0===this.u.breakBlocks.length)throw new SyntaxError("'break' outside loop");this._jump(this.u.breakBlocks[this.u.breakBlocks.length-1]);break;case b.Continue_:this.ccontinue(a);break;default:e.fail("unhandled case in vstmt")}};g.prototype.vseqstmt=function(a){for(var b=0;b<a.length;++b)this.vstmt(a[b])};g.prototype.isCell=function(a){a=f(this.u.private_,a);return this.u.ste.getScope(a)===d.CELL?!0:!1};g.prototype.nameop=function(a,c,d){if((c===b.Store||c===b.AugStore||c===b.Del)&&
"__debug__"===a)throw new SyntaxError("can not assign to __debug__");if((c===b.Store||c===b.AugStore||c===b.Del)&&"None"===a)throw new SyntaxError("can not assign to None");if("None"===a)return"Sk.builtin.none.none$";if("True"===a)return"Sk.ffi.bool.True";if("False"===a)return"Sk.ffi.bool.False";var g=f(this.u.private_,a),l=3,n=this.u.ste.getScope(g),q=null;switch(n){case z:q="$free";l=2;break;case J:q="$cell";l=2;break;case r:this.u.ste.blockType!==x||this.u.ste.generator||(l=0);break;case N:this.u.ste.blockType===
x&&(l=1);break;case u:l=1}g=v[g]?g+"_$rn$":g;g=p(g);e.assert(n||"_"===a.charAt(1));a=g;this.u.ste.generator||this.u.ste.blockType!==x?g="$loc."+g:0!==l&&3!==l||this.u.localnames.push(g);switch(l){case 0:switch(c){case b.Load:case b.Param:return s("if (typeof ",g," === 'undefined') { throw new Error('local variable \\'",g,"\\' referenced before assignment'); }\n"),g;case b.Store:s(g,"=",d,";");break;case b.Del:s("delete ",g,";");break;default:e.fail("unhandled")}break;case 3:switch(c){case b.Load:return c=
this.gensym("loadname"),s("var ",c,"=(typeof ",g," !== 'undefined') ? ",g,":Sk.misceval.loadname('",a,"',$gbl);"),c;case b.Store:s(g,"=",d,";");break;case b.Del:s("delete ",g,";");break;case b.Param:return g;default:e.fail("unhandled")}break;case 1:switch(c){case b.Load:return this._gr("loadgbl","Sk.misceval.loadname('",a,"',$gbl)");case b.Store:s("$gbl.",a,"=",d,";");break;case b.Del:s("delete $gbl.",a);break;default:e.fail("unhandled case in name op_global")}break;case 2:switch(c){case b.Load:return q+
"."+a;case b.Store:s(q,".",a,"=",d,";");break;case b.Param:return a;default:e.fail("unhandled case in name op_deref")}break;default:e.fail("unhandled case")}};g.prototype.enterScope=function(a,b,c){var d=new l;d.ste=this.st.getStsForAst(b);d.name=a;d.firstlineno=c;this.u&&this.u.private_&&(d.private_=this.u.private_);this.stack.push(this.u);this.allUnits.push(d);a=this.gensym("scope");d.scopename=a;this.u=d;this.u.activateScope();this.nestlevel++;return a};g.prototype.exitScope=function(){var a=this.u;
this.nestlevel--;(this.u=0<=this.stack.length-1?this.stack.pop():null)&&this.u.activateScope();if("<module>"!==a.name){var b=a.name,b=p(b),b=v[b]?b+"_$rn$":b;s(a.scopename,".co_name=Sk.builtin.stringToPy('",b,"');")}};g.prototype.cbody=function(a){for(var b=0;b<a.length;++b)this.vstmt(a[b])};g.prototype.cprint=function(a){e.assert(a instanceof b.Print);a.dest&&this.vexpr(a.dest);for(var c=a.values.length,d=0;d<c;++d)s("Sk.misceval.print_(Sk.ffi.remapToJs(new Sk.builtins.str(",this.vexpr(a.values[d]),
")));");a.nl&&s("Sk.misceval.print_('\\n');")};g.prototype.cmod=function(a){var c=this.enterScope("<module>",a,0),d=this.newBlock("module entry");this.u.prefixCode="var "+c+"=(function($modname){";this.u.varDeclsCode="var $blk="+d+",$exc=[],$gbl={},$loc=$gbl,$err;$gbl.__name__=$modname;Sk.globals=$gbl;";this.u.switchCode="try {while(true){try{switch($blk){";this.u.suffixCode="}}catch(err){if ($exc.length>0) {$err=err;$blk=$exc.pop();continue;} else {throw err;}}}}catch(err){if (err instanceof Sk.builtin.SystemExit && !Sk.throwSystemExit) { Sk.misceval.print_(err.toString() + '\\n'); return $loc; } else { throw err; } } });";
switch(a.constructor){case b.Module:this.cbody(a.body);s("return $loc;");break;default:e.fail("todo; unhandled case in compilerMod")}this.exitScope();this.result.push(this.outputAllUnits());return c};return{compile:function(b,e){var p=a.parse(e,b),p=c.astFromParse(p,e),l=d.symbolTable(p,e),l=new g(e,l,0,b);return{funcname:l.cmod(p),code:l.result.join("")}},resetCompiler:function(){E=0}}});b("davinci-py","require exports module davinci-py/core davinci-py/base davinci-py/asserts davinci-py/tables davinci-py/astnodes davinci-py/parser davinci-py/builder davinci-py/symtable davinci-py/tokenize davinci-py/numericLiteral davinci-py/sk-compiler".split(" "),
function(a,b,c){b=a("davinci-py/core");b.base=a("davinci-py/base");b.asserts=a("davinci-py/asserts");b.tables=a("davinci-py/tables");b.astnodes=a("davinci-py/astnodes");b.parser=a("davinci-py/parser");b.builder=a("davinci-py/builder");b.symtable=a("davinci-py/symtable");b.tokenize=a("davinci-py/tokenize");b.numericLiteral=a("davinci-py/numericLiteral");b.skCompiler=a("davinci-py/sk-compiler");return b});var f=e("davinci-py");(function(){"undefined"!==typeof module&&module.exports?module.exports=f:
c?function(a){a(function(a,b,c){return f})}(c):a.davinciPy=f})()})(this,void 0);goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};
goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptySafe=function(a){return goog.string.isEmpty(goog.string.makeSafe(a))};
goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||"\u0080"<=a&&"\ufffd">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};
goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=a.toLowerCase().match(goog.string.numerateCompareRegExp_),d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),e=Math.min(c.length,d.length),f=0;f<e;f++){var h=c[f],k=d[f];if(h!=k)return c=parseInt(h,10),!isNaN(c)&&(d=parseInt(k,10),!isNaN(d)&&c-d)?c-d:h<k?-1:1}return c.length!=d.length?c.length-d.length:a<b?-1:1};goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};
goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};
goog.string.htmlEscape=function(a,b){if(b)return a.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");if(!goog.string.allRe_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.amperRe_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.ltRe_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.gtRe_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.quotRe_,"&quot;"));return a};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};
goog.string.unescapeEntitiesUsingDom_=function(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=document.createElement("div");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,e){var f=b[a];if(f)return f;if("#"==e.charAt(0)){var h=Number("0"+e.substr(1));isNaN(h)||(f=String.fromCharCode(h))}f||(c.innerHTML=a+" ",f=c.firstChild.nodeValue.slice(0,-1));return b[a]=f})};
goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};
goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+"...");c&&(a=goog.string.htmlEscape(a));return a};
goog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('"');return b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};
goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a,c=a.charCodeAt(0);if(31<c&&127>c)b=a;else{if(256>c){if(b="\\x",16>c||256<c)b+="0"}else b="\\u",4096>c&&(b+="0");b+=c.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=b};goog.string.toMap=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=!0;return b};
goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&(b<a.length&&0<c)&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){var c=RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};goog.string.removeAll=function(a,b){var c=RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};
goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(".");-1==c&&(c=a.length);return goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(a,b){for(var c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),h=0;0==c&&h<f;h++){var k=d[h]||"",q=e[h]||"",n=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var g=n.exec(k)||["","",""],l=m.exec(q)||["","",""];if(0==g[0].length&&0==l[0].length)break;var c=0==g[1].length?0:parseInt(g[1],10),p=0==l[1].length?0:parseInt(l[1],10),c=goog.string.compareElements_(c,p)||goog.string.compareElements_(0==g[2].length,0==l[2].length)||
goog.string.compareElements_(g[2],l[2])}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=goog.string.HASHCODE_MAX_;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmpty(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};goog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};goog.debug={};goog.debug.Error=function(a){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"";a&&(this.message=String(a))};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new goog.asserts.AssertionError(""+e,f||[]);};
goog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.fail=function(a,b){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};
goog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("instanceof check failed.",null,c,Array.prototype.slice.call(arguments,3));return a};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};var Sk={configure:function(a){Sk.output=a.output||Sk.output;goog.asserts.assert("function"===typeof Sk.output);Sk.debugout=a.debugout||Sk.debugout;goog.asserts.assert("function"===typeof Sk.debugout);Sk.read=a.read||Sk.read;goog.asserts.assert("function"===typeof Sk.read);Sk.timeoutMsg=a.timeoutMsg||Sk.timeoutMsg;goog.asserts.assert("function"===typeof Sk.timeoutMsg);goog.exportSymbol("Sk.timeoutMsg",Sk.timeoutMsg);Sk.sysargv=a.sysargv||Sk.sysargv;goog.asserts.assert(goog.isArrayLike(Sk.sysargv));
Sk.snapToAngle=a.snapToAngle||Sk.snapToAngle;goog.asserts.assertBoolean(Sk.snapToAngle,"Sk.snapToAngle");Sk.physics=a.physics||Sk.physics;goog.asserts.assertBoolean(Sk.physics,"Sk.physics");Sk.flyweight=a.flyweight||Sk.flyweight;goog.asserts.assertBoolean(Sk.flyweight,"Sk.flyweight");Sk.python3=a.python3||Sk.python3;goog.asserts.assertBoolean(Sk.python3);Sk.inputfun=a.inputfun||Sk.inputfun;goog.asserts.assert("function"===typeof Sk.inputfun);Sk.throwSystemExit=a.systemexit||!1;goog.asserts.assert("boolean"===
typeof Sk.throwSystemExit);a.syspath&&(Sk.syspath=a.syspath,goog.asserts.assert(goog.isArrayLike(Sk.syspath)),Sk.realsyspath=void 0)}};goog.exportSymbol("Sk.configure",Sk.configure);Sk.timeoutMsg=function(){return"Program exceeded run time limit."};goog.exportSymbol("Sk.timeoutMsg",Sk.timeoutMsg);Sk.output=function(a){};Sk.read=function(a){throw"Sk.read has not been implemented";};Sk.sysargv=[];Sk.getSysArgv=function(){return Sk.sysargv};goog.exportSymbol("Sk.getSysArgv",Sk.getSysArgv);
Sk.syspath=[];Sk.inBrowser=void 0!==goog.global.document;Sk.debugout=function(a){};(function(){void 0!==goog.global.write?Sk.output=goog.global.write:void 0!==goog.global.console&&void 0!==goog.global.console.log?Sk.output=function(a){goog.global.console.log(a)}:void 0!==goog.global.print&&(Sk.output=goog.global.print);void 0!==goog.global.print&&(Sk.debugout=goog.global.print)})();
if(!Sk.inBrowser){var importScript=function(a){a=goog.global.read("support/closure-library/closure/goog/"+a);goog.global.eval(a);return!0};goog.global.CLOSURE_IMPORT_SCRIPT=importScript}Sk.snapToAngle=!0;goog.exportSymbol("Sk.snapToAngle",Sk.snapToAngle);Sk.physics=!1;goog.exportSymbol("Sk.physics",Sk.physics);Sk.flyweight=!1;goog.exportSymbol("Sk.flyweight",Sk.flyweight);Sk.softSpace=!1;Sk.flyString=!0;goog.exportSymbol("Sk.flyString",Sk.flyString);Sk.python3=!1;goog.exportSymbol("Sk.python3",Sk.python3);
Sk.inputfun=function(a){return window.prompt(a)};goog.exportSymbol("Sk.inputfun",Sk.inputfun);Sk.builtin={};
Sk.builtin.range=function(a,b,c){var d=[],e;Sk.ffi.checkFunctionArgs("range(stop) or range(start, stop[, step])",arguments,1,3);Sk.builtin.pyCheckType("start","integer",Sk.builtin.checkInt(a));void 0!==b&&Sk.builtin.pyCheckType("stop","integer",Sk.builtin.checkInt(b));void 0!==c&&Sk.builtin.pyCheckType("step","integer",Sk.builtin.checkInt(c));a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);void 0===b&&void 0===c?(b=a,a=0,c=1):void 0===c&&(c=1);if(0===c)throw new Sk.builtin.ValueError("range() step argument must not be zero");if(0<
c)for(e=a;e<b;e+=c)d.push(Sk.ffi.numberToIntPy(e));else for(e=a;e>b;e+=c)d.push(Sk.ffi.numberToIntPy(e));return new Sk.builtin.list(d)};
Sk.builtin.asnum$=function(a){return void 0===a||null===a?a:a===Sk.builtin.none.none$?null:a.constructor===Sk.builtin.bool?a.v?1:0:"number"===typeof a?a:"string"===typeof a?a:a.constructor===Sk.builtin.NumberPy?a.v:a.constructor===Sk.builtin.lng?a.cantBeInt()?a.str$(10,!0):a.toInt$():a.constructor===Sk.builtin.biginteger?0<a.trueCompare(new Sk.builtin.biginteger(Sk.builtin.lng.threshold$))||0>a.trueCompare(new Sk.builtin.biginteger(-Sk.builtin.lng.threshold$))?a.toString():a.intValue():a};
goog.exportSymbol("Sk.builtin.asnum$",Sk.builtin.asnum$);
Sk.builtin.asnum$nofloat=function(a){if(void 0===a||null===a)return a;if(a===Sk.builtin.none.none$)return null;if(a.constructor===Sk.builtin.bool)return a.v?1:0;"number"===typeof a&&(a=a.toString());Sk.ffi.isFloat(a)&&(a=Sk.ffi.remapToJs(a).toString());Sk.ffi.isInt(a)&&(a=Sk.ffi.remapToJs(a).toString());a.constructor===Sk.builtin.lng&&(a=a.str$(10,!0));a.constructor===Sk.builtin.biginteger&&(a=a.toString());if(0>a.indexOf(".")&&0>a.indexOf("e")&&0>a.indexOf("E"))return a;var b=0,c;0<=a.indexOf("e")?
(c=a.substr(0,a.indexOf("e")),b=a.substr(a.indexOf("e")+1)):0<=a.indexOf("E")?(c=a.substr(0,a.indexOf("e")),b=a.substr(a.indexOf("E")+1)):c=a;b=parseInt(b,10);a=c.indexOf(".");if(0>a){if(0<=b){for(;0<b--;)c+="0";return c}return c.length>-b?c.substr(0,c.length+b):0}c=0==a?c.substr(1):a<c.length?c.substr(0,a)+c.substr(a+1):c.substr(0,a);for(a+=b;a>c.length;)c+="0";return c=0>=a?0:c.substr(0,a)};goog.exportSymbol("Sk.builtin.asnum$nofloat",Sk.builtin.asnum$nofloat);
Sk.builtin.round=function(a,b){var c;Sk.builtin.pyCheckArgs("round",arguments,1,2);if(!Sk.builtin.checkNumber(a))throw new Sk.builtin.TypeError("a float is required");if(void 0!==b&&!Sk.misceval.isIndex(b))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(b)+"' object cannot be interpreted as an index");void 0===b&&(b=0);a=Sk.ffi.remapToJs(a);b=Sk.misceval.asIndex(b);c=Math.pow(10,b);c=Math.round(a*c)/c;return Sk.builtin.numberToPy(c)};
Sk.builtin.len=function(a){Sk.builtin.pyCheckArgs("len",arguments,1,1);if(a.sq$length)return Sk.ffi.numberToIntPy(a.sq$length());if(a.mp$length)return Sk.ffi.numberToIntPy(a.mp$length());if(a.tp$length)return a.tp$length();throw new Sk.builtin.TypeError("object of type '"+Sk.ffi.typeName(a)+"' has no len()");};
Sk.builtin.min=function(){Sk.builtin.pyCheckArgs("min",arguments,1);for(var a=Sk.misceval.arrayFromArguments(arguments),b=a[0],c=1;c<a.length;++c)Sk.misceval.richCompareBool(a[c],b,Sk.misceval.compareOp.Lt)&&(b=a[c]);return b};Sk.builtin.max=function(){Sk.builtin.pyCheckArgs("max",arguments,1);for(var a=Sk.misceval.arrayFromArguments(arguments),b=a[0],c=1;c<a.length;++c)Sk.misceval.richCompareBool(a[c],b,Sk.misceval.compareOp.Gt)&&(b=a[c]);return b};
Sk.builtin.any=function(a){var b,c;Sk.builtin.pyCheckArgs("any",arguments,1);if(!Sk.builtin.checkIterable(a))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not iterable");b=a.tp$iter();for(c=b.tp$iternext();void 0!==c;c=b.tp$iternext())if(Sk.misceval.isTrue(c))return!0;return!1};
Sk.builtin.all=function(a){var b,c;Sk.builtin.pyCheckArgs("all",arguments,1);if(!Sk.builtin.checkIterable(a))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not iterable");b=a.tp$iter();for(c=b.tp$iternext();void 0!==c;c=b.tp$iternext())if(!Sk.misceval.isTrue(c))return!1;return!0};
Sk.builtin.sum=function(a,b){var c,d,e,f;Sk.builtin.pyCheckArgs("sum",arguments,1,2);Sk.builtin.pyCheckType("iter","iterable",Sk.builtin.checkIterable(a));if(void 0!==b&&Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("sum() can't sum strings [use ''.join(seq) instead]");c=void 0===b?Sk.ffi.numberToIntPy(0):b;d=a.tp$iter();for(e=d.tp$iternext();void 0!==e;e=d.tp$iternext())if(Sk.ffi.isFloat(e)?(f=!0,Sk.ffi.isFloat(c)||(c=Sk.builtin.numberToPy(Sk.builtin.asnum$(c)))):e instanceof Sk.builtin.lng&&
(f||c instanceof Sk.builtin.lng||(c=new Sk.builtin.lng(c))),void 0!==c.nb$add(e))c=c.nb$add(e);else throw new Sk.builtin.TypeError("unsupported operand type(s) for +: '"+Sk.ffi.typeName(c)+"' and '"+Sk.ffi.typeName(e)+"'");return c};
Sk.builtin.zip=function(){if(0===arguments.length)return new Sk.builtin.list([]);for(var a=[],b=0;b<arguments.length;b++)if(arguments[b].tp$iter)a.push(arguments[b].tp$iter());else throw"TypeError: argument "+b+" must support iteration";for(var c=[],d=!1;!d;){for(var e=[],b=0;b<arguments.length;b++){var f=a[b].tp$iternext();if(void 0===f){d=!0;break}e.push(f)}d||c.push(new Sk.builtin.tuple(e))}return new Sk.builtin.list(c)};Sk.builtin.abs=function(a){return Sk.ffh.abs(a)};
Sk.builtin.ord=function(a){Sk.builtin.pyCheckArgs("ord",arguments,1,1);if(!Sk.builtin.isStringPy(a))throw new Sk.builtin.TypeError("ord() expected a string of length 1, but "+Sk.ffi.typeName(a)+" found");if(1!==Sk.builtin.stringToJs(a).length)throw new Sk.builtin.TypeError("ord() expected a character, but string of length "+Sk.builtin.stringToJs(a).length+" found");return Sk.ffi.numberToIntPy(Sk.builtin.stringToJs(a).charCodeAt(0))};
Sk.builtin.chr=function(a){Sk.builtin.pyCheckArgs("chr",arguments,1,1);if(!Sk.builtin.checkInt(a))throw new Sk.builtin.TypeError("an integer is required");var b=Sk.builtin.asnum$(a);if(0>b||255<b)throw new Sk.builtin.ValueError("chr() arg not in range(256)");return Sk.builtin.stringToPy(String.fromCharCode(b))};
Sk.builtin.int2str_=function(a,b,c){var d="";if(Sk.ffi.isLong(a)){var e="";2!==b&&(e="L");d=a.str$(b,!1);return a.nb$isnegative()?Sk.builtin.stringToPy("-"+c+d+e):Sk.builtin.stringToPy(c+d+e)}a=Sk.misceval.asIndex(a);d=a.toString(b);return 0>a?Sk.builtin.stringToPy("-"+c+d.slice(1)):Sk.builtin.stringToPy(c+d)};
Sk.builtin.hex=function(a){Sk.builtin.pyCheckArgs("hex",arguments,1,1);if(!Sk.misceval.isIndex(a))throw new Sk.builtin.TypeError("hex() argument can't be converted to hex");return Sk.builtin.int2str_(a,16,"0x")};Sk.builtin.oct=function(a){Sk.builtin.pyCheckArgs("oct",arguments,1,1);if(!Sk.misceval.isIndex(a))throw new Sk.builtin.TypeError("oct() argument can't be converted to hex");return Sk.builtin.int2str_(a,8,"0")};
Sk.builtin.bin=function(a){Sk.builtin.pyCheckArgs("bin",arguments,1,1);if(!Sk.misceval.isIndex(a))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object can't be interpreted as an index");return Sk.builtin.int2str_(a,2,"0b")};
Sk.builtin.dir=function(a){Sk.builtin.pyCheckArgs("dir",arguments,1,1);var b=function(a){goog.asserts.assertString(a);var b=null;if(-1!==["__bases__","__mro__","__class__"].indexOf(a))return null;-1!==a.indexOf("$")?b=Sk.builtin.dir.slotNameToRichName(a):"_"!==a.charAt(a.length-1)?b=a:"_"===a.charAt(0)&&(b=a);return b},c=[],d,e,f,h,k;for(d in a.constructor.prototype)(e=b(d))&&c.push(Sk.builtin.stringToPy(e));if(a.$d)if(a.$d.tp$iter)for(f=a.$d.tp$iter(),d=f.tp$iternext();void 0!==d;d=f.tp$iternext())(e=
b(Sk.ffi.remapToJs(new Sk.builtin.StringPy(d))))&&c.push(Sk.builtin.stringToPy(e));else for(e in a.$d)c.push(new Sk.builtin.StringPy(e));if(f=a.tp$mro)for(f=a.tp$mro,d=0;d<f.v.length;++d)for(k in h=f.v[d],h)h.hasOwnProperty(k)&&(e=b(k))&&c.push(Sk.builtin.stringToPy(e));c.sort(function(a,b){return(a.v>b.v)-(a.v<b.v)});return new Sk.builtin.list(c.filter(function(a,b,c){return a!==c[b+1]}))};Sk.builtin.dir.slotNameToRichName=function(a){};
Sk.builtin.repr=function(a){Sk.builtin.pyCheckArgs("repr",arguments,1,1);return Sk.misceval.objectRepr(a)};Sk.builtin.open=function(a,b,c){Sk.builtin.pyCheckArgs("open",arguments,1,3);void 0===b&&(b=Sk.builtin.stringToPy("r"));if("r"!==b.v&&"rb"!==b.v)throw"todo; haven't implemented non-read opens";return new Sk.builtin.file(a,b,c)};
Sk.builtin.isinstance=function(a,b){Sk.builtin.pyCheckArgs("isinstance",arguments,2,2);if(!(Sk.builtin.checkClass(b)||b instanceof Sk.builtin.tuple))throw new Sk.builtin.TypeError("isinstance() arg 2 must be a class, type, or tuple of classes and types");if(b===Sk.builtin.int_.prototype.ob$type)return"number"===a.tp$name&&a.skType===Sk.builtin.NumberPy.int$;if(b===Sk.builtin.float_.prototype.ob$type)return"number"===a.tp$name&&Sk.ffi.isFloat(a);if(b===Sk.builtin.none.none$.ob$type)return a===Sk.builtin.none.none$;
if(a.ob$type===b)return!0;if(b instanceof Sk.builtin.tuple){for(var c=0;c<b.v.length;++c)if(Sk.builtin.isinstance(a,b.v[c]))return!0;return!1}var d=function(a,b){if(a===b)return!0;if(void 0===a.$d)return!1;for(var c=a.$d.mp$subscript(Sk.builtin.type.basesStr_),k=0;k<c.v.length;++k)if(d(c.v[k],b))return!0;return!1};return d(a.ob$type,b)};Sk.builtin.hashCount=0;
Sk.builtin.hash=function(a){Sk.builtin.pyCheckArgs("hash",arguments,1,1);if(a instanceof Object&&void 0!==a.tp$hash){if(a.$savedHash_)return a.$savedHash_;a.$savedHash_=a.tp$hash();return a.$savedHash_}return a instanceof Object&&void 0!==a.__hash__?Sk.misceval.callsim(a.__hash__,a):a instanceof Sk.builtin.bool?a.v?1:0:a===Sk.builtin.none.none$?0:a instanceof Object?(void 0===a.__id&&(Sk.builtin.hashCount+=1,a.__id=Sk.builtin.hashCount),a.__id):"number"===typeof a?a:null===a?0:!0===a?1:!1===a?0:typeof a+
" "+String(a)};Sk.builtin.getattr=function(a,b,c){Sk.builtin.pyCheckArgs("getattr",arguments,2,3);if(!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("attribute name must be string");var d=a.tp$getattr(Sk.builtin.stringToJs(b));if(void 0===d){if(void 0!==c)return c;throw new Sk.builtin.AttributeError("'"+Sk.ffi.typeName(a)+"' object has no attribute '"+Sk.builtin.stringToJs(b)+"'");}return d};Sk.builtin.raw_input=function(a,b,c){a=Sk.inputfun(a.v);return new Sk.builtin.StringPy(a)};
Sk.builtin.input=function(a,b,c){Sk.ffi.checkFunctionArgs("input",arguments,0,1);if(Sk.ffi.isDefined(a)){Sk.ffi.checkArgType("prompt",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(a),a);var d=Sk.inputfun(Sk.builtin.stringToJs(a))}else d=Sk.inputfun("");return Sk.builtin.stringToPy(d)};Sk.builtin.jseval=function(a){goog.global.eval(a)};Sk.builtin.jsmillis=function(){return(new Date).valueOf()};
Sk.builtin.superbi=function(){throw new Sk.builtin.NotImplementedError("super is not yet implemented, please report your use case as a github issue.");};Sk.builtin.eval_=function(){throw new Sk.builtin.NotImplementedError("eval is not yet implemented");};
Sk.builtin.map=function(a,b){Sk.ffi.checkFunctionArgs("map(function, iterable, ...)",arguments,2);if(2<arguments.length){var c=[],d=Array.prototype.slice.apply(arguments).slice(1),e;for(e in d){if(void 0===d[e].tp$iter)throw c=parseInt(e,10)+2,new Sk.builtin.TypeError("argument "+c+" to map() must support iteration");d[e]=d[e].tp$iter()}for(;;){var f=[],h=0;for(e in d){var k=d[e].tp$iternext();void 0===k?(f.push(Sk.builtin.none.none$),h++):f.push(k)}if(h!==d.length)c.push(f);else break}b=new Sk.builtin.list(c)}if(void 0===
b.tp$iter)throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(b)+"' object is not iterable");c=[];d=b.tp$iter();for(e=d.tp$iternext();void 0!==e;e=d.tp$iternext())a===Sk.builtin.none.none$?(e instanceof Array&&(e=new Sk.builtin.tuple(e)),c.push(e)):(e instanceof Array||(e=[e]),c.push(Sk.misceval.apply(a,void 0,void 0,void 0,e)));return new Sk.builtin.list(c)};
Sk.builtin.reduce=function(a,b,c){Sk.builtin.pyCheckArgs("reduce",arguments,2,3);var d=b.tp$iter();if(void 0===c&&(c=d.tp$iternext(),void 0===c))throw new Sk.builtin.TypeError("reduce() of empty sequence with no initial value");for(var e=c,f=d.tp$iternext();void 0!==f;)e=a.func_code(e,f),f=d.tp$iternext();return e};
Sk.builtin.filter=function(a,b){Sk.builtin.pyCheckArgs("filter",arguments,2,2);if(void 0===b.tp$iter)throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(b)+"' object is not iterable");a===Sk.builtin.none.none$&&(a={func_code:function(a){return Sk.builtin.bool(a)}});var c=function(){return[]},d=function(a,b){a.push(b);return a},e=function(a){return new Sk.builtin.list(a)};Sk.builtin.isStringPy(b)?(c=function(){return Sk.builtin.stringToPy("")},d=function(a,b){return a.sq$concat(b)},e=function(a){return a}):
b.__class__===Sk.builtin.tuple&&(e=function(a){return new Sk.builtin.tuple(a)});var f=b.tp$iter(),h=f.tp$iternext(),c=c();if(void 0===h)return e(c);for(;void 0!==h;)Sk.misceval.isTrue(a.func_code(h))&&(c=d(c,h)),h=f.tp$iternext();return e(c)};
Sk.builtin.hasattr=function(a,b){Sk.builtin.pyCheckArgs("hasattr",arguments,2,2);if(!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("hasattr(): attribute name must be string");if(a.tp$getattr)return a.tp$getattr(b.v)?!0:!1;throw new Sk.builtin.AttributeError("Object has no tp$getattr method");};
Sk.builtin.pow=function(a,b,c){Sk.builtin.pyCheckArgs("pow",arguments,2,3);var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);Sk.ffi.remapToJs(c);if(!Sk.builtin.checkNumber(a)||!Sk.builtin.checkNumber(b)){if(void 0===c)throw new Sk.builtin.TypeError("unsupported operand type(s) for pow(): '"+Sk.ffi.typeName(a)+"' and '"+Sk.ffi.typeName(b)+"'");throw new Sk.builtin.TypeError("unsupported operand type(s) for pow(): '"+Sk.ffi.typeName(a)+"', '"+Sk.ffi.typeName(b)+"', '"+Sk.ffi.typeName(c)+"'");}if(0>d&&
Sk.ffi.isFloat(b))throw new Sk.builtin.ValueError("negative number cannot be raised to a fractional power");if(void 0===c)return d=Math.pow(d,e),Sk.ffi.isFloat(a)||Sk.ffi.isFloat(b)||0>e?Sk.builtin.numberToPy(d):Sk.ffi.isLong(a)||Sk.ffi.isLong(b)?new Sk.builtin.lng(d):Sk.ffi.numberToIntPy(d);if(!Sk.builtin.checkInt(a)||!Sk.builtin.checkInt(b)||!Sk.builtin.checkInt(c))throw new Sk.builtin.TypeError("pow() 3rd argument not allowed unless all arguments are integers");if(0>e)throw new Sk.builtin.TypeError("pow() 2nd argument cannot be negative when 3rd argument specified");
return a instanceof Sk.builtin.lng||(b instanceof Sk.builtin.lng||c instanceof Sk.builtin.lng)||Infinity===Math.pow(d,e)?(new Sk.builtin.lng(a)).nb$power(b,c):Sk.ffi.numberToIntPy(Math.pow(d,e)).nb$remainder(c)};Sk.builtin.quit=function(a){a=Sk.builtin.stringToJs(new Sk.builtin.StringPy(a));throw new Sk.builtin.SystemExit(a);};
Sk.builtin.sorted=function(a,b,c,d){var e;if(void 0!==c&&c!==Sk.builtin.none.none$){e=b===Sk.builtin.none.none$?{func_code:function(a,b){return Sk.misceval.richCompareBool(a[0],b[0],Sk.misceval.compareOp.Lt)?Sk.ffi.numberToIntPy(-1):Sk.ffi.numberToIntPy(0)}}:{func_code:function(a,c){return b.func_code(a[0],c[0])}};a=a.tp$iter();for(var f=a.tp$iternext(),h=[];void 0!==f;)h.push([c.func_code(f),f]),f=a.tp$iternext();a=new Sk.builtin.list(h)}else b!==Sk.builtin.none.none$&&void 0!==b&&(e=b),a=new Sk.builtin.list(a);
void 0!==e?a.list_sort_(a,e):a.list_sort_(a);d&&a.list_reverse_(a);if(void 0!==c&&c!==Sk.builtin.none.none$){a=a.tp$iter();f=a.tp$iternext();for(h=[];void 0!==f;)h.push(f[1]),f=a.tp$iternext();a=new Sk.builtin.list(h)}return a};Sk.builtin.bytearray=function(){throw new Sk.builtin.NotImplementedError("bytearray is not yet implemented");};Sk.builtin.callable=function(){throw new Sk.builtin.NotImplementedError("callable is not yet implemented");};
Sk.builtin.delattr=function(){throw new Sk.builtin.NotImplementedError("delattr is not yet implemented");};Sk.builtin.divmod=function(){throw new Sk.builtin.NotImplementedError("divmod is not yet implemented");};Sk.builtin.execfile=function(){throw new Sk.builtin.NotImplementedError("execfile is not yet implemented");};Sk.builtin.format=function(){throw new Sk.builtin.NotImplementedError("format is not yet implemented");};
Sk.builtin.frozenset=function(){throw new Sk.builtin.NotImplementedError("frozenset is not yet implemented");};Sk.builtin.globals=function(){throw new Sk.builtin.NotImplementedError("globals is not yet implemented");};Sk.builtin.help=function(){throw new Sk.builtin.NotImplementedError("help is not yet implemented");};Sk.builtin.issubclass=function(){throw new Sk.builtin.NotImplementedError("issubclass is not yet implemented");};
Sk.builtin.iter=function(){throw new Sk.builtin.NotImplementedError("iter is not yet implemented");};Sk.builtin.locals=function(){throw new Sk.builtin.NotImplementedError("locals is not yet implemented");};Sk.builtin.memoryview=function(){throw new Sk.builtin.NotImplementedError("memoryview is not yet implemented");};Sk.builtin.next_=function(){throw new Sk.builtin.NotImplementedError("next is not yet implemented");};
Sk.builtin.property=function(){throw new Sk.builtin.NotImplementedError("property is not yet implemented");};Sk.builtin.reload=function(){throw new Sk.builtin.NotImplementedError("reload is not yet implemented");};Sk.builtin.reversed=function(){throw new Sk.builtin.NotImplementedError("reversed is not yet implemented");};Sk.builtin.unichr=function(){throw new Sk.builtin.NotImplementedError("unichr is not yet implemented");};
Sk.builtin.vars=function(){throw new Sk.builtin.NotImplementedError("vars is not yet implemented");};Sk.builtin.xrange=Sk.builtin.range;Sk.builtin.apply_=function(){throw new Sk.builtin.NotImplementedError("apply is not yet implemented");};Sk.builtin.buffer=function(){throw new Sk.builtin.NotImplementedError("buffer is not yet implemented");};Sk.builtin.coerce=function(){throw new Sk.builtin.NotImplementedError("coerce is not yet implemented");};
Sk.builtin.intern=function(){throw new Sk.builtin.NotImplementedError("intern is not yet implemented");};Sk.builtin.Exception=function(a){a=Array.prototype.slice.call(arguments);for(var b=0;b<a.length;++b)"string"===typeof a[b]&&(a[b]=Sk.builtin.stringToPy(a[b]));this.args=new Sk.builtin.tuple(a);Sk.currFilename?this.filename=Sk.currFilename:3<=this.args.sq$length()?this.filename=this.args.v[1].v?this.args.v[1].v:"<unknown>":this.filename="<unknown>";3<=this.args.sq$length()?this.lineno=this.args.v[2]:this.lineno=0<Sk.currLineNo?Sk.currLineNo:"<unknown>";this.colno=0<Sk.currColNo?Sk.currColNo:"<unknown>"};
Sk.builtin.Exception.prototype.tp$name="Exception";Sk.builtin.Exception.prototype.tp$str=function(){var a;a=""+this.tp$name;this.args&&(a+=": "+(0<this.args.v.length?this.args.v[0].v:""));a+=" on line "+this.lineno;if(4<this.args.v.length){a+="\n"+this.args.v[4].v+"\n";for(var b=0;b<this.args.v[3];++b)a+=" ";a+="^\n"}return Sk.builtin.stringToPy(a)};Sk.builtin.Exception.prototype.toString=function(){return this.tp$str().v};goog.exportSymbol("Sk.builtin.Exception",Sk.builtin.Exception);
Sk.builtin.AssertionError=function(a){if(!(this instanceof Sk.builtin.AssertionError)){var b=Object.create(Sk.builtin.AssertionError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.AssertionError,Sk.builtin.Exception);Sk.builtin.AssertionError.prototype.tp$name="AssertionError";goog.exportSymbol("Sk.builtin.AssertionError",Sk.builtin.AssertionError);
Sk.builtin.AttributeError=function(a){if(!(this instanceof Sk.builtin.AttributeError)){var b=Object.create(Sk.builtin.AttributeError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.AttributeError,Sk.builtin.Exception);Sk.builtin.AttributeError.prototype.tp$name="AttributeError";
Sk.builtin.ImportError=function(a){if(!(this instanceof Sk.builtin.ImportError)){var b=Object.create(Sk.builtin.ImportError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.ImportError,Sk.builtin.Exception);Sk.builtin.ImportError.prototype.tp$name="ImportError";
Sk.builtin.IndexError=function(a){if(!(this instanceof Sk.builtin.IndexError)){var b=Object.create(Sk.builtin.IndexError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.IndexError,Sk.builtin.Exception);Sk.builtin.IndexError.prototype.tp$name="IndexError";
Sk.builtin.KeyError=function(a){if(!(this instanceof Sk.builtin.KeyError)){var b=Object.create(Sk.builtin.KeyError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.KeyError,Sk.builtin.Exception);Sk.builtin.KeyError.prototype.tp$name="KeyError";
Sk.builtin.NameError=function(a){if(!(this instanceof Sk.builtin.NameError)){var b=Object.create(Sk.builtin.NameError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.NameError,Sk.builtin.Exception);Sk.builtin.NameError.prototype.tp$name="NameError";
Sk.builtin.OverflowError=function(a){if(!(this instanceof Sk.builtin.OverflowError)){var b=Object.create(Sk.builtin.OverflowError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.OverflowError,Sk.builtin.Exception);Sk.builtin.OverflowError.prototype.tp$name="OverflowError";
Sk.builtin.SuspensionError=function(a){var b;if(!(this instanceof Sk.builtin.SuspensionError))return b=Object.create(Sk.builtin.SuspensionError.prototype),b.constructor.apply(b,arguments),b;Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.SuspensionError,Sk.builtin.Exception);Sk.builtin.SuspensionError.prototype.tp$name="SuspensionError";goog.exportSymbol("Sk.builtin.SuspensionError",Sk.builtin.SuspensionError);
Sk.builtin.SystemExit=function(a){if(!(this instanceof Sk.builtin.SystemExit)){var b=Object.create(Sk.builtin.SystemExit.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.SystemExit,Sk.builtin.Exception);Sk.builtin.SystemExit.prototype.tp$name="SystemExit";goog.exportSymbol("Sk.builtin.SystemExit",Sk.builtin.SystemExit);
Sk.builtin.TypeError=function(a){if(!(this instanceof Sk.builtin.TypeError)){var b=Object.create(Sk.builtin.TypeError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.TypeError,Sk.builtin.Exception);Sk.builtin.TypeError.prototype.tp$name="TypeError";goog.exportSymbol("Sk.builtin.TypeError",Sk.builtin.TypeError);
Sk.builtin.ValueError=function(a){if(!(this instanceof Sk.builtin.ValueError)){var b=Object.create(Sk.builtin.ValueError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.ValueError,Sk.builtin.Exception);Sk.builtin.ValueError.prototype.tp$name="ValueError";goog.exportSymbol("Sk.builtin.ValueError",Sk.builtin.ValueError);
Sk.builtin.ZeroDivisionError=function(a){if(!(this instanceof Sk.builtin.ZeroDivisionError)){var b=Object.create(Sk.builtin.ZeroDivisionError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.ZeroDivisionError,Sk.builtin.Exception);Sk.builtin.ZeroDivisionError.prototype.tp$name="ZeroDivisionError";
Sk.builtin.TimeLimitError=function(a){if(!(this instanceof Sk.builtin.TimeLimitError)){var b=Object.create(Sk.builtin.TimeLimitError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.TimeLimitError,Sk.builtin.Exception);Sk.builtin.TimeLimitError.prototype.tp$name="TimeLimitError";goog.exportSymbol("Sk.builtin.TimeLimitError",Sk.builtin.TimeLimitError);
Sk.builtin.IOError=function(a){if(!(this instanceof Sk.builtin.IOError)){var b=Object.create(Sk.builtin.IOError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.IOError,Sk.builtin.Exception);Sk.builtin.IOError.prototype.tp$name="IOError";goog.exportSymbol("Sk.builtin.IOError",Sk.builtin.IOError);
Sk.builtin.NotImplementedError=function(a){if(!(this instanceof Sk.builtin.NotImplementedError)){var b=Object.create(Sk.builtin.NotImplementedError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.NotImplementedError,Sk.builtin.Exception);Sk.builtin.NotImplementedError.prototype.tp$name="NotImplementedError";goog.exportSymbol("Sk.builtin.NotImplementedError",Sk.builtin.NotImplementedError);
Sk.builtin.NegativePowerError=function(a){if(!(this instanceof Sk.builtin.NegativePowerError)){var b=Object.create(Sk.builtin.NegativePowerError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.NegativePowerError,Sk.builtin.Exception);Sk.builtin.NegativePowerError.prototype.tp$name="NegativePowerError";goog.exportSymbol("Sk.builtin.NegativePowerError",Sk.builtin.NegativePowerError);
Sk.builtin.OperationError=function(a){if(!(this instanceof Sk.builtin.OperationError)){var b=Object.create(Sk.builtin.OperationError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.OperationError,Sk.builtin.Exception);Sk.builtin.OperationError.prototype.tp$name="OperationError";goog.exportSymbol("Sk.builtin.OperationError",Sk.builtin.OperationError);
Sk.builtin.SystemError=function(a){if(!(this instanceof Sk.builtin.SystemError)){var b=Object.create(Sk.builtin.SystemError.prototype);b.constructor.apply(b,arguments);return b}Sk.builtin.Exception.apply(this,arguments)};goog.inherits(Sk.builtin.SystemError,Sk.builtin.Exception);Sk.builtin.SystemError.prototype.tp$name="SystemError";goog.exportSymbol("Sk.builtin.SystemError",Sk.builtin.SystemError);Sk.currLineNo=-1;Sk.currColNo=-1;Sk.currFilename="";goog.exportSymbol("Sk",Sk);
goog.exportProperty(Sk,"currLineNo",Sk.currLineNo);goog.exportProperty(Sk,"currColNo",Sk.currColNo);goog.exportProperty(Sk,"currFilename",Sk.currFilename);Sk.builtin.type=function(a,b,c){if(void 0===b&&void 0===c)return Sk.ffi.type(a);var d=function(a,b,c,e){if(!(this instanceof d))return new d(a,b,c,e);e=e||[];this.$d=new Sk.builtin.dict([]);var n=Sk.builtin.type.typeLookup(this.ob$type,"__init__");void 0!==n&&(e.unshift(this),Sk.misceval.apply(n,a,b,c,e));return this},e;for(e in c)d.prototype[e]=c[e],d[e]=c[e];d.__class__=d;d.sk$klass=!0;d.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;d.prototype.tp$setattr=Sk.builtin.object.prototype.GenericSetAttr;
d.prototype.tp$descr_get=function(){goog.asserts.fail("in type tp$descr_get")};d.prototype.tp$repr=function(){var b=this.tp$getattr("__repr__");if(void 0!==b)return Sk.misceval.apply(b,void 0,void 0,void 0,[]);var b=c.__module__,d="";b&&(d=b.v+".");return Sk.builtin.stringToPy("<"+d+a+" object>")};d.prototype.tp$str=function(){var a=this.tp$getattr("__str__");return void 0!==a?Sk.misceval.apply(a,void 0,void 0,void 0,[]):this.tp$repr()};d.prototype.tp$length=function(){var a=this.tp$getattr("__len__");
if(void 0!==a)return Sk.misceval.apply(a,void 0,void 0,void 0,[]);a=Sk.ffi.typeName(this);throw new Sk.builtin.AttributeError(a+" instance has no attribute '__len__'");};d.prototype.tp$call=function(a,b){var c=this.tp$getattr("__call__");if(c)return Sk.misceval.apply(c,void 0,void 0,b,a);throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(this)+"' object is not callable");};d.prototype.tp$iter=function(){var a=this.tp$getattr("__iter__"),b=Sk.ffi.typeName(this);if(a)return Sk.misceval.callsim(a);throw new Sk.builtin.TypeError("'"+
b+"' object is not iterable");};d.prototype.tp$iternext=function(){var a=this.tp$getattr("next");goog.asserts.assert(void 0!==a,"iter() should have caught this");return Sk.misceval.callsim(a)};d.prototype.tp$getitem=function(a){var b=this.tp$getattr("__getitem__");if(void 0!==b)return Sk.misceval.apply(b,void 0,void 0,void 0,[a]);throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(this)+"' object does not support indexing");};d.prototype.tp$setitem=function(a,b){var c=this.tp$getattr("__setitem__");
if(void 0!==c)return Sk.misceval.apply(c,void 0,void 0,void 0,[a,b]);throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(this)+"' object does not support item assignment");};d.prototype.tp$name=a;b&&(d.$d=new Sk.builtin.dict([]),d.$d.mp$ass_subscript(Sk.builtin.type.basesStr_,new Sk.builtin.tuple(b)),b=Sk.builtin.type.buildMRO(d),d.$d.mp$ass_subscript(Sk.builtin.type.mroStr_,b),d.tp$mro=b);d.prototype.ob$type=d;Sk.builtin.type.makeIntoTypeObj(a,d);d.tp$setattr=Sk.builtin.type.prototype.tp$setattr;
return d};Sk.builtin.type.makeTypeObj=function(a,b){Sk.builtin.type.makeIntoTypeObj(a,b);return b};
Sk.builtin.type.makeIntoTypeObj=function(a,b){goog.asserts.assert(void 0!==a);goog.asserts.assert(void 0!==b);b.ob$type=Sk.builtin.type;b.tp$name=a;b.tp$repr=function(){var a=b.__module__,d="";a&&(d=a.v+".");var e="class";a||b.sk$klass||(e="type");return Sk.builtin.stringToPy("<"+e+" '"+d+b.tp$name+"'>")};b.tp$str=void 0;b.tp$getattr=Sk.builtin.type.prototype.tp$getattr;b.tp$setattr=Sk.builtin.object.prototype.GenericSetAttr;b.tp$richcompare=Sk.builtin.type.prototype.tp$richcompare;b.sk$type=!0;return b};
Sk.builtin.type.ob$type=Sk.builtin.type;Sk.builtin.type.tp$name="type";Sk.builtin.type.tp$repr=function(){return Sk.builtin.stringToPy("<type 'type'>")};Sk.builtin.type.prototype.tp$getattr=function(a){var b=Sk.builtin.type.typeLookup(this,a),c;void 0!==b&&(null!==b&&void 0!==b.ob$type)&&(c=b.ob$type.tp$descr_get);if(this.$d&&(a=this.$d.mp$lookup(Sk.builtin.stringToPy(a)),void 0!==a))return a;if(c)return c.call(b,null,this);if(void 0!==b)return b};
Sk.builtin.type.prototype.tp$setattr=function(a,b){this[a]=b};Sk.builtin.type.typeLookup=function(a,b){var c=a.tp$mro,d=Sk.builtin.stringToPy(b),e,f;if(!c)return a.prototype[b];for(f=0;f<c.v.length;++f){e=c.v[f];if(e.hasOwnProperty(b))return e[b];e=e.$d.mp$lookup(d);if(void 0!==e)return e}};
Sk.builtin.type.mroMerge_=function(a){for(var b=[];;){for(var c=0;c<a.length;++c){var d=a[c];if(0!==d.length)break}if(c===a.length)return b;for(var e=[],c=0;c<a.length;++c)if(d=a[c],0!==d.length){var d=d[0],f=0;a:for(;f<a.length;++f)for(var h=a[f],k=1;k<h.length;++k)if(h[k]===d)break a;f===a.length&&e.push(d)}if(0===e.length)throw new Sk.builtin.TypeError("Inconsistent precedences in type hierarchy");e=e[0];b.push(e);for(c=0;c<a.length;++c)d=a[c],0<d.length&&d[0]===e&&d.splice(0,1)}};
Sk.builtin.type.buildMRO_=function(a){var b=[[a]];a=a.$d.mp$subscript(Sk.builtin.type.basesStr_);for(var c=0;c<a.v.length;++c)b.push(Sk.builtin.type.buildMRO_(a.v[c]));for(var d=[],c=0;c<a.v.length;++c)d.push(a.v[c]);b.push(d);return Sk.builtin.type.mroMerge_(b)};Sk.builtin.type.buildMRO=function(a){return new Sk.builtin.tuple(Sk.builtin.type.buildMRO_(a))};
Sk.builtin.type.prototype.tp$richcompare=function(a,b){if(a.ob$type==Sk.builtin.type&&this.tp$repr&&a.tp$repr){var c=this.tp$repr(),d=a.tp$repr();return c.tp$richcompare(d,b)}};Sk.builtin.object=function(){if(!(this instanceof Sk.builtin.object))return new Sk.builtin.object;this.$d=new Sk.builtin.dict([]);return this};
Sk.builtin.object.prototype.GenericGetAttr=function(a){goog.asserts.assert("string"===typeof a);var b=this.ob$type;goog.asserts.assert(void 0!==b,"object has no ob$type!");var b=Sk.builtin.type.typeLookup(b,a),c;void 0!==b&&(null!==b&&void 0!==b.ob$type)&&(c=b.ob$type.tp$descr_get);if(this.$d){var d;if(this.$d.mp$lookup)d=this.$d.mp$lookup(Sk.builtin.stringToPy(a));else if(this.$d.mp$subscript)try{d=this.$d.mp$subscript(Sk.builtin.stringToPy(a))}catch(e){d=void 0}else"object"===typeof this.$d&&(d=
this.$d[a]);if(void 0!==d)return d}if(c)return c.call(b,this,this.ob$type);if(void 0!==b)return b};goog.exportSymbol("Sk.builtin.object.prototype.GenericGetAttr",Sk.builtin.object.prototype.GenericGetAttr);Sk.builtin.object.prototype.GenericSetAttr=function(a,b){goog.asserts.assert("string"===typeof a);this.$d.mp$ass_subscript?this.$d.mp$ass_subscript(Sk.builtin.stringToPy(a),b):"object"===typeof this.$d&&(this.$d[a]=b)};goog.exportSymbol("Sk.builtin.object.prototype.GenericSetAttr",Sk.builtin.object.prototype.GenericSetAttr);
Sk.builtin.object.prototype.HashNotImplemented=function(){throw new Sk.builtin.TypeError("unhashable type: '"+Sk.ffi.typeName(this)+"'");};Sk.builtin.object.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.object.prototype.tp$setattr=Sk.builtin.object.prototype.GenericSetAttr;Sk.builtin.object.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("object",Sk.builtin.object);
Sk.builtin.none={none$:function(){var a=function(){};a.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("NoneType",a);a.prototype.tp$name="NoneType";a.prototype.tp$repr=function(){return Sk.builtin.stringToPy("None")};a.prototype.tp$str=function(){return Sk.builtin.stringToPy("None")};a.prototype.u$acos=function(){return this};a.prototype.u$asin=function(){return this};a.prototype.u$atan=function(){return this};return Object.create(a.prototype,{v:{value:null,enumerable:!0}})}()};
goog.exportSymbol("Sk.builtin.none",Sk.builtin.none);Sk.builtin.bool=function(a){Sk.ffi.checkFunctionArgs("bool",arguments,1);return Sk.misceval.isTrue(a)?Sk.builtin.bool.true$:Sk.builtin.bool.false$};Sk.builtin.bool.prototype.tp$name="bool";Sk.builtin.bool.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("bool",Sk.builtin.bool);Sk.builtin.bool.true$=Object.create(Sk.builtin.bool.prototype,{v:{value:!0,enumerable:!0}});Sk.builtin.bool.false$=Object.create(Sk.builtin.bool.prototype,{v:{value:!1,enumerable:!0}});
Sk.builtin.bool.prototype.tp$str=function(){return Sk.ffi.remapToJs(this)?Sk.builtin.stringToPy("True"):Sk.builtin.stringToPy("False")};Sk.builtin.bool.prototype.tp$repr=function(){return Sk.ffi.remapToJs(this)?Sk.builtin.stringToPy("True"):Sk.builtin.stringToPy("False")};goog.exportSymbol("Sk.builtin.bool",Sk.builtin.bool);Sk.builtin.pyCheckArgs=function(a,b,c,d,e,f){b=b.length;var h="";void 0===d&&(d=Infinity);e&&(b-=1);f&&(b-=1);if(b<c||b>d)throw h=(c===d?a+"() takes exactly "+c+" arguments":b<c?a+"() takes at least "+c+" arguments":a+"() takes at most "+d+" arguments")+(" ("+b+" given)"),new Sk.builtin.TypeError(h);};goog.exportSymbol("Sk.builtin.pyCheckArgs",Sk.builtin.pyCheckArgs);Sk.builtin.pyCheckType=function(a,b,c){if(!c)throw new Sk.builtin.TypeError(a+" must be a "+b);};
goog.exportSymbol("Sk.builtin.pyCheckType",Sk.builtin.pyCheckType);Sk.builtin.checkSequence=function(a){return null!==a&&void 0!==a.mp$subscript};goog.exportSymbol("Sk.builtin.checkSequence",Sk.builtin.checkSequence);Sk.builtin.checkIterable=function(a){return null!==a&&void 0!==a.tp$iter};goog.exportSymbol("Sk.builtin.checkIterable",Sk.builtin.checkIterable);Sk.builtin.checkNumber=function(a){return null!==a&&("number"===typeof a||a instanceof Sk.builtin.NumberPy||a instanceof Sk.builtin.lng)};
goog.exportSymbol("Sk.builtin.checkNumber",Sk.builtin.checkNumber);Sk.builtin.checkInt=function(a){return a instanceof Sk.builtin.NumberPy?a.skType===Sk.builtin.NumberPy.int$:a instanceof Sk.builtin.lng?!0:"number"===typeof a?!0:!1};goog.exportSymbol("Sk.builtin.checkInt",Sk.builtin.checkInt);Sk.builtin.checkClass=function(a){return null!==a&&a.sk$type};goog.exportSymbol("Sk.builtin.checkClass",Sk.builtin.checkClass);Sk.builtin.checkBool=function(a){return a instanceof Sk.builtin.bool};
goog.exportSymbol("Sk.builtin.checkBool",Sk.builtin.checkBool);Sk.builtin.checkFunction=function(a){return null!==a&&void 0!==a.tp$call};goog.exportSymbol("Sk.builtin.checkFunction",Sk.builtin.checkFunction);Sk.builtin.func=function(a,b,c,d){this.func_code=a;this.func_globals=b||null;if(void 0!==d)for(var e in d)c[e]=d[e];this.func_closure=c;return this};goog.exportSymbol("Sk.builtin.func",Sk.builtin.func);Sk.builtin.func.prototype.tp$name="function";
Sk.builtin.func.prototype.tp$descr_get=function(a,b){goog.asserts.assert(void 0!==a&&void 0!==b);return null==a?this:new Sk.builtin.method(this,a)};
Sk.builtin.func.prototype.tp$call=function(a,b){var c;this.func_closure&&a.push(this.func_closure);c=this.func_code.co_kwargs;var d=[];if(this.func_code.no_kw&&b)throw c=this.func_code&&this.func_code.co_name&&this.func_code.co_name.v||"<native JS>",new Sk.builtin.TypeError(c+"() takes no keyword arguments");if(b)for(var e=b.length,f=this.func_code.co_varnames,h=f&&f.length,k=0;k<e;k+=2){for(var q=0;q<h&&b[k]!==f[q];++q);if(f&&q!==h)a[q]=b[k+1];else if(c)d.push(Sk.builtin.stringToPy(b[k])),d.push(b[k+
1]);else throw c=this.func_code&&this.func_code.co_name&&Sk.ffi.remapToJs(this.func_code.co_name)||"<native JS>",new Sk.builtin.TypeError(c+"() got an unexpected keyword argument '"+b[k]+"'");}c&&a.unshift(d);return this.func_code.apply(this.func_globals,a)};Sk.builtin.func.prototype.tp$getattr=function(a){return this[a]};Sk.builtin.func.prototype.tp$setattr=function(a,b){this[a]=b};Sk.builtin.func.prototype.ob$type=Sk.builtin.type.makeTypeObj("function",new Sk.builtin.func(null,null));
Sk.builtin.func.prototype.tp$repr=function(){var a=this.func_code&&this.func_code.co_name&&Sk.ffi.remapToJs(this.func_code.co_name)||"<native JS>";return Sk.builtin.stringToPy("<function "+a+">")};Sk.nativejs={FN_ARGS:/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT:/,/,FN_ARG:/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS:/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,formalParameterList:function(a){var b=[];a=a.toString().replace(this.STRIP_COMMENTS,"").match(this.FN_ARGS)[1].split(this.FN_ARG_SPLIT);for(var c in a)a[c].replace(this.FN_ARG,function(a,c,f){b.push(f)});return b},func:function(a){a.co_name=Sk.builtin.stringToPy(a.name);a.co_varnames=Sk.nativejs.formalParameterList(a);return new Sk.builtin.func(a)},
func_nokw:function(a){a.co_name=Sk.builtin.stringToPy(a.name);a.co_varnames=Sk.nativejs.formalParameterList(a);a.no_kw=!0;return new Sk.builtin.func(a)}};goog.exportSymbol("Sk.nativejs.func",Sk.nativejs.func);goog.exportSymbol("Sk.nativejs.func_nokw",Sk.nativejs.func_nokw);Sk.builtin.method=function(a,b){this.im_func=a;this.im_self=b};goog.exportSymbol("Sk.builtin.method",Sk.builtin.method);
Sk.builtin.method.prototype.tp$call=function(a,b){goog.asserts.assert(this.im_self,"should just be a function, not a method since there's no self?");goog.asserts.assert(this.im_func instanceof Sk.builtin.func);a.unshift(this.im_self);if(b)for(var c=b.length,d=0;d<c;d+=2){for(var e=this.im_func.func_code.co_varnames,f=e&&e.length,h=0;h<f&&b[d]!==e[h];++h);a[h]=b[d+1]}return this.im_func.func_code.apply(this.im_func.func_globals,a)};
Sk.builtin.method.prototype.tp$repr=function(){var a=this.im_func.func_code&&this.im_func.func_code.co_name&&Sk.ffi.remapToJs(this.im_func.func_code.co_name)||"<native JS>";return Sk.builtin.stringToPy("<bound method "+this.im_self.ob$type.tp$name+"."+a+" of "+Sk.ffi.remapToJs(this.im_self.tp$repr())+">")};Sk.misceval={};Sk.misceval.Suspension=function(a,b,c){void 0!==a&&void 0!==b&&(this.resume=function(){return a(b.resume())});this.child=b;this.optional=void 0!==b&&b.optional;this.data=void 0===c&&void 0!==b?b.data:c};goog.exportSymbol("Sk.misceval.Suspension",Sk.misceval.Suspension);Sk.misceval.retryOptionalSuspensionOrThrow=function(a,b){for(;a instanceof Sk.misceval.Suspension;){if(!a.optional)throw new Sk.builtin.SuspensionError(b||"Cannot call a function that blocks or suspends here");a=a.resume()}return a};
goog.exportSymbol("Sk.misceval.retryOptionalSuspensionOrThrow",Sk.misceval.retryOptionalSuspensionOrThrow);Sk.misceval.isIndex=function(a){return null===a||a.constructor===Sk.builtin.lng||a.tp$index||!0===a||!1===a?!0:Sk.builtin.checkInt(a)};goog.exportSymbol("Sk.misceval.isIndex",Sk.misceval.isIndex);
Sk.misceval.asIndex=function(a){if(Sk.misceval.isIndex(a)&&null!==a){if(!0===a)return 1;if(!1===a)return 0;if("number"===typeof a)return a;if(a.constructor===Sk.builtin.NumberPy)return a.v;if(a.constructor===Sk.builtin.lng)return a.tp$index();goog.asserts.fail("todo;")}};
Sk.misceval.applySlice=function(a,b,c){return a.sq$slice&&Sk.misceval.isIndex(b)&&Sk.misceval.isIndex(c)?(b=Sk.misceval.asIndex(b),void 0===b&&(b=0),c=Sk.misceval.asIndex(c),void 0===c&&(c=1E100),Sk.abstr.sequenceGetSlice(a,b,c)):Sk.abstr.objectGetItem(a,new Sk.builtin.slice(b,c,null))};goog.exportSymbol("Sk.misceval.applySlice",Sk.misceval.applySlice);
Sk.misceval.assignSlice=function(a,b,c,d){if(a.sq$ass_slice&&Sk.misceval.isIndex(b)&&Sk.misceval.isIndex(c))b=Sk.misceval.asIndex(b)||0,c=Sk.misceval.asIndex(c)||1E100,null===d?Sk.abstr.sequenceDelSlice(a,b,c):Sk.abstr.sequenceSetSlice(a,b,c,d);else return c=new Sk.builtin.slice(b,c),null===d?Sk.abstr.objectDelItem(a,c):Sk.abstr.objectSetItem(a,c,d)};goog.exportSymbol("Sk.misceval.assignSlice",Sk.misceval.assignSlice);
Sk.misceval.arrayFromArguments=function(a){if(1!=a.length)return a;var b=a[0];if(b instanceof Sk.builtin.set)b=b.tp$iter().$obj;else if(b instanceof Sk.builtin.dict)b=Sk.builtin.dict.prototype.keys.func_code(b);else if(Sk.builtin.isStringPy(b)){a=[];for(var b=b.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())a.push(c);return a}return b instanceof Sk.builtin.list||b instanceof Sk.builtin.tuple?b.v:a};goog.exportSymbol("Sk.misceval.arrayFromArguments",Sk.misceval.arrayFromArguments);
Sk.misceval.compareOp={Eq:"Eq",NotEq:"NotEq",Lt:"Lt",LtE:"LtE",Gt:"Gt",GtE:"GtE",Is:"Is",IsNot:"IsNot",In_:"In_",NotIn:"NotIn"};goog.exportSymbol("Sk.misceval.compareOp",Sk.misceval.compareOp);Sk.misceval.swappedOp_={};Sk.misceval.swappedOp_[Sk.misceval.compareOp.Eq]=Sk.misceval.compareOp.Eq;Sk.misceval.swappedOp_[Sk.misceval.compareOp.NotEq]=Sk.misceval.compareOp.NotEq;Sk.misceval.swappedOp_[Sk.misceval.compareOp.Lt]=Sk.misceval.compareOp.GtE;Sk.misceval.swappedOp_[Sk.misceval.compareOp.LtE]=Sk.misceval.compareOp.Gt;
Sk.misceval.swappedOp_[Sk.misceval.compareOp.Gt]=Sk.misceval.compareOp.LtE;Sk.misceval.swappedOp_[Sk.misceval.compareOp.GtE]=Sk.misceval.compareOp.Lt;Sk.misceval.swappedOp_[Sk.misceval.compareOp.Is]=Sk.misceval.compareOp.IsNot;Sk.misceval.swappedOp_[Sk.misceval.compareOp.IsNot]=Sk.misceval.compareOp.Is;Sk.misceval.swappedOp_[Sk.misceval.compareOp.In_]=Sk.misceval.compareOp.NotIn;Sk.misceval.swappedOp_[Sk.misceval.compareOp.NotIn]=Sk.misceval.compareOp.In_;
Sk.misceval.richCompareBool=function(a,b,c){goog.asserts.assert(null!==a&&void 0!==a,"passed undefined or null parameter to Sk.misceval.richCompareBool");goog.asserts.assert(null!==b&&void 0!==b,"passed undefined or null parameter to Sk.misceval.richCompareBool");var d=new Sk.builtin.type(a),e=new Sk.builtin.type(b);if(d!==e&&(c===Sk.misceval.compareOp.GtE||c===Sk.misceval.compareOp.Gt||"LtE"===c||c===Sk.misceval.compareOp.Lt)){var f=[Sk.builtin.float_.prototype.ob$type,Sk.builtin.int_.prototype.ob$type,
Sk.builtin.lng.prototype.ob$type,Sk.builtin.bool.prototype.ob$type],h=[Sk.builtin.dict.prototype.ob$type,Sk.builtin.enumerate.prototype.ob$type,Sk.builtin.list.prototype.ob$type,Sk.builtin.StringPy.prototype.ob$type,Sk.builtin.tuple.prototype.ob$type],k=f.indexOf(d),q=h.indexOf(d),f=f.indexOf(e),h=h.indexOf(e);if(d===Sk.builtin.none.none$.ob$type)switch(c){case Sk.misceval.compareOp.Lt:return!0;case "LtE":return!0;case Sk.misceval.compareOp.Gt:return!1;case Sk.misceval.compareOp.GtE:return!1}if(e===
Sk.builtin.none.none$.ob$type)switch(c){case Sk.misceval.compareOp.Lt:return!1;case "LtE":return!1;case Sk.misceval.compareOp.Gt:return!0;case Sk.misceval.compareOp.GtE:return!0}if(-1!==k&&-1!==h)switch(c){case Sk.misceval.compareOp.Lt:return!0;case "LtE":return!0;case Sk.misceval.compareOp.Gt:return!1;case Sk.misceval.compareOp.GtE:return!1}if(-1!==q&&-1!==f)switch(c){case Sk.misceval.compareOp.Lt:return!1;case "LtE":return!1;case Sk.misceval.compareOp.Gt:return!0;case Sk.misceval.compareOp.GtE:return!0}if(-1!==
q&&-1!==h)switch(c){case Sk.misceval.compareOp.Lt:return q<h;case "LtE":return q<=h;case Sk.misceval.compareOp.Gt:return q>h;case Sk.misceval.compareOp.GtE:return q>=h}}if(c===Sk.misceval.compareOp.Is)return a instanceof Sk.builtin.NumberPy&&b instanceof Sk.builtin.NumberPy?0===a.numberCompare(b)&&a.skType===b.skType:a instanceof Sk.builtin.lng&&b instanceof Sk.builtin.lng?0===a.longCompare(b):a===b;if(c===Sk.misceval.compareOp.IsNot)return a instanceof Sk.builtin.NumberPy&&b instanceof Sk.builtin.NumberPy?
0!==a.numberCompare(b)||a.skType!==b.skType:a instanceof Sk.builtin.lng&&b instanceof Sk.builtin.lng?0!==a.longCompare(b):a!==b;if("In"===c)return Sk.abstr.sequenceContains(b,a);if("NotIn"===c)return!Sk.abstr.sequenceContains(b,a);var n;if(a.tp$richcompare&&void 0!==(n=a.tp$richcompare(b,c))||b.tp$richcompare&&void 0!==(n=b.tp$richcompare(a,Sk.misceval.swappedOp_[c])))return n;e={};e[Sk.misceval.compareOp.Eq]="__eq__";e[Sk.misceval.compareOp.NotEq]="__ne__";e[Sk.misceval.compareOp.Gt]="__gt__";e[Sk.misceval.compareOp.GtE]=
"__ge__";e[Sk.misceval.compareOp.Lt]="__lt__";e[Sk.misceval.compareOp.LtE]="__le__";d=e[c];e=e[Sk.misceval.swappedOp_[c]];if(a[d])return Sk.misceval.callsim(a[d],a,b);if(b[e])return Sk.misceval.callsim(b[e],b,a);if(a.__cmp__){d=Sk.misceval.callsim(a.__cmp__,a,b);d=Sk.builtin.asnum$(d);if(c===Sk.misceval.compareOp.Eq)return 0===d;if(c===Sk.misceval.compareOp.NotEq)return 0!==d;if(c===Sk.misceval.compareOp.Lt)return 0>d;if(c===Sk.misceval.compareOp.Gt)return 0<d;if("LtE"===c)return 0>=d;if(c===Sk.misceval.compareOp.GtE)return 0<=
d}if(b.__cmp__){d=Sk.misceval.callsim(b.__cmp__,b,a);d=Sk.builtin.asnum$(d);if(c===Sk.misceval.compareOp.Eq)return 0===d;if(c===Sk.misceval.compareOp.NotEq)return 0!==d;if(c===Sk.misceval.compareOp.Lt)return 0<d;if(c===Sk.misceval.compareOp.Gt)return 0>d;if("LtE"===c)return 0<=d;if(c===Sk.misceval.compareOp.GtE)return 0>=d}if(a===Sk.builtin.none.none$&&b===Sk.builtin.none.none$||a instanceof Sk.builtin.bool&&b instanceof Sk.builtin.bool){if(c===Sk.misceval.compareOp.Eq)return a.v===b.v;if(c===Sk.misceval.compareOp.NotEq)return a.v!==
b.v;if(c===Sk.misceval.compareOp.Gt)return a.v>b.v;if(c===Sk.misceval.compareOp.GtE)return a.v>=b.v;if(c===Sk.misceval.compareOp.Lt)return a.v<b.v;if("LtE"===c)return a.v<=b.v}if(c===Sk.misceval.compareOp.Eq)return Sk.builtin.isStringPy(a)&&Sk.builtin.isStringPy(b)?Sk.builtin.stringToJs(a)===Sk.builtin.stringToJs(b):a===b;if(c===Sk.misceval.compareOp.Lt)return a<b;if("LtE"===c)return a<=b;if(c===Sk.misceval.compareOp.Gt)return a>b;if(c===Sk.misceval.compareOp.GtE)return a>=b;if(c===Sk.misceval.compareOp.NotEq)return Sk.builtin.isStringPy(a)&&
Sk.builtin.isStringPy(b)?Sk.builtin.stringToJs(a)!==Sk.builtin.stringToJs(b):a!==b;a=Sk.ffi.typeName(a);b=Sk.ffi.typeName(b);throw new Sk.builtin.ValueError("don't know how to compare '"+a+"' and '"+b+"'");};goog.exportSymbol("Sk.misceval.richCompareBool",Sk.misceval.richCompareBool);
Sk.misceval.objectRepr=function(a){goog.asserts.assert(void 0!==a,"trying to repr undefined");return null===a||a===Sk.builtin.none.none$?Sk.builtin.stringToPy("None"):!0===a?Sk.builtin.stringToPy("True"):!1===a?Sk.builtin.stringToPy("False"):"number"===typeof a?Sk.builtin.stringToPy(""+a):a.tp$repr?a.constructor===Sk.builtin.NumberPy?Infinity===a.v?Sk.builtin.stringToPy("inf"):-Infinity===a.v?Sk.builtin.stringToPy("-inf"):Sk.builtin.stringToPy(""+a.v):a.tp$repr():a.tp$name?Sk.builtin.stringToPy("<"+
a.tp$name+" object>"):Sk.builtin.stringToPy("<unknown>")};goog.exportSymbol("Sk.misceval.objectRepr",Sk.misceval.objectRepr);Sk.misceval.opAllowsEquality=function(a){switch(a){case "LtE":case Sk.misceval.compareOp.Eq:case Sk.misceval.compareOp.GtE:return!0}return!1};goog.exportSymbol("Sk.misceval.opAllowsEquality",Sk.misceval.opAllowsEquality);
Sk.misceval.isTrue=function(a){return!0===a?!0:!1===a||null===a||a===Sk.builtin.none.none$?!1:a.constructor===Sk.builtin.bool?a.v:"number"===typeof a?0!==a:a instanceof Sk.builtin.lng?a.nb$nonzero():a.constructor===Sk.builtin.NumberPy?0!==a.v:a.mp$length?0!==a.mp$length():a.sq$length?0!==a.sq$length():!0};goog.exportSymbol("Sk.misceval.isTrue",Sk.misceval.isTrue);
Sk.misceval.print_=function(a){goog.asserts.assertString(a);Sk.softSpace&&("\n"!==a&&Sk.output(" "),Sk.softSpace=!1);Sk.output(a);if(0===a.length||"\n"!==a[a.length-1]&&"\t"!==a[a.length-1]&&"\r"!==a[a.length-1]||" "===a[a.length-1])Sk.softSpace=!0};goog.exportSymbol("Sk.misceval.print_",Sk.misceval.print_);
Sk.misceval.loadname=function(a,b){var c=b[a];if(void 0!==c)return c;c=Sk.builtins[a];if(void 0!==c)return c;a=a.replace("_$rw$","");a=a.replace("_$rn$","");throw new Sk.builtin.NameError("name '"+a+"' is not defined");};goog.exportSymbol("Sk.misceval.loadname",Sk.misceval.loadname);Sk.misceval.call=function(a,b,c,d,e){e=Array.prototype.slice.call(arguments,4);return Sk.misceval.apply(a,b,c,d,e)};goog.exportSymbol("Sk.misceval.call",Sk.misceval.call);
Sk.misceval.callsim=function(a,b){b=Array.prototype.slice.call(arguments,1);return Sk.misceval.apply(a,void 0,void 0,void 0,b)};goog.exportSymbol("Sk.misceval.callsim",Sk.misceval.callsim);
Sk.misceval.apply=function(a,b,c,d,e){if(null===a||a===Sk.builtin.none.none$)throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not callable");if("function"===typeof a){if(a.sk$klass)return a.apply(null,[b,c,d,e]);if(c){c=c.tp$iter();for(var f=c.tp$iternext();void 0!==f;f=c.tp$iternext())e.push(f)}b&&goog.asserts.fail("kwdict not implemented;");goog.asserts.assert(void 0===d||0===d.length);return a.apply(null,e)}var h=a.tp$call;if(void 0!==h){if(c)for(c=c.tp$iter(),f=c.tp$iternext();void 0!==
f;f=c.tp$iternext())e.push(f);b&&goog.asserts.fail("kwdict not implemented;");return h.call(a,e,d,b)}h=a.__call__;if(void 0!==h)return e.unshift(a),Sk.misceval.apply(h,d,e,b,c);throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not callable");};goog.exportSymbol("Sk.misceval.apply",Sk.misceval.apply);Sk.misceval.buildClass=function(a,b,c,d){var e=Sk.builtin.type,f={};b(a,f,[]);f.__module__=a.__name__;return Sk.misceval.callsim(e,c,d,f)};goog.exportSymbol("Sk.misceval.buildClass",Sk.misceval.buildClass);Sk.abstr={};Sk.abstr.binop_type_error=function(a,b,c){a=Sk.ffi.typeName(a);b=Sk.ffi.typeName(b);throw new Sk.builtin.TypeError("unsupported operand type(s) for "+c+": '"+a+"' and '"+b+"'");};
Sk.abstr.boNameToSlotFuncLhs_=function(a,b){if(null!==a)switch(b){case "Add":return a.nb$add?a.nb$add:a.__add__;case "Sub":return a.nb$sub?a.nb$sub:a.__sub__;case "Mult":return a.nb$mul?a.nb$mul:a.__mul__;case "Div":return a.nb$div?a.nb$div:a.__div__;case "FloorDiv":return a.nb$floor_divide?a.nb$floor_divide:a.__floordiv__;case "Mod":return a.nb$remainder?a.nb$remainder:a.__mod__;case "Pow":return a.nb$power?a.nb$power:a.__pow__;case "LShift":return a.nb$lshift?a.nb$lshift:a.__lshift__;case "RShift":return a.nb$rshift?
a.nb$rshift:a.__rshift__;case "BitAnd":return a.nb$and?a.nb$and:a.__and__;case "BitXor":return a.nb$xor?a.nb$xor:a.__xor__;case "BitOr":return a.nb$or?a.nb$or:a.__or__}};
Sk.abstr.boNameToSlotFuncRhs_=function(a,b){if(null!==a)switch(b){case "Add":return a.nb$add?a.nb$add:a.__radd__;case "Sub":return a.nb$sub?a.nb$sub:a.__rsub__;case "Mult":return a.nb$mul?a.nb$mul:a.__rmul__;case "Div":return a.nb$div?a.nb$div:a.__rdiv__;case "FloorDiv":return a.nb$floor_divide?a.nb$floor_divide:a.__rfloordiv__;case "Mod":return a.nb$remainder?a.nb$remainder:a.__rmod__;case "Pow":return a.nb$power?a.nb$power:a.__rpow__;case "LShift":return a.nb$lshift?a.nb$lshift:a.__rlshift__;case "RShift":return a.nb$rshift?
a.nb$rshift:a.__rrshift__;case "BitAnd":return a.nb$and?a.nb$and:a.__rand__;case "BitXor":return a.nb$xor?a.nb$xor:a.__rxor__;case "BitOr":return a.nb$or?a.nb$or:a.__ror__}};
Sk.abstr.iboNameToSlotFunc_=function(a,b){if(null!==a)switch(b){case "Add":return a.nb$inplace_add?a.nb$inplace_add:a.__iadd__;case "Sub":return a.nb$inplace_subtract?a.nb$inplace_subtract:a.__isub__;case "Mult":return a.nb$inplace_multiply?a.nb$inplace_multiply:a.__imul__;case "Div":return a.nb$inplace_divide?a.nb$inplace_divide:a.__idiv__;case "FloorDiv":return a.nb$inplace_floor_divide?a.nb$inplace_floor_divide:a.__ifloordiv__;case "Mod":return a.nb$inplace_remainder;case "Pow":return a.nb$inplace_power;
case "LShift":return a.nb$inplace_lshift?a.nb$inplace_lshift:a.__ilshift__;case "RShift":return a.nb$inplace_rshift?a.nb$inplace_rshift:a.__irshift__;case "BitAnd":return a.nb$inplace_and;case "BitOr":return a.nb$inplace_or;case "BitXor":return a.nb$inplace_xor?a.nb$inplace_xor:a.__ixor__}};
Sk.abstr.binary_op_=function(a,b,c){var d;d=Sk.abstr.boNameToSlotFuncLhs_(a,c);if(void 0!==d&&(d=d.call?d.call(a,b):Sk.misceval.callsim(d,a,b),void 0!==d))return d;d=Sk.abstr.boNameToSlotFuncRhs_(b,c);if(void 0!==d&&(d=d.call?d.call(b,a):Sk.misceval.callsim(d,b,a),void 0!==d))return d;Sk.abstr.binop_type_error(a,b,c)};
Sk.abstr.binary_iop_=function(a,b,c){var d;d=Sk.abstr.iboNameToSlotFunc_(a,c);if(void 0!==d&&(d=d.call?d.call(a,b):Sk.misceval.callsim(d,a,b),void 0!==d))return d;d=Sk.abstr.iboNameToSlotFunc_(b,c);if(void 0!==d&&(d=d.call?d.call(b,a):Sk.misceval.callsim(d,b,a),void 0!==d))return d;Sk.abstr.binop_type_error(a,b,c)};
Sk.abstr.numOpAndPromote=function(a,b,c){if(null!==a&&null!==b){if("number"===typeof a&&"number"===typeof b)return c=c(a,b),(c>Sk.builtin.lng.threshold$||c<-Sk.builtin.lng.threshold$)&&Math.floor(c)===c?[Sk.builtin.lng.fromInt$(a),Sk.builtin.lng.fromInt$(b)]:c;if(void 0===a||void 0===b)throw new Sk.builtin.NameError("Undefined variable in expression");if(a.constructor===Sk.builtin.lng||a.constructor===Sk.builtin.NumberPy)return[a,b];if("number"===typeof a)return[Sk.builtin.numberPy(a,void 0),b]}};
Sk.abstr.boNumPromote_={Add:function(a,b){return a+b},Sub:function(a,b){return a-b},Mult:function(a,b){return a*b},Mod:function(a,b){if(0===b)throw new Sk.builtin.ZeroDivisionError("division or modulo by zero");var c=a%b;return 0>c*b?c+b:c},Div:function(a,b){if(0===b)throw new Sk.builtin.ZeroDivisionError("division or modulo by zero");return a/b},FloorDiv:function(a,b){if(0===b)throw new Sk.builtin.ZeroDivisionError("division or modulo by zero");return Math.floor(a/b)},Pow:Math.pow,BitAnd:function(a,
b){var c=a&b;0>c&&(c+=4294967296);return c},BitOr:function(a,b){var c=a|b;0>c&&(c+=4294967296);return c},BitXor:function(a,b){var c=a^b;0>c&&(c+=4294967296);return c},LShift:function(a,b){if(0>b)throw new Sk.builtin.ValueError("negative shift count");var c=a<<b;return c>a?c:a*Math.pow(2,b)},RShift:function(a,b){if(0>b)throw new Sk.builtin.ValueError("negative shift count");var c=a>>b;0<a&&0>c&&(c&=Math.pow(2,32-b)-1);return c}};
Sk.abstr.numberBinOp=function(a,b,c){var d=Sk.abstr.boNumPromote_[c];if(void 0!==d){d=Sk.abstr.numOpAndPromote(a,b,d);if("number"===typeof d)return d;if(void 0!==d&&d.constructor===Sk.builtin.NumberPy||void 0!==d&&d.constructor===Sk.builtin.lng)return d;void 0!==d&&(a=d[0],b=d[1])}return Sk.abstr.binary_op_(a,b,c)};goog.exportSymbol("Sk.abstr.numberBinOp",Sk.abstr.numberBinOp);
Sk.abstr.numberInplaceBinOp=function(a,b,c){var d=Sk.abstr.boNumPromote_[c];if(void 0!==d){d=Sk.abstr.numOpAndPromote(a,b,d);if("number"===typeof d)return d;if(void 0!==d&&d.constructor===Sk.builtin.NumberPy||void 0!==d&&d.constructor===Sk.builtin.lng)return d;void 0!==d&&(a=d[0],b=d[1])}return Sk.abstr.binary_iop_(a,b,c)};goog.exportSymbol("Sk.abstr.numberInplaceBinOp",Sk.abstr.numberInplaceBinOp);
Sk.abstr.uoNameToSlotFunc_=function(a,b){if(null!==a)switch(b){case Sk.abstr.unaryOp.USub:return a.u$negative?a.u$negative:a.__neg__;case Sk.abstr.unaryOp.UAdd:return a.u$positive?a.u$positive:a.__pos__;case Sk.abstr.unaryOp.Invert:return a.nb$invert?a.nb$invert:a.__invert__;default:throw new Sk.builtin.AssertionError("7fb8237f-879b-4192-89ce-13ad6fa3b2d8 "+b);}};Sk.abstr.unaryOp={Not:"Not",USub:"USub",Invert:"Invert",UAdd:"UAdd"};goog.exportSymbol("Sk.abstr.unaryOp",Sk.abstr.unaryOp);
Sk.abstr.numberUnaryOp=function(a,b){goog.asserts.assertString(b,"op must be a string");if(b===Sk.abstr.unaryOp.Not)return Sk.misceval.isTrue(a)?Sk.builtin.bool.false$:Sk.builtin.bool.true$;if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)||Sk.ffi.isBool(a)){var c=Sk.ffi.remapToJs(a);if(b===Sk.abstr.unaryOp.USub)return Sk.builtin.numberPy(-c,c.skType);if(b===Sk.abstr.unaryOp.Invert)return Sk.builtin.numberPy(~c,c.skType);if(b===Sk.abstr.unaryOp.UAdd)return Sk.builtin.numberPy(c,c.skType)}else if(c=Sk.abstr.uoNameToSlotFunc_(a,
b),void 0!=c)return c.call?c.call(a):Sk.misceval.callsim(c,a);c=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("unsupported operand type for "+b+" '"+c+"'");};goog.exportSymbol("Sk.abstr.numberUnaryOp",Sk.abstr.numberUnaryOp);Sk.abstr.fixSeqIndex_=function(a,b){b=Sk.ffi.remapToJs(b);0>b&&a.sq$length&&(b+=a.sq$length());return b};
Sk.abstr.sequenceContains=function(a,b){if(a.sq$contains)return a.sq$contains(b);var c=Sk.ffi.typeName(a);if(!a.tp$iter)throw new Sk.builtin.TypeError("argument of type '"+c+"' is not iterable");for(var c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())if(Sk.misceval.richCompareBool(d,b,Sk.misceval.compareOp.Eq))return!0;return!1};Sk.abstr.sequenceGetItem=function(a,b){goog.asserts.fail()};Sk.abstr.sequenceSetItem=function(a,b,c){goog.asserts.fail()};
Sk.abstr.sequenceDelItem=function(a,b){if(a.sq$del_item)b=Sk.abstr.fixSeqIndex_(a,b),a.sq$del_item(b);else{var c=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("'"+c+"' object does not support item deletion");}};Sk.abstr.sequenceRepeat=function(a,b,c){c=Sk.ffi.remapToJs(c);if(void 0===Sk.misceval.asIndex(c))throw a=Sk.ffi.typeName(c),new Sk.builtin.TypeError("can't multiply sequence by non-int of type '"+a+"'");return a.call(b,c)};
Sk.abstr.sequenceGetSlice=function(a,b,c){if(a.sq$slice)return b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$slice(b,c);if(a.mp$subscript)return a.mp$subscript(new Sk.builtin.slice(b,c));a=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("'"+a+"' object is unsliceable");};
Sk.abstr.sequenceDelSlice=function(a,b,c){if(a.sq$del_slice)b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$del_slice(b,c);else throw a=Sk.ffi.typeName(a),new Sk.builtin.TypeError("'"+a+"' doesn't support slice deletion");};
Sk.abstr.sequenceSetSlice=function(a,b,c,d){if(a.sq$ass_slice)b=Sk.abstr.fixSeqIndex_(a,b),c=Sk.abstr.fixSeqIndex_(a,c),a.sq$ass_slice(b,c,d);else if(a.mp$ass_subscript)a.mp$ass_subscript(new Sk.builtin.slice(b,c),d);else throw a=Sk.ffi.typeName(a),new Sk.builtin.TypeError("'"+a+"' object doesn't support slice assignment");};
Sk.abstr.objectDelItem=function(a,b){if(null!==a){if(a.mp$del_subscript){a.mp$del_subscript(b);return}if(a.sq$ass_item){var c=Sk.misceval.asIndex(b);if(void 0===c)throw c=Sk.ffi.typeName(b),new Sk.builtin.TypeError("sequence index must be integer, not '"+c+"'");Sk.abstr.sequenceDelItem(a,c);return}}c=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("'"+c+"' object does not support item deletion");};goog.exportSymbol("Sk.abstr.objectDelItem",Sk.abstr.objectDelItem);
Sk.abstr.objectGetItem=function(a,b){if(null!==a){if(a.mp$subscript)return a.mp$subscript(b);if(Sk.misceval.isIndex(b)&&a.sq$item)return Sk.abstr.sequenceGetItem(a,Sk.misceval.asIndex(b));if(a.tp$getitem)return a.tp$getitem(b)}var c=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("'"+c+"' does not support indexing");};goog.exportSymbol("Sk.abstr.objectGetItem",Sk.abstr.objectGetItem);
Sk.abstr.objectSetItem=function(a,b,c){if(null!==a){if(a.mp$ass_subscript)return a.mp$ass_subscript(b,c);if(Sk.misceval.isIndex(b)&&a.sq$ass_item)return Sk.abstr.sequenceSetItem(a,Sk.misceval.asIndex(b),c);if(a.tp$setitem)return a.tp$setitem(b,c)}a=Sk.ffi.typeName(a);throw new Sk.builtin.TypeError("'"+a+"' does not support item assignment");};goog.exportSymbol("Sk.abstr.objectSetItem",Sk.abstr.objectSetItem);
Sk.abstr.gattr=function(a,b){var c=Sk.ffi.typeName(a);if(null===a)throw new Sk.builtin.AttributeError("'"+c+"' object has no attribute '"+b+"'");var d=void 0;a.__getattr__?d=Sk.misceval.callsim(a.__getattr__,a,b):void 0!==a.tp$getattr&&(d=a.tp$getattr(b));if(void 0===d)throw new Sk.builtin.AttributeError("'"+c+"' object has no attribute '"+b+"'");return d};goog.exportSymbol("Sk.abstr.gattr",Sk.abstr.gattr);
Sk.abstr.sattr=function(a,b,c){var d=Sk.ffi.typeName(a);if(null===a)throw new Sk.builtin.AttributeError("'"+d+"' object has no attribute '"+b+"'");if(a.__setattr__)Sk.misceval.callsim(a.__setattr__,a,b,c);else if(void 0!==a.tp$setattr)a.tp$setattr(b,c);else throw new Sk.builtin.AttributeError("'"+d+"' object has no attribute '"+b+"'");};goog.exportSymbol("Sk.abstr.sattr",Sk.abstr.sattr);
Sk.abstr.iter=function(a){if(a.tp$iter)return a.tp$iter();throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not iterable");};goog.exportSymbol("Sk.abstr.iter",Sk.abstr.iter);Sk.abstr.iternext=function(a){return a.tp$iternext()};goog.exportSymbol("Sk.abstr.iternext",Sk.abstr.iternext);Sk.mergeSort=function(a,b,c,d){Sk.quickSort(a,b,c,d)};Sk.quickSort=function(a,b,c,d){goog.asserts.assert(!c,"todo;");b||(b=Sk.mergeSort.stdCmp);var e=function(a,c,d,q){if(d-1>c){var n=c+Math.floor(Math.random()*(d-c)),m,g=a[n];m=a[n];a[n]=a[d-1];a[d-1]=m;var n=c,l;for(l=c;l<d-1;++l)m=q?Sk.misceval.callsim(b,g,a[l]):Sk.misceval.callsim(b,a[l],g),0>Sk.builtin.asnum$(m)&&(m=a[n],a[n]=a[l],a[l]=m,++n);m=a[d-1];a[d-1]=a[n];a[n]=m;e(a,c,n,q);e(a,n+1,d,q)}};e(a,0,a.length,d);return null};
Sk.mergeSort.stdCmp=new Sk.builtin.func(function(a,b){return Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.Lt)?-1:0});Sk.builtin.list=function(a){if(!(this instanceof Sk.builtin.list))return new Sk.builtin.list(a);if(void 0===a)this.v=[];else if("[object Array]"===Object.prototype.toString.apply(a))this.v=a;else if(a.tp$iter){this.v=[];a=a.tp$iter();for(var b=a.tp$iternext();void 0!==b;b=a.tp$iternext())this.v.push(b)}else throw new Sk.builtin.ValueError("expecting Array or iterable");this.__class__=Sk.builtin.list;this.v=this.v;return this};
Sk.builtin.list.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("list",Sk.builtin.list);Sk.builtin.list.prototype.list_iter_=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:a.$obj.v[a.$index++]}};return a};
Sk.builtin.list.prototype.list_concat_=function(a){if(!a.__class__||a.__class__!=Sk.builtin.list)throw new Sk.builtin.TypeError("can only concatenate list to list");for(var b=this.v.slice(),c=0;c<a.v.length;++c)b.push(a.v[c]);return new Sk.builtin.list(b)};Sk.builtin.list.prototype.list_del_item_=function(a){a=Sk.builtin.asnum$(a);if(0>a||a>=this.v.length)throw new Sk.builtin.IndexError("list assignment index out of range");this.list_del_slice_(a,a+1)};
Sk.builtin.list.prototype.list_del_slice_=function(a,b){a=Sk.builtin.asnum$(a);b=Sk.builtin.asnum$(b);var c=[];c.unshift(b-a);c.unshift(a);this.v.splice.apply(this.v,c)};Sk.builtin.list.prototype.list_ass_item_=function(a,b){a=Sk.builtin.asnum$(a);if(0>a||a>=this.v.length)throw new Sk.builtin.IndexError("list assignment index out of range");this.v[a]=b};
Sk.builtin.list.prototype.list_ass_slice_=function(a,b,c){a=Sk.builtin.asnum$(a);b=Sk.builtin.asnum$(b);c=c.v.slice(0);c.unshift(b-a);c.unshift(a);this.v.splice.apply(this.v,c)};Sk.builtin.list.prototype.tp$name="list";Sk.builtin.list.prototype.tp$str=function(){for(var a=[],b=this.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())a.push(Sk.ffi.remapToJs(Sk.misceval.objectRepr(c)));return Sk.builtin.stringToPy("["+a.join(", ")+"]")};
Sk.builtin.list.prototype.tp$repr=function(){for(var a=[],b=this.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())a.push(Sk.misceval.objectRepr(c).v);return Sk.builtin.stringToPy("["+a.join(", ")+"]")};Sk.builtin.list.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.list.prototype.tp$hash=Sk.builtin.object.prototype.HashNotImplemented;
Sk.builtin.list.prototype.tp$richcompare=function(a,b){if(this===a&&Sk.misceval.opAllowsEquality(b))return!0;if(!a.__class__||a.__class__!=Sk.builtin.list)return b===Sk.misceval.compareOp.Eq?!1:b===Sk.misceval.compareOp.NotEq?!0:!1;var c=this.v;a=a.v;var d=c.length,e=a.length,f;for(f=0;f<d&&f<e&&Sk.misceval.richCompareBool(c[f],a[f],Sk.misceval.compareOp.Eq);++f);if(f>=d||f>=e)switch(b){case Sk.misceval.compareOp.Lt:return d<e;case "LtE":return d<=e;case Sk.misceval.compareOp.Eq:return d===e;case Sk.misceval.compareOp.NotEq:return d!==
e;case Sk.misceval.compareOp.Gt:return d>e;case Sk.misceval.compareOp.GtE:return d>=e;default:goog.asserts.fail()}return b===Sk.misceval.compareOp.Eq?!1:b===Sk.misceval.compareOp.NotEq?!0:Sk.misceval.richCompareBool(c[f],a[f],b)};Sk.builtin.list.prototype.tp$iter=Sk.builtin.list.prototype.list_iter_;Sk.builtin.list.prototype.sq$length=function(){return this.v.length};Sk.builtin.list.prototype.sq$concat=Sk.builtin.list.prototype.list_concat_;Sk.builtin.list.prototype.nb$add=Sk.builtin.list.prototype.list_concat_;
Sk.builtin.list.prototype.nb$inplace_add=Sk.builtin.list.prototype.list_concat_;Sk.builtin.list.prototype.sq$repeat=function(a){if(!Sk.builtin.checkInt(a))throw new Sk.builtin.TypeError("can't multiply sequence by non-int of type '"+Sk.ffi.typeName(a)+"'");a=Sk.builtin.asnum$(a);for(var b=[],c=0;c<a;++c)for(var d=0;d<this.v.length;++d)b.push(this.v[d]);return new Sk.builtin.list(b)};Sk.builtin.list.prototype.nb$mul=Sk.builtin.list.prototype.sq$repeat;
Sk.builtin.list.prototype.nb$inplace_multiply=Sk.builtin.list.prototype.sq$repeat;Sk.builtin.list.prototype.sq$ass_item=Sk.builtin.list.prototype.list_ass_item_;Sk.builtin.list.prototype.sq$del_item=Sk.builtin.list.prototype.list_del_item_;Sk.builtin.list.prototype.sq$ass_slice=Sk.builtin.list.prototype.list_ass_slice_;Sk.builtin.list.prototype.sq$del_slice=Sk.builtin.list.prototype.list_del_slice_;
Sk.builtin.list.prototype.list_subscript_=function(a){if(Sk.misceval.isIndex(a)){var b=Sk.misceval.asIndex(a);if(void 0!==b){0>b&&(b=this.v.length+b);if(0>b||b>=this.v.length)throw new Sk.builtin.IndexError("list index out of range");return this.v[b]}}else if(a instanceof Sk.builtin.slice){var c=[];a.sssiter$(this,function(a,b){c.push(b.v[a])});return new Sk.builtin.list(c)}throw new Sk.builtin.TypeError("list indices must be integers, not "+Sk.ffi.typeName(a));};
Sk.builtin.list.prototype.list_ass_subscript_=function(a,b){if(Sk.misceval.isIndex(a)){var c=Sk.misceval.asIndex(a);if(void 0!==c){0>c&&(c=this.v.length+c);this.list_ass_item_(c,b);return}}else if(a instanceof Sk.builtin.slice){if(1===(null!==a.step?a.step:1))this.list_ass_slice_(a.start,a.stop,b);else{var d=[];a.sssiter$(this,function(a,b){d.push(a)});var e=0;if(d.length!==b.v.length)throw new Sk.builtin.ValueError("attempt to assign sequence of size "+b.v.length+" to extended slice of size "+d.length);
for(c=0;c<d.length;++c)this.v.splice(d[c],1,b.v[e]),e+=1}return}throw new Sk.builtin.TypeError("list indices must be integers, not "+Sk.ffi.typeName(a));};
Sk.builtin.list.prototype.list_del_subscript_=function(a){if(Sk.misceval.isIndex(a)){var b=Sk.misceval.asIndex(a);if(void 0!==b){0>b&&(b=this.v.length+b);this.list_del_item_(b);return}}else if(a instanceof Sk.builtin.slice){if(1===a.step)this.list_del_slice_(a.start,a.stop);else{var c=this,d=0,e=0<(null===a.step?1:a.step)?1:0;a.sssiter$(this,function(a,b){c.v.splice(a-d,1);d+=e})}return}throw new Sk.builtin.TypeError("list indices must be integers, not "+typeof a);};
Sk.builtin.list.prototype.mp$subscript=Sk.builtin.list.prototype.list_subscript_;Sk.builtin.list.prototype.mp$ass_subscript=Sk.builtin.list.prototype.list_ass_subscript_;Sk.builtin.list.prototype.mp$del_subscript=Sk.builtin.list.prototype.list_del_subscript_;Sk.builtin.list.prototype.__getitem__=new Sk.builtin.func(function(a,b){return Sk.builtin.list.prototype.list_subscript_.call(a,b)});
Sk.builtin.list.prototype.list_sort_=function(a,b,c,d){var e=void 0!==c&&null!==c,f=void 0!==b&&null!==b;void 0==d&&(d=!1);var h=new Sk.builtin.timSort(a);a.v=[];var k=Sk.ffi.numberToIntPy(0);if(e){h.lt=f?function(a,c){return Sk.misceval.richCompareBool(b.func_code(a[0],c[0]),k,Sk.misceval.compareOp.Lt)}:function(a,b){return Sk.misceval.richCompareBool(a[0],b[0],Sk.misceval.compareOp.Lt)};for(var q=0;q<h.listlength;q++){var f=h.list.v[q],n=c.func_code(f);h.list.v[q]=[n,f]}}else f&&(h.lt=function(a,
c){return Sk.misceval.richCompareBool(b.func_code(a,c),k,Sk.misceval.compareOp.Lt)});d&&h.list.list_reverse_(h.list);h.sort();d&&h.list.list_reverse_(h.list);if(e)for(c=0;c<h.listlength;c++)f=h.list.v[c][1],h.list.v[c]=f;c=0<a.sq$length();a.v=h.list.v;if(c)throw new Sk.builtin.OperationError("list modified during sort");};Sk.builtin.list.prototype.list_reverse_=function(a){Sk.builtin.pyCheckArgs("reverse",arguments,1,1);for(var b=a.v,c=[],d=a.v.length-1;-1<d;--d)c.push(b[d]);a.v=c;return null};
Sk.builtin.list.prototype.__iter__=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("__iter__",arguments,1,1);return a.list_iter_()});Sk.builtin.list.prototype.append=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("append",arguments,2,2);a.v.push(b);return null});
Sk.builtin.list.prototype.insert=new Sk.builtin.func(function(a,b,c){Sk.builtin.pyCheckArgs("insert",arguments,3,3);if(!Sk.builtin.checkNumber(b))throw new Sk.builtin.TypeError("an integer is required");b=Sk.builtin.asnum$(b);0>b?b=0:b>a.v.length&&(b=a.v.length);a.v.splice(b,0,c)});
Sk.builtin.list.prototype.extend=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("extend",arguments,2,2);if(!Sk.builtin.checkIterable(b))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(b)+"' object is not iterable");if(a==b){for(var c=[],d=b.tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext())c.push(e);a.v.push.apply(a.v,c);return null}d=b.tp$iter();for(e=d.tp$iternext();void 0!==e;e=d.tp$iternext())a.v.push(e);return null});
Sk.builtin.list.prototype.pop=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("pop",arguments,1,2);void 0===b&&(b=a.v.length-1);if(!Sk.builtin.checkNumber(b))throw new Sk.builtin.TypeError("an integer is required");b=Sk.builtin.asnum$(b);if(0>b||b>=a.v.length)throw new Sk.builtin.IndexError("pop index out of range");var c=a.v[b];a.v.splice(b,1);return c});
Sk.builtin.list.prototype.remove=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("remove",arguments,2,2);var c=Sk.builtin.list.prototype.index.func_code(a,b);a.v.splice(c,1);return null});Sk.builtin.list.prototype.index=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("index",arguments,2,2);for(var c=a.v.length,d=a.v,e=0;e<c;++e)if(Sk.misceval.richCompareBool(d[e],b,Sk.misceval.compareOp.Eq))return e;throw new Sk.builtin.ValueError("list.index(x): x not in list");});
Sk.builtin.list.prototype.count=new Sk.builtin.func(function(a,b){Sk.ffi.checkMethodArgs("count()",arguments,1,1);for(var c=a.v.length,d=a.v,e=0,f=0;f<c;++f)Sk.misceval.richCompareBool(d[f],b,Sk.misceval.compareOp.Eq)&&(e+=1);return e});Sk.builtin.list.prototype.reverse=new Sk.builtin.func(Sk.builtin.list.prototype.list_reverse_);Sk.builtin.list.prototype.sort=new Sk.builtin.func(Sk.builtin.list.prototype.list_sort_);Sk.builtin.list.prototype.sort.func_code.co_varnames=["__self__","cmp","key","reverse"];
goog.exportSymbol("Sk.builtin.list",Sk.builtin.list);var interned={};Sk.builtin.JsType={UNDEFINED:"undefined",OBJECT:"object",STRING:"string",NUMBER:"number",BOOLEAN:"boolean",FUNCTION:"function"};
Sk.builtin.stringToPy=function(a,b){var c=typeof a;if(c===Sk.builtin.JsType.STRING)return 0<a.length?new Sk.builtin.StringPy(a):Sk.builtin.StringPy.$emptystr;if(c===Sk.builtin.JsType.OBJECT&&null===a)return Sk.builtin.none.none$;if(c===Sk.builtin.JsType.UNDEFINED){c=typeof b;if(c===Sk.builtin.JsType.STRING)return Sk.builtin.stringToPy(b.toString());if(c===Sk.builtin.JsType.UNDEFINED)return;if(c===Sk.builtin.JsType.OBJECT&&null===b)return Sk.builtin.none.none$;throw Sk.ffi.err.argument("defaultJs").inFunction("Sk.builtin.stringToPy").mustHaveType([Sk.builtin.JsType.STRING,
Sk.builtin.JsType.UNDEFINED,"null"].join(" or "));}throw Sk.ffi.err.argument("valueJs").inFunction("Sk.builtin.stringToPy").mustHaveType([Sk.builtin.JsType.STRING,"null",Sk.builtin.JsType.UNDEFINED].join(" or "));};goog.exportSymbol("Sk.builtin.stringToPy",Sk.builtin.stringToPy);Sk.builtin.stringToJs=function(a){return a.v};goog.exportSymbol("Sk.builtin.stringToJs",Sk.builtin.stringToJs);Sk.builtin.isStringPy=function(a){return a instanceof Sk.builtin.StringPy};
goog.exportSymbol("Sk.builtin.isStringPy",Sk.builtin.isStringPy);
Sk.builtin.StringPy=function(a){void 0===a&&(a="");if(a instanceof Sk.builtin.StringPy&&a!==Sk.builtin.StringPy.prototype.ob$type)return a;if(!Sk.builtin.isStringPy(this))return new Sk.builtin.StringPy(a);if(!0===a)a="True";else if(!1===a)a="False";else if(null===a||a===Sk.builtin.none.none$)a="None";else if(a instanceof Sk.builtin.bool)a=a.v?"True":"False";else if("number"===typeof a)a=a.toString(),"Infinity"===a?a="inf":"-Infinity"===a&&(a="-inf");else if("string"!==typeof a){if(void 0!==a.tp$str){a=
a.tp$str();if(!Sk.builtin.isStringPy(a))throw new Sk.builtin.ValueError("__str__ didn't return a str");return a}return Sk.misceval.objectRepr(a)}if(Object.prototype.hasOwnProperty.call(interned,"1"+a))return interned["1"+a];this.__class__=Sk.builtin.StringPy;this.v=this.v=a;interned["1"+a]=this;return this};goog.exportSymbol("Sk.builtin.StringPy",Sk.builtin.StringPy);Sk.builtin.StringPy.$emptystr=new Sk.builtin.StringPy("");
Sk.builtin.StringPy.prototype.mp$subscript=function(a){a=Sk.builtin.asnum$(a);if("number"===typeof a&&Math.floor(a)===a){0>a&&(a=this.v.length+a);if(0>a||a>=this.v.length)throw new Sk.builtin.IndexError("string index out of range");return Sk.builtin.stringToPy(this.v.charAt(a))}if(a instanceof Sk.builtin.slice){var b="";a.sssiter$(this,function(a,d){0<=a&&a<Sk.ffi.remapToJs(d).length&&(b+=Sk.ffi.remapToJs(d).charAt(a))});return Sk.builtin.stringToPy(b)}throw new Sk.builtin.TypeError("string indices must be numbers, not "+
typeof a);};Sk.builtin.StringPy.prototype.sq$length=function(){return this.v.length};Sk.builtin.StringPy.prototype.sq$concat=function(a){if(!a||!Sk.builtin.isStringPy(a))throw a=Sk.ffi.typeName(a),new Sk.builtin.TypeError("cannot concatenate 'str' and '"+a+"' objects");return Sk.builtin.stringToPy(Sk.ffi.remapToJs(this)+Sk.ffi.remapToJs(a))};Sk.builtin.StringPy.prototype.nb$add=Sk.builtin.StringPy.prototype.sq$concat;Sk.builtin.StringPy.prototype.nb$inplace_add=Sk.builtin.StringPy.prototype.sq$concat;
Sk.builtin.StringPy.prototype.sq$repeat=function(a){a=Sk.builtin.asnum$(a);for(var b="",c=0;c<a;++c)b+=Sk.ffi.remapToJs(this);return Sk.builtin.stringToPy(b)};Sk.builtin.StringPy.prototype.nb$mul=Sk.builtin.StringPy.prototype.sq$repeat;Sk.builtin.StringPy.prototype.nb$inplace_multiply=Sk.builtin.StringPy.prototype.sq$repeat;Sk.builtin.StringPy.prototype.sq$item=function(){goog.asserts.fail()};
Sk.builtin.StringPy.prototype.sq$slice=function(a,b){a=Sk.builtin.asnum$(a);b=Sk.builtin.asnum$(b);0>a&&(a=0);return Sk.builtin.stringToPy(Sk.ffi.remapToJs(this).substr(a,b-a))};Sk.builtin.StringPy.prototype.sq$contains=function(a){if(void 0===Sk.ffi.remapToJs(a)||Sk.ffi.remapToJs(a).constructor!=String)throw new Sk.builtin.TypeError("TypeError: 'In <string> requires string as left operand");return-1!=this.v.indexOf(Sk.ffi.remapToJs(a))?!0:!1};Sk.builtin.StringPy.prototype.tp$name="str";
Sk.builtin.StringPy.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.StringPy.prototype.tp$iter=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:Sk.builtin.stringToPy(a.$obj.v.substr(a.$index++,1))}};return a};
Sk.builtin.StringPy.prototype.tp$richcompare=function(a,b){if(Sk.builtin.isStringPy(a)){if(this===a)switch(b){case Sk.misceval.compareOp.Eq:case "LtE":case Sk.misceval.compareOp.GtE:return!0;case Sk.misceval.compareOp.NotEq:case Sk.misceval.compareOp.Lt:case Sk.misceval.compareOp.Gt:return!1}var c=this.v.length,d=a.v.length,e=Math.min(c,d),f=0;if(0<e)for(var h=0;h<e;++h){if(this.v[h]!=a.v[h]){f=this.v[h].charCodeAt(0)-a.v[h].charCodeAt(0);break}}else f=0;0==f&&(f=c<d?-1:c>d?1:0);switch(b){case Sk.misceval.compareOp.Lt:return 0>
f;case "LtE":return 0>=f;case Sk.misceval.compareOp.Eq:return 0==f;case Sk.misceval.compareOp.NotEq:return 0!=f;case Sk.misceval.compareOp.Gt:return 0<f;case Sk.misceval.compareOp.GtE:return 0<=f;default:goog.asserts.fail()}}};
Sk.builtin.StringPy.prototype.tp$repr=function(){var a="'";-1!==this.v.indexOf("'")&&-1===this.v.indexOf('"')&&(a='"');for(var b=this.v.length,c=a,d=0;d<b;++d){var e=this.v.charAt(d);e===a||"\\"===e?c+="\\"+e:"\t"===e?c+="\\t":"\n"===e?c+="\\n":"\r"===e?c+="\\r":" ">e||127<=e?(e=e.charCodeAt(0).toString(16),2>e.length&&(e="0"+e),c+="\\x"+e):c+=e}return Sk.builtin.stringToPy(c+a)};
Sk.builtin.StringPy.re_escape_=function(a){for(var b=[],c=/^[A-Za-z0-9]+$/,d=0;d<a.length;++d){var e=a.charAt(d);c.test(e)?b.push(e):"\\000"===e?b.push("\\000"):b.push("\\"+e)}return b.join("")};Sk.builtin.StringPy.prototype.lower=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("lower",arguments,1,1);return Sk.builtin.stringToPy(a.v.toLowerCase())});Sk.builtin.StringPy.prototype.upper=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("upper",arguments,1,1);return Sk.builtin.stringToPy(a.v.toUpperCase())});
Sk.builtin.StringPy.prototype.capitalize=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("capitalize",arguments,1,1);var b=a.v,c,d;if(0===b.length)return Sk.builtin.stringToPy("");c=b.charAt(0).toUpperCase();for(d=1;d<b.length;d++)c+=b.charAt(d).toLowerCase();return Sk.builtin.stringToPy(c)});
Sk.builtin.StringPy.prototype.join=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("join",arguments,2,2);Sk.builtin.pyCheckType("seq","iterable",Sk.builtin.checkIterable(b));for(var c=[],d=b.tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext()){if(e.constructor!==Sk.builtin.StringPy)throw"TypeError: sequence item "+c.length+": expected string, "+typeof e+" found";c.push(e.v)}return Sk.builtin.stringToPy(c.join(a.v))});
Sk.builtin.StringPy.prototype.split=new Sk.builtin.func(function(a,b,c){Sk.builtin.pyCheckArgs("split",arguments,1,3);if(void 0===b||b===Sk.builtin.none.none$)b=null;if(null!==b&&!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("expected a string");if(null!==b&&""===b.v)throw new Sk.builtin.ValueError("empty separator");if(void 0!==c&&!Sk.builtin.checkInt(c))throw new Sk.builtin.TypeError("an integer is required");c=Sk.builtin.asnum$(c);var d=/[\s]+/g,e=a.v;null===b?e=e.trimLeft():(d=b.v.replace(/([.*+?=|\\\/()\[\]\{\}^$])/g,
"\\$1"),d=RegExp(d,"g"));for(var f=[],h,k=0,q=0;null!=(h=d.exec(e))&&h.index!==d.lastIndex&&!(f.push(Sk.builtin.stringToPy(e.substring(k,h.index))),k=d.lastIndex,q+=1,c&&q>=c););e=e.substring(k);(null!==b||0<e.length)&&f.push(Sk.builtin.stringToPy(e));return new Sk.builtin.list(f)});
Sk.builtin.StringPy.prototype.strip=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("strip",arguments,1,2);if(void 0!==b&&!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("strip arg must be None or str");var c;void 0===b?c=/^\s+|\s+$/g:(c=Sk.builtin.StringPy.re_escape_(Sk.builtin.stringToJs(b)),c=RegExp("^["+c+"]+|["+c+"]+$","g"));return Sk.builtin.stringToPy(a.v.replace(c,""))});
Sk.builtin.StringPy.prototype.lstrip=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("lstrip",arguments,1,2);if(void 0!==b&&!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("lstrip arg must be None or str");var c;void 0===b?c=/^\s+/g:(c=Sk.builtin.StringPy.re_escape_(Sk.builtin.stringToJs(b)),c=RegExp("^["+c+"]+","g"));return Sk.builtin.stringToPy(a.v.replace(c,""))});
Sk.builtin.StringPy.prototype.rstrip=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("rstrip",arguments,1,2);if(void 0!==b&&!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("rstrip arg must be None or str");var c;void 0===b?c=/\s+$/g:(c=Sk.builtin.StringPy.re_escape_(Sk.builtin.stringToJs(b)),c=RegExp("["+c+"]+$","g"));return Sk.builtin.stringToPy(a.v.replace(c,""))});
Sk.builtin.StringPy.prototype.partition=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("partition",arguments,2,2);Sk.builtin.pyCheckType("sep","string",Sk.builtin.isStringPy(b));var c=Sk.builtin.stringToJs(b),d=a.v.indexOf(c);return 0>d?new Sk.builtin.tuple([a,Sk.builtin.StringPy.$emptystr,Sk.builtin.StringPy.$emptystr]):new Sk.builtin.tuple([Sk.builtin.stringToPy(a.v.substring(0,d)),b,Sk.builtin.stringToPy(a.v.substring(d+c.length))])});
Sk.builtin.StringPy.prototype.rpartition=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("rpartition",arguments,2,2);Sk.ffi.checkArgType("sep",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(b),b);var c=Sk.builtin.stringToJs(b),d=a.v.lastIndexOf(c);return 0>d?new Sk.builtin.tuple([Sk.builtin.StringPy.$emptystr,Sk.builtin.StringPy.$emptystr,a]):new Sk.builtin.tuple([Sk.builtin.stringToPy(a.v.substring(0,d)),b,Sk.builtin.stringToPy(a.v.substring(d+c.length))])});
Sk.builtin.StringPy.prototype.count=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("count",arguments,2,4);if(!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("expected a character buffer object");if(void 0!==c&&!Sk.builtin.checkInt(c))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==d&&!Sk.builtin.checkInt(d))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");void 0===
c?c=0:(c=Sk.builtin.asnum$(c),c=0<=c?c:a.v.length+c);void 0===d?d=a.v.length:(d=Sk.builtin.asnum$(d),d=0<=d?d:a.v.length+d);var e=RegExp(Sk.builtin.stringToJs(b),"g");return(e=a.v.slice(c,d).match(e))?e.length:0});
Sk.builtin.StringPy.prototype.ljust=new Sk.builtin.func(function(a,b,c){Sk.builtin.pyCheckArgs("ljust",arguments,2,3);if(!Sk.builtin.checkInt(b))throw new Sk.builtin.TypeError("integer argument expected, got "+Sk.ffi.typeName(b));if(void 0!==c&&(!Sk.builtin.isStringPy(c)||1!==Sk.ffi.remapToJs(c).length))throw new Sk.builtin.TypeError("must be char, not "+Sk.ffi.typeName(c));c=void 0===c?" ":Sk.builtin.stringToJs(c);b=Sk.builtin.asnum$(b);if(a.v.length>=b)return a;var d=Array.prototype.join.call({length:Math.floor(b-
a.v.length)+1},c);return Sk.builtin.stringToPy(a.v+d)});
Sk.builtin.StringPy.prototype.rjust=new Sk.builtin.func(function(a,b,c){Sk.builtin.pyCheckArgs("rjust",arguments,2,3);if(!Sk.builtin.checkInt(b))throw new Sk.builtin.TypeError("integer argument exepcted, got "+Sk.ffi.typeName(b));if(void 0!==c&&(!Sk.builtin.isStringPy(c)||1!==Sk.ffi.remapToJs(c).length))throw new Sk.builtin.TypeError("must be char, not "+Sk.ffi.typeName(c));c=void 0===c?" ":Sk.builtin.stringToJs(c);b=Sk.builtin.asnum$(b);if(a.v.length>=b)return a;var d=Array.prototype.join.call({length:Math.floor(b-
a.v.length)+1},c);return Sk.builtin.stringToPy(d+a.v)});
Sk.builtin.StringPy.prototype.center=new Sk.builtin.func(function(a,b,c){Sk.builtin.pyCheckArgs("center",arguments,2,3);if(!Sk.builtin.checkInt(b))throw new Sk.builtin.TypeError("integer argument exepcted, got "+Sk.ffi.typeName(b));if(void 0!==c&&(!Sk.builtin.isStringPy(c)||1!==Sk.ffi.remapToJs(c).length))throw new Sk.builtin.TypeError("must be char, not "+Sk.ffi.typeName(c));c=void 0===c?" ":Sk.builtin.stringToJs(c);b=Sk.builtin.asnum$(b);if(a.v.length>=b)return a;var d=Array.prototype.join.call({length:Math.floor((b-
a.v.length)/2)+1},c),d=d+a.v+d;d.length<b&&(d+=c);return Sk.builtin.stringToPy(d)});
Sk.builtin.StringPy.prototype.find=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("find",arguments,2,4);if(!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("expected a character buffer object");if(void 0!==c&&!Sk.builtin.checkInt(c))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==d&&!Sk.builtin.checkInt(d))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");void 0===
c?c=0:(c=Sk.builtin.asnum$(c),c=0<=c?c:a.v.length+c);void 0===d?d=a.v.length:(d=Sk.builtin.asnum$(d),d=0<=d?d:a.v.length+d);var e=a.v.indexOf(Sk.builtin.stringToJs(b),c);return Sk.ffi.numberToIntPy(e>=c&&e<d?e:-1)});Sk.builtin.StringPy.prototype.index=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("index",arguments,2,4);var e=Sk.misceval.callsim(a.find,a,b,c,d);if(-1===Sk.builtin.asnum$(e))throw new Sk.builtin.ValueError("substring not found");return e});
Sk.builtin.StringPy.prototype.rfind=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("rfind",arguments,2,4);if(!Sk.builtin.isStringPy(b))throw new Sk.builtin.TypeError("expected a character buffer object");if(void 0!==c&&!Sk.builtin.checkInt(c))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");if(void 0!==d&&!Sk.builtin.checkInt(d))throw new Sk.builtin.TypeError("slice indices must be integers or None or have an __index__ method");void 0===
c?c=0:(c=Sk.builtin.asnum$(c),c=0<=c?c:a.v.length+c);void 0===d?d=a.v.length:(d=Sk.builtin.asnum$(d),d=0<=d?d:a.v.length+d);var e=a.v.lastIndexOf(Sk.builtin.stringToJs(b),d),e=e!==d?e:a.v.lastIndexOf(Sk.builtin.stringToJs(b),d-1);return Sk.ffi.numberToIntPy(e>=c&&e<d?e:-1)});
Sk.builtin.StringPy.prototype.rindex=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("rindex",arguments,2,4);var e=Sk.misceval.callsim(a.rfind,a,b,c,d);if(-1===Sk.builtin.asnum$(e))throw new Sk.builtin.ValueError("substring not found");return e});Sk.builtin.StringPy.prototype.startswith=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("startswith",arguments,2,2);Sk.builtin.pyCheckType("tgt","string",Sk.builtin.isStringPy(b));return Sk.builtin.bool(0==a.v.indexOf(Sk.builtin.stringToJs(b)))});
Sk.builtin.StringPy.prototype.endswith=new Sk.builtin.func(function(a,b){Sk.builtin.pyCheckArgs("endswith",arguments,2,2);Sk.builtin.pyCheckType("tgt","string",Sk.builtin.isStringPy(b));var c=Sk.builtin.stringToJs(b);return Sk.builtin.bool(-1!==a.v.indexOf(c,a.v.length-c.length))});
Sk.builtin.StringPy.prototype.replace=new Sk.builtin.func(function(a,b,c,d){Sk.builtin.pyCheckArgs("replace",arguments,3,4);Sk.builtin.pyCheckType("oldS","string",Sk.builtin.isStringPy(b));Sk.builtin.pyCheckType("newS","string",Sk.builtin.isStringPy(c));if(void 0!==d&&!Sk.builtin.checkInt(d))throw new Sk.builtin.TypeError("integer argument expected, got "+Sk.ffi.typeName(d));var e=Sk.builtin.stringToJs(b),f=Sk.builtin.stringToJs(c);d=Sk.builtin.asnum$(d);e=RegExp(Sk.builtin.StringPy.re_escape_(e),
"g");if(void 0===d||0>d)return Sk.builtin.stringToPy(a.v.replace(e,f));var h=0;return Sk.builtin.stringToPy(a.v.replace(e,function(a){h++;return h<=d?f:a}))});Sk.builtin.StringPy.prototype.isdigit=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("isdigit",arguments,1,1);if(0===a.v.length)return Sk.builtin.bool(!1);var b;for(b=0;b<a.v.length;b++){var c=a.v.charAt(b);if("0">c||"9"<c)return Sk.builtin.bool(!1)}return Sk.builtin.bool(!0)});
Sk.builtin.StringPy.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("str",Sk.builtin.StringPy);
Sk.builtin.StringPy.prototype.nb$remainder=function(a){a.constructor===Sk.builtin.tuple||void 0!==a.mp$subscript&&a.constructor!==Sk.builtin.StringPy||(a=new Sk.builtin.tuple([a]));var b=0,c=this.v.replace(/%(\([a-zA-Z0-9]+\))?([#0 +\-]+)?(\*|[0-9]+)?(\.(\*|[0-9]+))?[hlL]?([diouxXeEfFgGcrs%])/g,function(c,e,f,h,k,q,n){h=Sk.builtin.asnum$(h);k=Sk.builtin.asnum$(k);var m;if(void 0===e||""===e)m=b++;var g=!1,l=!1,p=!1,H=!1,r=!1;f&&(-1!==f.indexOf("-")?l=!0:-1!==f.indexOf("0")&&(g=!0),-1!==f.indexOf("+")?
H=!0:-1!==f.indexOf(" ")&&(p=!0),r=-1!==f.indexOf("#"));k&&(k=parseInt(k.substr(1),10));f=function(a,b){b=Sk.builtin.asnum$(b);var c,d,e=!1;"number"===typeof a?(0>a&&(a=-a,e=!0),d=a.toString(b)):Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)?(d=a.str$(b,!1),2<d.length&&".0"===d.substr(-2)&&(d=d.substr(0,d.length-2)),e=a.nb$isnegative()):Sk.ffi.isLong(a)&&(d=a.str$(b,!1),e=a.nb$isnegative());goog.asserts.assert(void 0!==d,"unhandled number format");var g=!1;if(k)for(c=d.length;c<k;++c)d="0"+d,g=!0;c="";e?c="-":
H?c="+"+c:p&&(c=" "+c);r&&(16===b?c+="0x":8!==b||(g||"0"===d)||(c+="0"));return[c,d]};c=function(a){var b=a[0];a=a[1];var c;if(h)if(h=parseInt(h,10),c=a.length+b.length,g)for(;c<h;++c)a="0"+a;else if(l)for(;c<h;++c)a+=" ";else for(;c<h;++c)b=" "+b;return b+a};if(a.constructor===Sk.builtin.tuple)e=a.v[m];else if(void 0!==a.mp$subscript)e=e.substring(1,e.length-1),e=a.mp$subscript(Sk.builtin.stringToPy(e));else throw new Sk.builtin.AttributeError(a.tp$name+" instance has no attribute 'mp$subscript'");
switch(n){case "d":case "i":return c(f(e,10));case "o":return c(f(e,8));case "x":return c(f(e,16));case "X":return c(f(e,16)).toUpperCase();case "f":case "F":case "e":case "E":case "g":case "G":e=Sk.builtin.asnum$(e);"string"===typeof e&&(e=Number(e));if(Infinity===e)return"inf";if(-Infinity===e)return"-inf";if(isNaN(e))return"nan";m=["toExponential","toFixed","toPrecision"]["efg".indexOf(n.toLowerCase())];if(void 0===k||""===k)if("e"===n||"E"===n)k=6;else if("f"===n||"F"===n)k=7;e=e[m](k);-1!=="EFG".indexOf(n)&&
(e=e.toUpperCase());return c(["",e]);case "c":if("number"===typeof e)return String.fromCharCode(e);if(Sk.ffi.isFloat(e)||Sk.ffi.isInt(e))return String.fromCharCode(Sk.ffi.remapToJs(e));if(Sk.ffi.isLong(e))return String.fromCharCode(e.str$(10,!1)[0]);if(Sk.builtin.isStringPy(e))return Sk.builtin.stringToJs(e).substr(0,1);throw new Sk.builtin.TypeError("an integer is required");case "r":return n=Sk.builtin.repr(e),k?Sk.builtin.stringToJs(n).substr(0,k):Sk.ffi.remapToJs(n);case "s":return n=new Sk.builtin.StringPy(e),
k?Sk.builtin.stringToJs(n).substr(0,k):Sk.ffi.remapToJs(n);case "%":return"%"}});return Sk.builtin.stringToPy(c)};Sk.builtin.tuple=function(a){if(!(this instanceof Sk.builtin.tuple))return new Sk.builtin.tuple(a);void 0===a&&(a=[]);if("[object Array]"===Object.prototype.toString.apply(a))this.v=a;else if(a.tp$iter){this.v=[];a=a.tp$iter();for(var b=a.tp$iternext();void 0!==b;b=a.tp$iternext())this.v.push(b)}else throw new Sk.builtin.ValueError("expecting Array or iterable");this.__class__=Sk.builtin.tuple;this.v=this.v;return this};Sk.builtin.tuple.prototype.tp$name="tuple";
Sk.builtin.tuple.prototype.tp$str=function(){if(0===this.v.length)return Sk.builtin.stringToPy("()");for(var a=[],b=0;b<this.v.length;++b)a[b]=Sk.ffi.remapToJs(Sk.ffh.str(this.v[b]));a=a.join(", ");1===this.v.length&&(a+=",");return Sk.builtin.stringToPy("("+a+")")};
Sk.builtin.tuple.prototype.tp$repr=function(){if(0===this.v.length)return Sk.builtin.stringToPy("()");for(var a=[],b=0;b<this.v.length;++b)a[b]=Sk.misceval.objectRepr(this.v[b]).v;a=a.join(", ");1===this.v.length&&(a+=",");return Sk.builtin.stringToPy("("+a+")")};
Sk.builtin.tuple.prototype.mp$subscript=function(a){if(Sk.misceval.isIndex(a)){var b=Sk.misceval.asIndex(a);if(void 0!==b){0>b&&(b=this.v.length+b);if(0>b||b>=this.v.length)throw new Sk.builtin.IndexError("tuple index out of range");return this.v[b]}}else if(a instanceof Sk.builtin.slice){var c=[];a.sssiter$(this,function(a,b){c.push(b.v[a])});return new Sk.builtin.tuple(c)}throw new Sk.builtin.TypeError("tuple indices must be integers, not "+Sk.ffi.typeName(a));};
Sk.builtin.tuple.prototype.tp$hash=function(){for(var a=1000003,b=3430008,c=this.v.length,d=0;d<c;++d){var e=Sk.builtin.hash(this.v[d]);if(-1===e)return-1;b=(b^e)*a;a+=82520+c+c}b+=97531;-1===b&&(b=-2);return b};Sk.builtin.tuple.prototype.sq$repeat=function(a){a=Sk.builtin.asnum$(a);for(var b=[],c=0;c<a;++c)for(var d=0;d<this.v.length;++d)b.push(this.v[d]);return new Sk.builtin.tuple(b)};Sk.builtin.tuple.prototype.nb$mul=Sk.builtin.tuple.prototype.sq$repeat;
Sk.builtin.tuple.prototype.nb$inplace_multiply=Sk.builtin.tuple.prototype.sq$repeat;Sk.builtin.tuple.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("tuple",Sk.builtin.tuple);Sk.builtin.tuple.prototype.tp$iter=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:a.$obj.v[a.$index++]}};return a};Sk.builtin.tuple.prototype.__iter__=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("__iter__",arguments,1,1);return a.tp$iter()});
Sk.builtin.tuple.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;
Sk.builtin.tuple.prototype.tp$richcompare=function(a,b){if(!a.__class__||a.__class__!=Sk.builtin.tuple)return b===Sk.misceval.compareOp.Eq?!1:b===Sk.misceval.compareOp.NotEq?!0:!1;var c=this.v;a=a.v;var d=c.length,e=a.length,f;for(f=0;f<d&&f<e&&Sk.misceval.richCompareBool(c[f],a[f],Sk.misceval.compareOp.Eq);++f);if(f>=d||f>=e)switch(b){case Sk.misceval.compareOp.Lt:return d<e;case "LtE":return d<=e;case Sk.misceval.compareOp.Eq:return d===e;case Sk.misceval.compareOp.NotEq:return d!==e;case Sk.misceval.compareOp.Gt:return d>
e;case Sk.misceval.compareOp.GtE:return d>=e;default:goog.asserts.fail()}return b===Sk.misceval.compareOp.Eq?!1:b===Sk.misceval.compareOp.NotEq?!0:Sk.misceval.richCompareBool(c[f],a[f],b)};Sk.builtin.tuple.prototype.sq$concat=function(a){return new Sk.builtin.tuple(this.v.concat(a.v))};Sk.builtin.tuple.prototype.nb$add=Sk.builtin.tuple.prototype.sq$concat;Sk.builtin.tuple.prototype.nb$inplace_add=Sk.builtin.tuple.prototype.sq$concat;Sk.builtin.tuple.prototype.sq$length=function(){return this.v.length};
Sk.builtin.tuple.prototype.index=new Sk.builtin.func(function(a,b){for(var c=a.v.length,d=a.v,e=0;e<c;++e)if(Sk.misceval.richCompareBool(d[e],b,Sk.misceval.compareOp.Eq))return e;throw new Sk.builtin.ValueError("tuple.index(x): x not in tuple");});Sk.builtin.tuple.prototype.count=new Sk.builtin.func(function(a,b){for(var c=a.v.length,d=a.v,e=0,f=0;f<c;++f)Sk.misceval.richCompareBool(d[f],b,Sk.misceval.compareOp.Eq)&&(e+=1);return e});goog.exportSymbol("Sk.builtin.tuple",Sk.builtin.tuple);Sk.builtin.dict=function(a){if(!(this instanceof Sk.builtin.dict))return new Sk.builtin.dict(a);void 0===a&&(a=[]);this.size=0;if("[object Array]"===Object.prototype.toString.apply(a))for(var b=0;b<a.length;b+=2)this.mp$ass_subscript(a[b],a[b+1]);else if(a instanceof Sk.builtin.dict)for(var c=a.tp$iter(),b=c.tp$iternext();void 0!==b;b=c.tp$iternext()){var d=a.mp$subscript(b);void 0===d?this.mp$ass_subscript(b,Sk.builtin.none.none$):this.mp$ass_subscript(b,d)}else if(a.tp$iter)for(c=a.tp$iter(),b=
c.tp$iternext();void 0!==b;b=c.tp$iternext())if(b.mp$subscript)this.mp$ass_subscript(b.mp$subscript(0),b.mp$subscript(1));else throw new Sk.builtin.TypeError("element "+this.size+" is not a sequence");else throw new Sk.builtin.TypeError("object is not iterable");this.__class__=Sk.builtin.dict;return this};Sk.builtin.dict.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("dict",Sk.builtin.dict);var kf=Sk.builtin.hash;
Sk.builtin.dict.prototype.key$lookup=function(a,b){for(var c=0;c<a.items.length;c++){var d=a.items[c];if(Sk.misceval.richCompareBool(d.lhs,b,Sk.misceval.compareOp.Eq))return d}};Sk.builtin.dict.prototype.key$pop=function(a,b){var c,d,e;for(e=0;e<a.items.length;e++)if(c=a.items[e],d=Sk.misceval.richCompareBool(c.lhs,b,Sk.misceval.compareOp.Eq))return a.items.splice(e,1),this.size-=1,c};Sk.builtin.dict.prototype.mp$lookup=function(a){var b=this[kf(a)];if(void 0!==b&&(a=this.key$lookup(b,a)))return a.rhs};
Sk.builtin.dict.prototype.mp$subscript=function(a){var b=this.mp$lookup(a);if(void 0!==b)return b;throw new Sk.builtin.KeyError(Sk.ffi.remapToJs(Sk.ffh.str(a)));};Sk.builtin.dict.prototype.sq$contains=function(a){return void 0!==this.mp$lookup(a)};Sk.builtin.dict.prototype.mp$ass_subscript=function(a,b){var c=kf(a),d=this[c];void 0===d?(this[c]={$hash:c,items:[{lhs:a,rhs:b}]},this.size+=1):(c=this.key$lookup(d,a))?c.rhs=b:(d.items.push({lhs:a,rhs:b}),this.size+=1)};
Sk.builtin.dict.prototype.mp$del_subscript=function(a){var b=this[kf(a)];if(void 0!==b&&(b=this.key$pop(b,a),void 0!==b))return;throw new Sk.builtin.KeyError(Sk.ffi.remapToJs(Sk.ffh.str(a)));};
Sk.builtin.dict.prototype.tp$iter=function(){var a=[],b;for(b in this)if(this.hasOwnProperty(b)){var c=this[b];if(c&&void 0!==c.$hash)for(var d=0;d<c.items.length;d++)a.push(c.items[d].lhs)}var e={tp$iter:function(){return e},$obj:this,$index:0,$keys:a,tp$iternext:function(){return e.$index>=e.$keys.length?void 0:e.$keys[e.$index++]}};return e};Sk.builtin.dict.prototype.__iter__=new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("__iter__",arguments,1,1);return a.tp$iter()});
Sk.builtin.dict.prototype.tp$repr=function(){for(var a=[],b=this.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext()){var d=Sk.ffi.remapToJs(Sk.misceval.objectRepr(c)),c=this.mp$subscript(c),c=Sk.ffi.remapToJs(Sk.misceval.objectRepr(void 0!==c?c:Sk.builtin.none.none$));a.push(d+": "+c)}return Sk.builtin.stringToPy("{"+a.join(", ")+"}")};Sk.builtin.dict.prototype.mp$length=function(){return this.size};Sk.builtin.dict.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;
Sk.builtin.dict.prototype.tp$hash=Sk.builtin.object.prototype.HashNotImplemented;
Sk.builtin.dict.prototype.tp$richcompare=function(a,b){if(this===a&&Sk.misceval.opAllowsEquality(b))return!0;switch(b){case Sk.misceval.compareOp.Lt:return;case Sk.misceval.compareOp.LtE:return;case Sk.misceval.compareOp.Eq:break;case Sk.misceval.compareOp.NotEq:break;case Sk.misceval.compareOp.Gt:return;case Sk.misceval.compareOp.GtE:return;default:goog.asserts.fail()}if(!(a instanceof Sk.builtin.dict)||this.size!==a.size)return b===Sk.misceval.compareOp.Eq?!1:!0;for(var c=this.tp$iter(),d=c.tp$iternext();void 0!==
d;d=c.tp$iternext()){var e=this.mp$subscript(d),d=a.mp$subscript(d);if(!Sk.misceval.richCompareBool(e,d,Sk.misceval.compareOp.Eq))return b===Sk.misceval.compareOp.Eq?!1:!0}return b===Sk.misceval.compareOp.Eq?!0:!1};Sk.builtin.dict.prototype.get=new Sk.builtin.func(function(a,b,c){a=a.mp$lookup(b);return void 0===a?void 0===c?Sk.builtin.none.none$:c:a});Sk.builtin.dict.prototype.has_key=new Sk.builtin.func(function(a,b){return Sk.ffi.booleanToPy(a.sq$contains(b))});
Sk.builtin.dict.prototype.items=new Sk.builtin.func(function(a){for(var b=[],c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext()){var e=a.mp$subscript(d);void 0===e?b.push(new Sk.builtin.tuple([d,Sk.builtin.none.none$])):b.push(new Sk.builtin.tuple([d,e]))}return new Sk.builtin.list(b)});Sk.builtin.dict.prototype.keys=new Sk.builtin.func(function(a){var b=[];a=a.tp$iter();for(var c=a.tp$iternext();void 0!==c;c=a.tp$iternext())b.push(c);return new Sk.builtin.list(b)});
Sk.builtin.dict.prototype.values=new Sk.builtin.func(function(a){for(var b=[],c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())d=a.mp$subscript(d),void 0===d?b.push(Sk.builtin.none.none$):b.push(d);return new Sk.builtin.list(b)});Sk.builtin.dict.prototype.tp$name="dict";goog.exportSymbol("Sk.builtin.dict",Sk.builtin.dict);Sk.builtin.biginteger=function(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))};Sk.builtin.biginteger.canary=0xdeadbeefcafe;Sk.builtin.biginteger.j_lm=15715070==(Sk.builtin.biginteger.canary&16777215);Sk.builtin.biginteger.nbi=function(){return new Sk.builtin.biginteger(null)};Sk.builtin.biginteger.prototype.am1=function(a,b,c,d,e,f){for(;0<=--f;){var h=b*this[a++]+c[d]+e;e=Math.floor(h/67108864);c[d++]=h&67108863}return e};
Sk.builtin.biginteger.prototype.am2=function(a,b,c,d,e,f){var h=b&32767;for(b>>=15;0<=--f;){var k=this[a]&32767,q=this[a++]>>15,n=b*k+q*h,k=h*k+((n&32767)<<15)+c[d]+(e&1073741823);e=(k>>>30)+(n>>>15)+b*q+(e>>>30);c[d++]=k&1073741823}return e};Sk.builtin.biginteger.prototype.am3=function(a,b,c,d,e,f){var h=b&16383;for(b>>=14;0<=--f;){var k=this[a]&16383,q=this[a++]>>14,n=b*k+q*h,k=h*k+((n&16383)<<14)+c[d]+e;e=(k>>28)+(n>>14)+b*q;c[d++]=k&268435455}return e};Sk.builtin.biginteger.prototype.am=Sk.builtin.biginteger.prototype.am3;
Sk.builtin.biginteger.dbits=28;Sk.builtin.biginteger.prototype.DB=Sk.builtin.biginteger.dbits;Sk.builtin.biginteger.prototype.DM=(1<<Sk.builtin.biginteger.dbits)-1;Sk.builtin.biginteger.prototype.DV=1<<Sk.builtin.biginteger.dbits;Sk.builtin.biginteger.BI_FP=52;Sk.builtin.biginteger.prototype.FV=Math.pow(2,Sk.builtin.biginteger.BI_FP);Sk.builtin.biginteger.prototype.F1=Sk.builtin.biginteger.BI_FP-Sk.builtin.biginteger.dbits;Sk.builtin.biginteger.prototype.F2=2*Sk.builtin.biginteger.dbits-Sk.builtin.biginteger.BI_FP;
Sk.builtin.biginteger.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";Sk.builtin.biginteger.BI_RC=[];var rr,vv;rr=48;for(vv=0;9>=vv;++vv)Sk.builtin.biginteger.BI_RC[rr++]=vv;rr=97;for(vv=10;36>vv;++vv)Sk.builtin.biginteger.BI_RC[rr++]=vv;rr=65;for(vv=10;36>vv;++vv)Sk.builtin.biginteger.BI_RC[rr++]=vv;Sk.builtin.biginteger.int2char=function(a){return Sk.builtin.biginteger.BI_RM.charAt(a)};Sk.builtin.biginteger.intAt=function(a,b){var c=Sk.builtin.biginteger.BI_RC[a.charCodeAt(b)];return null==c?-1:c};
Sk.builtin.biginteger.prototype.bnpCopyTo=function(a){for(var b=this.t-1;0<=b;--b)a[b]=this[b];a.t=this.t;a.s=this.s};Sk.builtin.biginteger.prototype.bnpFromInt=function(a){this.t=1;this.s=0>a?-1:0;0<a?this[0]=a:-1>a?this[0]=a+this.DV:this.t=0};Sk.builtin.biginteger.nbv=function(a){var b=new Sk.builtin.biginteger(null);b.bnpFromInt(a);return b};
Sk.builtin.biginteger.prototype.bnpFromString=function(a,b){var c;if(16==b)c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else if(4==b)c=2;else{this.fromRadix(a,b);return}this.s=this.t=0;for(var d=a.length,e=!1,f=0;0<=--d;){var h=8==c?a[d]&255:Sk.builtin.biginteger.intAt(a,d);0>h?"-"==a.charAt(d)&&(e=!0):(e=!1,0==f?this[this.t++]=h:f+c>this.DB?(this[this.t-1]|=(h&(1<<this.DB-f)-1)<<f,this[this.t++]=h>>this.DB-f):this[this.t-1]|=h<<f,f+=c,f>=this.DB&&(f-=this.DB))}8==c&&
0!=(a[0]&128)&&(this.s=-1,0<f&&(this[this.t-1]|=(1<<this.DB-f)-1<<f));this.clamp();e&&Sk.builtin.biginteger.ZERO.subTo(this,this)};Sk.builtin.biginteger.prototype.bnpClamp=function(){for(var a=this.s&this.DM;0<this.t&&this[this.t-1]==a;)--this.t};
Sk.builtin.biginteger.prototype.bnToString=function(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(4==a)a=2;else return this.toRadix(a);var b=(1<<a)-1,c,d=!1,e="",f=this.t,h=this.DB-f*this.DB%a;if(0<f--)for(h<this.DB&&0<(c=this[f]>>h)&&(d=!0,e=Sk.builtin.biginteger.int2char(c));0<=f;)h<a?(c=(this[f]&(1<<h)-1)<<a-h,c|=this[--f]>>(h+=this.DB-a)):(c=this[f]>>(h-=a)&b,0>=h&&(h+=this.DB,--f)),0<c&&(d=!0),d&&(e+=Sk.builtin.biginteger.int2char(c));
return d?e:"0"};Sk.builtin.biginteger.prototype.bnNegate=function(){var a=Sk.builtin.biginteger.nbi();Sk.builtin.biginteger.ZERO.subTo(this,a);return a};Sk.builtin.biginteger.prototype.bnAbs=function(){return 0>this.s?this.negate():this};Sk.builtin.biginteger.prototype.bnCompareTo=function(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t,b=c-a.t;if(0!=b)return 0>this.s?-b:b;for(;0<=--c;)if(0!=(b=this[c]-a[c]))return b;return 0};
Sk.builtin.biginteger.nbits=function(a){var b=1,c;0!=(c=a>>>16)&&(a=c,b+=16);0!=(c=a>>8)&&(a=c,b+=8);0!=(c=a>>4)&&(a=c,b+=4);0!=(c=a>>2)&&(a=c,b+=2);0!=a>>1&&(b+=1);return b};Sk.builtin.biginteger.prototype.bnBitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+Sk.builtin.biginteger.nbits(this[this.t-1]^this.s&this.DM)};Sk.builtin.biginteger.prototype.bnpDLShiftTo=function(a,b){var c;for(c=this.t-1;0<=c;--c)b[c+a]=this[c];for(c=a-1;0<=c;--c)b[c]=0;b.t=this.t+a;b.s=this.s};
Sk.builtin.biginteger.prototype.bnpDRShiftTo=function(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0);b.s=this.s};Sk.builtin.biginteger.prototype.bnpLShiftTo=function(a,b){var c=a%this.DB,d=this.DB-c,e=(1<<d)-1,f=Math.floor(a/this.DB),h=this.s<<c&this.DM,k;for(k=this.t-1;0<=k;--k)b[k+f+1]=this[k]>>d|h,h=(this[k]&e)<<c;for(k=f-1;0<=k;--k)b[k]=0;b[f]=h;b.t=this.t+f+1;b.s=this.s;b.clamp()};
Sk.builtin.biginteger.prototype.bnpRShiftTo=function(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)b.t=0;else{var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var h=c+1;h<this.t;++h)b[h-c-1]|=(this[h]&f)<<e,b[h-c]=this[h]>>d;0<d&&(b[this.t-c-1]|=(this.s&f)<<e);b.t=this.t-c;b.clamp()}};
Sk.builtin.biginteger.prototype.bnpSubTo=function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0;-1>d?b[c++]=this.DV+d:0<d&&(b[c++]=d);b.t=c;b.clamp()};
Sk.builtin.biginteger.prototype.bnpMultiplyTo=function(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;0<=--e;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0;b.clamp();this.s!=a.s&&Sk.builtin.biginteger.ZERO.subTo(b,b)};
Sk.builtin.biginteger.prototype.bnpSquareTo=function(a){for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}0<a.t&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1));a.s=0;a.clamp()};
Sk.builtin.biginteger.prototype.bnpDivRemTo=function(a,b,c){var d=a.abs();if(!(0>=d.t)){var e=this.abs();if(e.t<d.t)null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=Sk.builtin.biginteger.nbi());var f=Sk.builtin.biginteger.nbi(),h=this.s;a=a.s;var k=this.DB-Sk.builtin.biginteger.nbits(d[d.t-1]);0<k?(d.lShiftTo(k,f),e.lShiftTo(k,c)):(d.copyTo(f),e.copyTo(c));d=f.t;e=f[d-1];if(0!=e){var q=e*(1<<this.F1)+(1<d?f[d-2]>>this.F2:0),n=this.FV/q,q=(1<<this.F1)/q,m=1<<this.F2,g=c.t,l=g-d,p=null==
b?Sk.builtin.biginteger.nbi():b;f.dlShiftTo(l,p);0<=c.compareTo(p)&&(c[c.t++]=1,c.subTo(p,c));Sk.builtin.biginteger.ONE.dlShiftTo(d,p);for(p.subTo(f,f);f.t<d;)f[f.t++]=0;for(;0<=--l;){var H=c[--g]==e?this.DM:Math.floor(c[g]*n+(c[g-1]+m)*q);if((c[g]+=f.am(0,H,c,l,0,d))<H)for(f.dlShiftTo(l,p),c.subTo(p,c);c[g]<--H;)c.subTo(p,c)}null!=b&&(c.drShiftTo(d,b),h!=a&&Sk.builtin.biginteger.ZERO.subTo(b,b));c.t=d;c.clamp();0<k&&c.rShiftTo(k,c);0>h&&Sk.builtin.biginteger.ZERO.subTo(c,c)}}}};
Sk.builtin.biginteger.prototype.bnMod=function(a){var b=Sk.builtin.biginteger.nbi();this.abs().divRemTo(a,null,b);0>this.s&&0<b.compareTo(Sk.builtin.biginteger.ZERO)&&a.subTo(b,b);return b};Sk.builtin.biginteger.Classic=function(a){this.m=a};Sk.builtin.biginteger.prototype.cConvert=function(a){return 0>a.s||0<=a.compareTo(this.m)?a.mod(this.m):a};Sk.builtin.biginteger.prototype.cRevert=function(a){return a};Sk.builtin.biginteger.prototype.cReduce=function(a){a.divRemTo(this.m,null,a)};
Sk.builtin.biginteger.prototype.cMulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};Sk.builtin.biginteger.prototype.cSqrTo=function(a,b){a.squareTo(b);this.reduce(b)};Sk.builtin.biginteger.Classic.prototype.convert=Sk.builtin.biginteger.prototype.cConvert;Sk.builtin.biginteger.Classic.prototype.revert=Sk.builtin.biginteger.prototype.cRevert;Sk.builtin.biginteger.Classic.prototype.reduce=Sk.builtin.biginteger.prototype.cReduce;Sk.builtin.biginteger.Classic.prototype.mulTo=Sk.builtin.biginteger.prototype.cMulTo;
Sk.builtin.biginteger.Classic.prototype.sqrTo=Sk.builtin.biginteger.prototype.cSqrTo;Sk.builtin.biginteger.prototype.bnpInvDigit=function(){if(1>this.t)return 0;var a=this[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%this.DV)%this.DV;return 0<b?this.DV-b:-b};Sk.builtin.biginteger.Montgomery=function(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<a.DB-15)-1;this.mt2=2*a.t};
Sk.builtin.biginteger.prototype.montConvert=function(a){var b=Sk.builtin.biginteger.nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.s&&0<b.compareTo(Sk.builtin.biginteger.ZERO)&&this.m.subTo(b,b);return b};Sk.builtin.biginteger.prototype.montRevert=function(a){var b=Sk.builtin.biginteger.nbi();a.copyTo(b);this.reduce(b);return b};
Sk.builtin.biginteger.prototype.montReduce=function(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a[b]&32767,d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM,c=b+this.m.t;for(a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a.subTo(this.m,a)};Sk.builtin.biginteger.prototype.montSqrTo=function(a,b){a.squareTo(b);this.reduce(b)};
Sk.builtin.biginteger.prototype.montMulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};Sk.builtin.biginteger.Montgomery.prototype.convert=Sk.builtin.biginteger.prototype.montConvert;Sk.builtin.biginteger.Montgomery.prototype.revert=Sk.builtin.biginteger.prototype.montRevert;Sk.builtin.biginteger.Montgomery.prototype.reduce=Sk.builtin.biginteger.prototype.montReduce;Sk.builtin.biginteger.Montgomery.prototype.mulTo=Sk.builtin.biginteger.prototype.montMulTo;
Sk.builtin.biginteger.Montgomery.prototype.sqrTo=Sk.builtin.biginteger.prototype.montSqrTo;Sk.builtin.biginteger.prototype.bnpIsEven=function(){return 0==(0<this.t?this[0]&1:this.s)};Sk.builtin.biginteger.prototype.bnpExp=function(a,b){if(4294967295<a||1>a)return Sk.builtin.biginteger.ONE;var c=Sk.builtin.biginteger.nbi(),d=Sk.builtin.biginteger.nbi(),e=b.convert(this),f=Sk.builtin.biginteger.nbits(a)-1;for(e.copyTo(c);0<=--f;)if(b.sqrTo(c,d),0<(a&1<<f))b.mulTo(d,e,c);else var h=c,c=d,d=h;return b.revert(c)};
Sk.builtin.biginteger.prototype.bnModPowInt=function(a,b){var c;c=256>a||b.isEven()?new Sk.builtin.biginteger.Classic(b):new Sk.builtin.biginteger.Montgomery(b);return this.exp(a,c)};Sk.builtin.biginteger.prototype.copyTo=Sk.builtin.biginteger.prototype.bnpCopyTo;Sk.builtin.biginteger.prototype.fromInt=Sk.builtin.biginteger.prototype.bnpFromInt;Sk.builtin.biginteger.prototype.fromString=Sk.builtin.biginteger.prototype.bnpFromString;Sk.builtin.biginteger.prototype.clamp=Sk.builtin.biginteger.prototype.bnpClamp;
Sk.builtin.biginteger.prototype.dlShiftTo=Sk.builtin.biginteger.prototype.bnpDLShiftTo;Sk.builtin.biginteger.prototype.drShiftTo=Sk.builtin.biginteger.prototype.bnpDRShiftTo;Sk.builtin.biginteger.prototype.lShiftTo=Sk.builtin.biginteger.prototype.bnpLShiftTo;Sk.builtin.biginteger.prototype.rShiftTo=Sk.builtin.biginteger.prototype.bnpRShiftTo;Sk.builtin.biginteger.prototype.subTo=Sk.builtin.biginteger.prototype.bnpSubTo;Sk.builtin.biginteger.prototype.multiplyTo=Sk.builtin.biginteger.prototype.bnpMultiplyTo;
Sk.builtin.biginteger.prototype.squareTo=Sk.builtin.biginteger.prototype.bnpSquareTo;Sk.builtin.biginteger.prototype.divRemTo=Sk.builtin.biginteger.prototype.bnpDivRemTo;Sk.builtin.biginteger.prototype.invDigit=Sk.builtin.biginteger.prototype.bnpInvDigit;Sk.builtin.biginteger.prototype.isEven=Sk.builtin.biginteger.prototype.bnpIsEven;Sk.builtin.biginteger.prototype.exp=Sk.builtin.biginteger.prototype.bnpExp;Sk.builtin.biginteger.prototype.toString=Sk.builtin.biginteger.prototype.bnToString;
Sk.builtin.biginteger.prototype.negate=Sk.builtin.biginteger.prototype.bnNegate;Sk.builtin.biginteger.prototype.abs=Sk.builtin.biginteger.prototype.bnAbs;Sk.builtin.biginteger.prototype.compareTo=Sk.builtin.biginteger.prototype.bnCompareTo;Sk.builtin.biginteger.prototype.bitLength=Sk.builtin.biginteger.prototype.bnBitLength;Sk.builtin.biginteger.prototype.mod=Sk.builtin.biginteger.prototype.bnMod;Sk.builtin.biginteger.prototype.modPowInt=Sk.builtin.biginteger.prototype.bnModPowInt;
Sk.builtin.biginteger.ZERO=Sk.builtin.biginteger.nbv(0);Sk.builtin.biginteger.ONE=Sk.builtin.biginteger.nbv(1);Sk.builtin.biginteger.prototype.bnClone=function(){var a=Sk.builtin.biginteger.nbi();this.copyTo(a);return a};Sk.builtin.biginteger.prototype.bnIntValue=function(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]};
Sk.builtin.biginteger.prototype.bnByteValue=function(){return 0==this.t?this.s:this[0]<<24>>24};Sk.builtin.biginteger.prototype.bnShortValue=function(){return 0==this.t?this.s:this[0]<<16>>16};Sk.builtin.biginteger.prototype.bnpChunkSize=function(a){return Math.floor(Math.LN2*this.DB/Math.log(a))};Sk.builtin.biginteger.prototype.bnSigNum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1};
Sk.builtin.biginteger.prototype.bnpToRadix=function(a){null==a&&(a=10);if(0==this.signum()||2>a||36<a)return"0";var b=this.chunkSize(a),b=Math.pow(a,b),c=Sk.builtin.biginteger.nbv(b),d=Sk.builtin.biginteger.nbi(),e=Sk.builtin.biginteger.nbi(),f="";for(this.divRemTo(c,d,e);0<d.signum();)f=(b+e.intValue()).toString(a).substr(1)+f,d.divRemTo(c,d,e);return e.intValue().toString(a)+f};
Sk.builtin.biginteger.prototype.bnpFromRadix=function(a,b){this.fromInt(0);null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,h=0,k=0;k<a.length;++k){var q=Sk.builtin.biginteger.intAt(a,k);if(0>q){if("-"==a.charAt(k)&&0==this.signum()&&(e=!0),"."==a.charAt(k))break}else h=b*h+q,++f>=c&&(this.dMultiply(d),this.dAddOffset(h,0),h=f=0)}0<f&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(h,0));e&&Sk.builtin.biginteger.ZERO.subTo(this,this)};
Sk.builtin.biginteger.prototype.bnpFromNumber=function(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(Sk.builtin.biginteger.ONE.shiftLeft(a-1),Sk.builtin.biginteger.op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(Sk.builtin.biginteger.ONE.shiftLeft(a-1),this);this.fromString(a+"")};
Sk.builtin.biginteger.prototype.bnToByteArray=function(){var a=this.t,b=[];b[0]=this.s;var c=this.DB-a*this.DB%8,d,e=0;if(0<a--)for(c<this.DB&&(d=this[a]>>c)!=(this.s&this.DM)>>c&&(b[e++]=d|this.s<<this.DB-c);0<=a;)if(8>c?(d=(this[a]&(1<<c)-1)<<8-c,d|=this[--a]>>(c+=this.DB-8)):(d=this[a]>>(c-=8)&255,0>=c&&(c+=this.DB,--a)),0!=(d&128)&&(d|=-256),0==e&&(this.s&128)!=(d&128)&&++e,0<e||d!=this.s)b[e++]=d;return b};Sk.builtin.biginteger.prototype.bnEquals=function(a){return 0==this.compareTo(a)};
Sk.builtin.biginteger.prototype.bnMin=function(a){return 0>this.compareTo(a)?this:a};Sk.builtin.biginteger.prototype.bnMax=function(a){return 0<this.compareTo(a)?this:a};Sk.builtin.biginteger.prototype.bnpBitwiseTo=function(a,b,c){var d,e,f=Math.min(a.t,this.t);for(d=0;d<f;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){e=a.s&this.DM;for(d=f;d<this.t;++d)c[d]=b(this[d],e);c.t=this.t}else{e=this.s&this.DM;for(d=f;d<a.t;++d)c[d]=b(e,a[d]);c.t=a.t}c.s=b(this.s,a.s);c.clamp()};
Sk.builtin.biginteger.op_and=function(a,b){return a&b};Sk.builtin.biginteger.prototype.bnAnd=function(a){var b=Sk.builtin.biginteger.nbi();this.bitwiseTo(a,Sk.builtin.biginteger.op_and,b);return b};Sk.builtin.biginteger.op_or=function(a,b){return a|b};Sk.builtin.biginteger.prototype.bnOr=function(a){var b=Sk.builtin.biginteger.nbi();this.bitwiseTo(a,Sk.builtin.biginteger.op_or,b);return b};Sk.builtin.biginteger.op_xor=function(a,b){return a^b};
Sk.builtin.biginteger.prototype.bnXor=function(a){var b=Sk.builtin.biginteger.nbi();this.bitwiseTo(a,Sk.builtin.biginteger.op_xor,b);return b};Sk.builtin.biginteger.op_andnot=function(a,b){return a&~b};Sk.builtin.biginteger.prototype.bnAndNot=function(a){var b=Sk.builtin.biginteger.nbi();this.bitwiseTo(a,Sk.builtin.biginteger.op_andnot,b);return b};Sk.builtin.biginteger.prototype.bnNot=function(){for(var a=Sk.builtin.biginteger.nbi(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];a.t=this.t;a.s=~this.s;return a};
Sk.builtin.biginteger.prototype.bnShiftLeft=function(a){var b=Sk.builtin.biginteger.nbi();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b};Sk.builtin.biginteger.prototype.bnShiftRight=function(a){var b=Sk.builtin.biginteger.nbi();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b};Sk.builtin.biginteger.lbit=function(a){if(0==a)return-1;var b=0;0==(a&65535)&&(a>>=16,b+=16);0==(a&255)&&(a>>=8,b+=8);0==(a&15)&&(a>>=4,b+=4);0==(a&3)&&(a>>=2,b+=2);0==(a&1)&&++b;return b};
Sk.builtin.biginteger.prototype.bnGetLowestSetBit=function(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+Sk.builtin.biginteger.lbit(this[a]);return 0>this.s?this.t*this.DB:-1};Sk.builtin.biginteger.cbit=function(a){for(var b=0;0!=a;)a&=a-1,++b;return b};Sk.builtin.biginteger.prototype.bnBitCount=function(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=Sk.builtin.biginteger.cbit(this[c]^b);return a};
Sk.builtin.biginteger.prototype.bnTestBit=function(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)};Sk.builtin.biginteger.prototype.bnpChangeBit=function(a,b){var c=Sk.builtin.biginteger.ONE.shiftLeft(a);this.bitwiseTo(c,b,c);return c};Sk.builtin.biginteger.prototype.bnSetBit=function(a){return this.changeBit(a,Sk.builtin.biginteger.op_or)};Sk.builtin.biginteger.prototype.bnClearBit=function(a){return this.changeBit(a,Sk.builtin.biginteger.op_andnot)};
Sk.builtin.biginteger.prototype.bnFlipBit=function(a){return this.changeBit(a,Sk.builtin.biginteger.op_xor)};Sk.builtin.biginteger.prototype.bnpAddTo=function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0;0<d?b[c++]=d:-1>d&&(b[c++]=this.DV+d);b.t=c;b.clamp()};
Sk.builtin.biginteger.prototype.bnAdd=function(a){var b=Sk.builtin.biginteger.nbi();this.addTo(a,b);return b};Sk.builtin.biginteger.prototype.bnSubtract=function(a){var b=Sk.builtin.biginteger.nbi();this.subTo(a,b);return b};Sk.builtin.biginteger.prototype.bnMultiply=function(a){var b=Sk.builtin.biginteger.nbi();this.multiplyTo(a,b);return b};Sk.builtin.biginteger.prototype.bnDivide=function(a){var b=Sk.builtin.biginteger.nbi();this.divRemTo(a,b,null);return b};
Sk.builtin.biginteger.prototype.bnRemainder=function(a){var b=Sk.builtin.biginteger.nbi();this.divRemTo(a,null,b);return b};Sk.builtin.biginteger.prototype.bnDivideAndRemainder=function(a){var b=Sk.builtin.biginteger.nbi(),c=Sk.builtin.biginteger.nbi();this.divRemTo(a,b,c);return[b,c]};Sk.builtin.biginteger.prototype.bnpDMultiply=function(a){this[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()};
Sk.builtin.biginteger.prototype.bnpDAddOffset=function(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}};Sk.builtin.biginteger.NullExp=function(){};Sk.builtin.biginteger.prototype.nNop=function(a){return a};Sk.builtin.biginteger.prototype.nMulTo=function(a,b,c){a.multiplyTo(b,c)};Sk.builtin.biginteger.prototype.nSqrTo=function(a,b){a.squareTo(b)};Sk.builtin.biginteger.NullExp.prototype.convert=Sk.builtin.biginteger.prototype.nNop;
Sk.builtin.biginteger.NullExp.prototype.revert=Sk.builtin.biginteger.prototype.nNop;Sk.builtin.biginteger.NullExp.prototype.mulTo=Sk.builtin.biginteger.prototype.nMulTo;Sk.builtin.biginteger.NullExp.prototype.sqrTo=Sk.builtin.biginteger.prototype.nSqrTo;Sk.builtin.biginteger.prototype.bnPow=function(a){return this.exp(a,new Sk.builtin.biginteger.NullExp)};
Sk.builtin.biginteger.prototype.bnpMultiplyLowerTo=function(a,b,c){var d=Math.min(this.t+a.t,b);c.s=0;for(c.t=d;0<d;)c[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()};Sk.builtin.biginteger.prototype.bnpMultiplyUpperTo=function(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;0<=--d;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp();c.drShiftTo(1,c)};
Sk.builtin.biginteger.Barrett=function(a){this.r2=Sk.builtin.biginteger.nbi();this.q3=Sk.builtin.biginteger.nbi();Sk.builtin.biginteger.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a);this.m=a};Sk.builtin.biginteger.prototype.barrettConvert=function(a){if(0>a.s||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compareTo(this.m))return a;var b=Sk.builtin.biginteger.nbi();a.copyTo(b);this.reduce(b);return b};Sk.builtin.biginteger.prototype.barrettRevert=function(a){return a};
Sk.builtin.biginteger.prototype.barrettReduce=function(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compareTo(this.m);)a.subTo(this.m,a)};Sk.builtin.biginteger.prototype.barrettSqrTo=function(a,b){a.squareTo(b);this.reduce(b)};
Sk.builtin.biginteger.prototype.barrettMulTo=function(a,b,c){a.multiplyTo(b,c);this.reduce(c)};Sk.builtin.biginteger.Barrett.prototype.convert=Sk.builtin.biginteger.prototype.barrettConvert;Sk.builtin.biginteger.Barrett.prototype.revert=Sk.builtin.biginteger.prototype.barrettRevert;Sk.builtin.biginteger.Barrett.prototype.reduce=Sk.builtin.biginteger.prototype.barrettReduce;Sk.builtin.biginteger.Barrett.prototype.mulTo=Sk.builtin.biginteger.prototype.barrettMulTo;
Sk.builtin.biginteger.Barrett.prototype.sqrTo=Sk.builtin.biginteger.prototype.barrettSqrTo;
Sk.builtin.biginteger.prototype.bnModPow=function(a,b){var c=a.bitLength(),d,e=Sk.builtin.biginteger.nbv(1),f;if(0>=c)return e;d=18>c?1:48>c?3:144>c?4:768>c?5:6;f=8>c?new Sk.builtin.biginteger.Classic(b):b.isEven()?new Sk.builtin.biginteger.Barrett(b):new Sk.builtin.biginteger.Montgomery(b);var h=[],k=3,q=d-1,n=(1<<d)-1;h[1]=f.convert(this);if(1<d)for(c=Sk.builtin.biginteger.nbi(),f.sqrTo(h[1],c);k<=n;)h[k]=Sk.builtin.biginteger.nbi(),f.mulTo(c,h[k-2],h[k]),k+=2;for(var m=a.t-1,g,l=!0,p=Sk.builtin.biginteger.nbi(),
c=Sk.builtin.biginteger.nbits(a[m])-1;0<=m;){c>=q?g=a[m]>>c-q&n:(g=(a[m]&(1<<c+1)-1)<<q-c,0<m&&(g|=a[m-1]>>this.DB+c-q));for(k=d;0==(g&1);)g>>=1,--k;0>(c-=k)&&(c+=this.DB,--m);if(l)h[g].copyTo(e),l=!1;else{for(;1<k;)f.sqrTo(e,p),f.sqrTo(p,e),k-=2;0<k?f.sqrTo(e,p):(k=e,e=p,p=k);f.mulTo(p,h[g],e)}for(;0<=m&&0==(a[m]&1<<c);)f.sqrTo(e,p),k=e,e=p,p=k,0>--c&&(c=this.DB-1,--m)}return f.revert(e)};
Sk.builtin.biginteger.prototype.bnGCD=function(a){var b=0>this.s?this.negate():this.clone();a=0>a.s?a.negate():a.clone();if(0>b.compareTo(a)){var c=b,b=a;a=c}var c=b.getLowestSetBit(),d=a.getLowestSetBit();if(0>d)return b;c<d&&(d=c);0<d&&(b.rShiftTo(d,b),a.rShiftTo(d,a));for(;0<b.signum();)0<(c=b.getLowestSetBit())&&b.rShiftTo(c,b),0<(c=a.getLowestSetBit())&&a.rShiftTo(c,a),0<=b.compareTo(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<d&&a.lShiftTo(d,a);return a};
Sk.builtin.biginteger.prototype.bnpModInt=function(a){if(0>=a)return 0;var b=this.DV%a,c=0>this.s?a-1:0;if(0<this.t)if(0==b)c=this[0]%a;else for(var d=this.t-1;0<=d;--d)c=(b*c+this[d])%a;return c};
Sk.builtin.biginteger.prototype.bnModInverse=function(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return Sk.builtin.biginteger.ZERO;for(var c=a.clone(),d=this.clone(),e=Sk.builtin.biginteger.nbv(1),f=Sk.builtin.biginteger.nbv(0),h=Sk.builtin.biginteger.nbv(0),k=Sk.builtin.biginteger.nbv(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),b?(e.isEven()&&f.isEven()||(e.addTo(this,e),f.subTo(a,f)),e.rShiftTo(1,e)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,d),b?
(h.isEven()&&k.isEven()||(h.addTo(this,h),k.subTo(a,k)),h.rShiftTo(1,h)):k.isEven()||k.subTo(a,k),k.rShiftTo(1,k);0<=c.compareTo(d)?(c.subTo(d,c),b&&e.subTo(h,e),f.subTo(k,f)):(d.subTo(c,d),b&&h.subTo(e,h),k.subTo(f,k))}if(0!=d.compareTo(Sk.builtin.biginteger.ONE))return Sk.builtin.biginteger.ZERO;if(0<=k.compareTo(a))return k.subtract(a);if(0>k.signum())k.addTo(a,k);else return k;return 0>k.signum()?k.add(a):k};
Sk.builtin.biginteger.lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];
Sk.builtin.biginteger.lplim=67108864/Sk.builtin.biginteger.lowprimes[Sk.builtin.biginteger.lowprimes.length-1];
Sk.builtin.biginteger.prototype.bnIsProbablePrime=function(a){var b,c=this.abs();if(1==c.t&&c[0]<=Sk.builtin.biginteger.lowprimes[Sk.builtin.biginteger.lowprimes.length-1]){for(b=0;b<Sk.builtin.biginteger.lowprimes.length;++b)if(c[0]==Sk.builtin.biginteger.lowprimes[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<Sk.builtin.biginteger.lowprimes.length;){for(var d=Sk.builtin.biginteger.lowprimes[b],e=b+1;e<Sk.builtin.biginteger.lowprimes.length&&d<Sk.builtin.biginteger.lplim;)d*=Sk.builtin.biginteger.lowprimes[e++];
for(d=c.modInt(d);b<e;)if(0==d%Sk.builtin.biginteger.lowprimes[b++])return!1}return c.millerRabin(a)};
Sk.builtin.biginteger.prototype.bnpMillerRabin=function(a){var b=this.subtract(Sk.builtin.biginteger.ONE),c=b.getLowestSetBit();if(0>=c)return!1;var d=b.shiftRight(c);a=a+1>>1;a>Sk.builtin.biginteger.lowprimes.length&&(a=Sk.builtin.biginteger.lowprimes.length);for(var e=Sk.builtin.biginteger.nbi(),f=0;f<a;++f){e.fromInt(Sk.builtin.biginteger.lowprimes[f]);var h=e.modPow(d,this);if(0!=h.compareTo(Sk.builtin.biginteger.ONE)&&0!=h.compareTo(b)){for(var k=1;k++<c&&0!=h.compareTo(b);)if(h=h.modPowInt(2,
this),0==h.compareTo(Sk.builtin.biginteger.ONE))return!1;if(0!=h.compareTo(b))return!1}}return!0};Sk.builtin.biginteger.prototype.isnegative=function(){return 0>this.s};Sk.builtin.biginteger.prototype.ispositive=function(){return 0<=this.s};Sk.builtin.biginteger.prototype.trueCompare=function(a){return 0<=this.s&&0>a.s?1:0>this.s&&0<=a.s?-1:this.compare(a)};Sk.builtin.biginteger.prototype.chunkSize=Sk.builtin.biginteger.prototype.bnpChunkSize;Sk.builtin.biginteger.prototype.toRadix=Sk.builtin.biginteger.prototype.bnpToRadix;
Sk.builtin.biginteger.prototype.fromRadix=Sk.builtin.biginteger.prototype.bnpFromRadix;Sk.builtin.biginteger.prototype.fromNumber=Sk.builtin.biginteger.prototype.bnpFromNumber;Sk.builtin.biginteger.prototype.bitwiseTo=Sk.builtin.biginteger.prototype.bnpBitwiseTo;Sk.builtin.biginteger.prototype.changeBit=Sk.builtin.biginteger.prototype.bnpChangeBit;Sk.builtin.biginteger.prototype.addTo=Sk.builtin.biginteger.prototype.bnpAddTo;Sk.builtin.biginteger.prototype.dMultiply=Sk.builtin.biginteger.prototype.bnpDMultiply;
Sk.builtin.biginteger.prototype.dAddOffset=Sk.builtin.biginteger.prototype.bnpDAddOffset;Sk.builtin.biginteger.prototype.multiplyLowerTo=Sk.builtin.biginteger.prototype.bnpMultiplyLowerTo;Sk.builtin.biginteger.prototype.multiplyUpperTo=Sk.builtin.biginteger.prototype.bnpMultiplyUpperTo;Sk.builtin.biginteger.prototype.modInt=Sk.builtin.biginteger.prototype.bnpModInt;Sk.builtin.biginteger.prototype.millerRabin=Sk.builtin.biginteger.prototype.bnpMillerRabin;Sk.builtin.biginteger.prototype.clone=Sk.builtin.biginteger.prototype.bnClone;
Sk.builtin.biginteger.prototype.intValue=Sk.builtin.biginteger.prototype.bnIntValue;Sk.builtin.biginteger.prototype.byteValue=Sk.builtin.biginteger.prototype.bnByteValue;Sk.builtin.biginteger.prototype.shortValue=Sk.builtin.biginteger.prototype.bnShortValue;Sk.builtin.biginteger.prototype.signum=Sk.builtin.biginteger.prototype.bnSigNum;Sk.builtin.biginteger.prototype.toByteArray=Sk.builtin.biginteger.prototype.bnToByteArray;Sk.builtin.biginteger.prototype.equals=Sk.builtin.biginteger.prototype.bnEquals;
Sk.builtin.biginteger.prototype.compare=Sk.builtin.biginteger.prototype.compareTo;Sk.builtin.biginteger.prototype.min=Sk.builtin.biginteger.prototype.bnMin;Sk.builtin.biginteger.prototype.max=Sk.builtin.biginteger.prototype.bnMax;Sk.builtin.biginteger.prototype.and=Sk.builtin.biginteger.prototype.bnAnd;Sk.builtin.biginteger.prototype.or=Sk.builtin.biginteger.prototype.bnOr;Sk.builtin.biginteger.prototype.xor=Sk.builtin.biginteger.prototype.bnXor;Sk.builtin.biginteger.prototype.andNot=Sk.builtin.biginteger.prototype.bnAndNot;
Sk.builtin.biginteger.prototype.not=Sk.builtin.biginteger.prototype.bnNot;Sk.builtin.biginteger.prototype.shiftLeft=Sk.builtin.biginteger.prototype.bnShiftLeft;Sk.builtin.biginteger.prototype.shiftRight=Sk.builtin.biginteger.prototype.bnShiftRight;Sk.builtin.biginteger.prototype.getLowestSetBit=Sk.builtin.biginteger.prototype.bnGetLowestSetBit;Sk.builtin.biginteger.prototype.bitCount=Sk.builtin.biginteger.prototype.bnBitCount;Sk.builtin.biginteger.prototype.testBit=Sk.builtin.biginteger.prototype.bnTestBit;
Sk.builtin.biginteger.prototype.setBit=Sk.builtin.biginteger.prototype.bnSetBit;Sk.builtin.biginteger.prototype.clearBit=Sk.builtin.biginteger.prototype.bnClearBit;Sk.builtin.biginteger.prototype.flipBit=Sk.builtin.biginteger.prototype.bnFlipBit;Sk.builtin.biginteger.prototype.add=Sk.builtin.biginteger.prototype.bnAdd;Sk.builtin.biginteger.prototype.subtract=Sk.builtin.biginteger.prototype.bnSubtract;Sk.builtin.biginteger.prototype.multiply=Sk.builtin.biginteger.prototype.bnMultiply;
Sk.builtin.biginteger.prototype.divide=Sk.builtin.biginteger.prototype.bnDivide;Sk.builtin.biginteger.prototype.remainder=Sk.builtin.biginteger.prototype.bnRemainder;Sk.builtin.biginteger.prototype.divideAndRemainder=Sk.builtin.biginteger.prototype.bnDivideAndRemainder;Sk.builtin.biginteger.prototype.modPow=Sk.builtin.biginteger.prototype.bnModPow;Sk.builtin.biginteger.prototype.modInverse=Sk.builtin.biginteger.prototype.bnModInverse;Sk.builtin.biginteger.prototype.pow=Sk.builtin.biginteger.prototype.bnPow;
Sk.builtin.biginteger.prototype.gcd=Sk.builtin.biginteger.prototype.bnGCD;Sk.builtin.biginteger.prototype.isProbablePrime=Sk.builtin.biginteger.prototype.bnIsProbablePrime;Sk.builtin.numberPy=function(a,b){goog.asserts.assertNumber(a);return void 0===b?a>Sk.builtin.NumberPy.threshold$||a<-Sk.builtin.NumberPy.threshold$||0!=a%1?Sk.builtin.numberToPy(a):new Sk.builtin.NumberPy(a,Sk.builtin.NumberPy.int$):a>Sk.builtin.NumberPy.threshold$||a<-Sk.builtin.NumberPy.threshold$?new Sk.builtin.lng(a):new Sk.builtin.NumberPy(a,b)};Sk.builtin.numberToPy=function(a){if("undefined"!==typeof a)return goog.asserts.assertNumber(a),Sk.flyweight?a:new Sk.builtin.NumberPy(a,Sk.builtin.NumberPy.float$)};
goog.exportSymbol("Sk.builtin.numberToPy",Sk.builtin.numberToPy);Sk.builtin.NumberPy=function(a,b){goog.asserts.assertNumber(a);goog.asserts.assert("undefined"!==typeof b);this.v=a;this.skType=b};Sk.builtin.NumberPy.prototype.tp$index=function(){return this.v};Sk.builtin.NumberPy.prototype.tp$hash=function(){return this.v};Sk.builtin.NumberPy.prototype.tp$name="number";Sk.builtin.NumberPy.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("number",Sk.builtin.NumberPy);
Sk.builtin.NumberPy.threshold$=Math.pow(2,53);Sk.builtin.NumberPy.float$="float";Sk.builtin.NumberPy.int$="int";Sk.builtin.NumberPy.fromInt$=function(a){return Sk.builtin.numberPy(a,void 0)};
Sk.numberFromStr=function(a){if("inf"==a)return Sk.builtin.numberToPy(Infinity);if("-inf"==a)return Sk.builtin.numberToPy(-Infinity);var b=Sk.builtin.numberPy(0,void 0);if(-1!==a.indexOf(".")||-1!==a.indexOf("e")||-1!==a.indexOf("E"))return Sk.builtin.numberToPy(parseFloat(a));var c=a;"-"===a.charAt(0)&&(c=a.substr(1));a="0"!==c.charAt(0)||"x"!==c.charAt(1)&&"X"!==c.charAt(1)?"0"!==c.charAt(0)||"b"!==c.charAt(1)&&"B"!==c.charAt(1)?"0"===c.charAt(0)?parseInt(a,8):parseInt(a,10):parseInt(a,2):parseInt(a,
16);goog.asserts.assertNumber(a);b.v=a;b.skType=Sk.builtin.NumberPy.int$;return b};goog.exportSymbol("Sk.numberFromStr",Sk.numberFromStr);Sk.builtin.NumberPy.prototype.clone=function(){return new Sk.builtin.NumberPy(this.v,this.skType)};Sk.builtin.NumberPy.prototype.toFixed=function(a){a=Sk.builtin.asnum$(a);return this.v.toFixed(a)};
Sk.builtin.NumberPy.prototype.nb$add=function(a){"number"===typeof a&&(a=Sk.builtin.numberToPy(a));var b=Sk.ffi.remapToJs(this);if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a),d=b+c;return Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(d):d>Sk.builtin.NumberPy.threshold$||d<-Sk.builtin.NumberPy.threshold$?(new Sk.builtin.lng(b)).nb$add(c):Sk.ffi.numberToIntPy(d)}if(Sk.ffi.isLong(a))return Sk.ffi.isFloat(this)?Sk.builtin.numberToPy(b+parseFloat(a.str$(10,!0))):(new Sk.builtin.lng(b)).nb$add(a)};
Sk.builtin.NumberPy.prototype.nb$sub=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberToPy(a));if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a),d=b-c;return Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(d):d>Sk.builtin.NumberPy.threshold$||d<-Sk.builtin.NumberPy.threshold$?(new Sk.builtin.lng(b)).nb$sub(c):Sk.ffi.numberToIntPy(d)}if(Sk.ffi.isLong(a))return Sk.ffi.isFloat(this)?Sk.builtin.numberToPy(b-parseFloat(a.str$(10,!0))):(new Sk.builtin.lng(b)).nb$sub(a)};
Sk.builtin.NumberPy.prototype.nb$mul=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberToPy(a));if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a),b=b*c;return Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(b):b>Sk.builtin.NumberPy.threshold$||b<-Sk.builtin.NumberPy.threshold$?Sk.ffh.mul(Sk.ffi.promoteIntToLong(this),Sk.ffi.promoteIntToLong(a)):Sk.ffi.numberToIntPy(b)}if(Sk.ffi.isLong(a))return Sk.ffi.isFloat(this)?Sk.builtin.numberToPy(b*
parseFloat(a.str$(10,!0))):(new Sk.builtin.lng(b)).nb$mul(a)};
Sk.builtin.NumberPy.prototype.nb$div=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberToPy(a));if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a);if(0===c)throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");if(Infinity===b)return Infinity===c||-Infinity===c?Sk.builtin.numberToPy(NaN):a.nb$isnegative()?Sk.builtin.numberToPy(-Infinity):Sk.builtin.numberToPy(Infinity);if(-Infinity===b)return Infinity===c||-Infinity===c?Sk.builtin.numberToPy(NaN):
a.nb$isnegative()?Sk.builtin.numberToPy(Infinity):Sk.builtin.numberToPy(-Infinity);var d=b/c;if(Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)||Sk.python3)return Sk.builtin.numberToPy(d);a=Math.floor(d);return a>Sk.builtin.NumberPy.threshold$||a<-Sk.builtin.NumberPy.threshold$?(new Sk.builtin.lng(b)).nb$div(c):Sk.ffi.numberToIntPy(a)}if(Sk.ffi.isLong(a)){if(0===a.longCompare(Sk.builtin.biginteger.ZERO))throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");return Infinity===b?a.nb$isnegative()?
Sk.builtin.numberToPy(-Infinity):Sk.builtin.numberToPy(Infinity):-Infinity===b?a.nb$isnegative()?Sk.builtin.numberToPy(Infinity):Sk.builtin.numberToPy(-Infinity):Sk.ffi.isFloat(this)?Sk.builtin.numberToPy(b/parseFloat(a.str$(10,!0))):(new Sk.builtin.lng(b)).nb$div(a)}};
Sk.builtin.NumberPy.prototype.nb$floor_divide=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberToPy(a));if(Infinity===b||-Infinity===b)return Sk.builtin.numberToPy(NaN);if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a);if(0===c)throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");if(Infinity===c)return this.nb$isnegative()?Sk.builtin.numberToPy(-1):Sk.builtin.numberToPy(0);if(-Infinity===c)return this.nb$isnegative()||!this.nb$nonzero()?
Sk.builtin.numberToPy(0):Sk.builtin.numberToPy(-1);var d=Math.floor(b/c);if(Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a))return Sk.builtin.numberToPy(d);a=Math.floor(d);return a>Sk.builtin.NumberPy.threshold$||a<-Sk.builtin.NumberPy.threshold$?(new Sk.builtin.lng(b)).nb$floor_divide(c):Sk.ffi.numberToIntPy(a)}if(Sk.ffi.isLong(a)){if(0==a.longCompare(Sk.builtin.biginteger.ZERO))throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");return Sk.ffi.isFloat(this)?Sk.builtin.numberToPy(Math.floor(this.v/
parseFloat(a.str$(10,!0)))):(new Sk.builtin.lng(this.v)).nb$floor_divide(a)}};
Sk.builtin.NumberPy.prototype.nb$remainder=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberPy(a,void 0));if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a);if(0==c)throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");if(0==b)return Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(0):Sk.ffi.numberToIntPy(0);if(Infinity===c)return Infinity===b||-Infinity===b?Sk.builtin.numberToPy(NaN):this.nb$ispositive()?Sk.builtin.numberToPy(b):
Sk.builtin.numberToPy(Infinity);var d=b%c;0>b?0<c&&0>d&&(d+=c):0>c&&0!=d&&(d+=c);return Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(d):d>Sk.builtin.NumberPy.threshold$||d<-Sk.builtin.NumberPy.threshold$?(new Sk.builtin.lng(b)).nb$remainder(c):Sk.ffi.numberToIntPy(d)}if(Sk.ffi.isLong(a)){if(0==a.longCompare(Sk.builtin.biginteger.ZERO))throw new Sk.builtin.ZeroDivisionError("integer division or modulo by zero");return 0===b?Sk.ffi.isInt(this)?new Sk.builtin.lng(0):Sk.builtin.numberToPy(0):
Sk.ffi.isFloat(this)?(a=parseFloat(a.str$(10,!0)),d=b%a,0>d?0<a&&0!=d&&(d+=a):0>a&&0!=d&&(d+=a),Sk.builtin.numberToPy(d)):(new Sk.builtin.lng(b)).nb$remainder(a)}};
Sk.builtin.NumberPy.prototype.nb$power=function(a){var b=Sk.ffi.remapToJs(this);"number"===typeof a&&(a=Sk.builtin.numberPy(a,void 0));if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){var c=Sk.ffi.remapToJs(a);if(0>b&&0!==c%1)throw new Sk.builtin.NegativePowerError("cannot raise a negative number to a fractional power");if(0===b&&0>c)throw new Sk.builtin.NegativePowerError("cannot raise zero to a negative power");var d=Math.pow(b,c);if(Sk.ffi.isFloat(this)||Sk.ffi.isFloat(a)||0>a.v){if(Infinity===Math.abs(d)&&
Infinity!==Math.abs(b)&&Infinity!==Math.abs(c))throw new Sk.builtin.OverflowError("Numerical result out of range");return Sk.builtin.numberToPy(d)}a=Math.floor(d);if(a>Sk.builtin.NumberPy.threshold$||a<-Sk.builtin.NumberPy.threshold$)return(new Sk.builtin.lng(b)).nb$power(c);if(Infinity===Math.abs(a)&&Infinity!==Math.abs(b)&&Infinity!==Math.abs(c))throw new Sk.builtin.OverflowError("Numerical result out of range");return Sk.ffi.numberToIntPy(a)}if(Sk.ffi.isLong(a)){if(0===b&&0>a.longCompare(Sk.builtin.biginteger.ZERO))throw new Sk.builtin.NegativePowerError("cannot raise zero to a negative power");
return Sk.ffi.isFloat(this)||a.nb$isnegative()?Sk.builtin.numberToPy(Math.pow(b,parseFloat(a.str$(10,!0)))):(new Sk.builtin.lng(b)).nb$power(a)}};Sk.builtin.NumberPy.prototype.nb$and=function(a){a=Sk.builtin.asnum$(a);a&=this.v;void 0!==a&&0>a&&(a+=4294967296);if(void 0!==a)return Sk.builtin.numberPy(a,void 0)};Sk.builtin.NumberPy.prototype.nb$or=function(a){a=Sk.builtin.asnum$(a);a|=this.v;void 0!==a&&0>a&&(a+=4294967296);if(void 0!==a)return Sk.builtin.numberPy(a,void 0)};
Sk.builtin.NumberPy.prototype.nb$xor=function(a){a=Sk.builtin.asnum$(a);a^=this.v;void 0!==a&&0>a&&(a+=4294967296);if(void 0!==a)return Sk.builtin.numberPy(a,void 0)};Sk.builtin.NumberPy.prototype.nb$lshift=function(a){a=Sk.builtin.asnum$(a);if(void 0!==a){if(0>a)throw new Sk.builtin.ValueError("negative shift count");var b=this.v<<a;return b<=this.v?Sk.builtin.lng.fromInt$(this.v).nb$lshift(a):Sk.builtin.numberPy(b,this.skType)}};
Sk.builtin.NumberPy.prototype.nb$rshift=function(a){a=Sk.builtin.asnum$(a);if(void 0!==a){if(0>a)throw new Sk.builtin.ValueError("negative shift count");var b=this.v>>a;return 0<this.v&&0>b?Sk.builtin.numberPy(b&Math.pow(2,32-a)-1,this.skType):Sk.builtin.numberPy(b,this.skType)}};Sk.builtin.NumberPy.prototype.nb$inplace_add=Sk.builtin.NumberPy.prototype.nb$add;Sk.builtin.NumberPy.prototype.nb$inplace_subtract=Sk.builtin.NumberPy.prototype.nb$sub;Sk.builtin.NumberPy.prototype.nb$inplace_multiply=Sk.builtin.NumberPy.prototype.nb$mul;
Sk.builtin.NumberPy.prototype.nb$inplace_divide=Sk.builtin.NumberPy.prototype.nb$div;Sk.builtin.NumberPy.prototype.nb$inplace_remainder=Sk.builtin.NumberPy.prototype.nb$remainder;Sk.builtin.NumberPy.prototype.nb$inplace_floor_divide=Sk.builtin.NumberPy.prototype.nb$floor_divide;Sk.builtin.NumberPy.prototype.nb$inplace_power=Sk.builtin.NumberPy.prototype.nb$power;Sk.builtin.NumberPy.prototype.nb$inplace_and=Sk.builtin.NumberPy.prototype.nb$and;Sk.builtin.NumberPy.prototype.nb$inplace_or=Sk.builtin.NumberPy.prototype.nb$or;
Sk.builtin.NumberPy.prototype.nb$inplace_xor=Sk.builtin.NumberPy.prototype.nb$xor;Sk.builtin.NumberPy.prototype.nb$inplace_lshift=Sk.builtin.NumberPy.prototype.nb$lshift;Sk.builtin.NumberPy.prototype.nb$inplace_rshift=Sk.builtin.NumberPy.prototype.nb$rshift;Sk.builtin.NumberPy.prototype.u$negative=function(){return Sk.builtin.numberPy(-this.v,this.skType)};Sk.builtin.NumberPy.prototype.u$positive=function(){return this};Sk.builtin.NumberPy.prototype.u$cos=function(){return Sk.builtin.numberToPy(Sk.math.cos(this.v))};
Sk.builtin.NumberPy.prototype.u$sin=function(){return Sk.builtin.numberToPy(Sk.math.sin(this.v))};Sk.builtin.NumberPy.prototype.u$tan=function(){return Sk.builtin.numberToPy(Sk.math.tan(this.v))};Sk.builtin.NumberPy.prototype.u$acos=function(){return Sk.builtin.numberToPy(Math.acos(this.v))};Sk.builtin.NumberPy.prototype.u$asin=function(){return Sk.builtin.numberToPy(Math.asin(this.v))};Sk.builtin.NumberPy.prototype.u$atan=function(){return Sk.builtin.numberToPy(Math.atan(this.v))};
Sk.builtin.NumberPy.prototype.u$exp=function(){return Sk.builtin.numberToPy(Math.exp(this.v))};Sk.builtin.NumberPy.prototype.u$abs=function(){return Sk.builtin.numberPy(Math.abs(this.v),this.skType)};Sk.builtin.NumberPy.prototype.u$magnitude=function(){return Sk.builtin.numberPy(Math.abs(this.v),this.skType)};Sk.builtin.NumberPy.prototype.u$quadrance=function(){return Sk.builtin.numberPy(this.v*this.v,this.skType)};
Sk.builtin.NumberPy.prototype.u$sqrt=function(){return Sk.builtin.numberPy(Math.sqrt(this.v),this.skType)};Sk.builtin.NumberPy.prototype.nb$nonzero=function(){return 0!==this.v?Sk.builtin.bool.true$:Sk.builtin.bool.false$};Sk.builtin.NumberPy.prototype.nb$isnegative=function(){return 0>this.v};Sk.builtin.NumberPy.prototype.nb$ispositive=function(){return 0<=this.v};
Sk.builtin.NumberPy.prototype.numberCompare=function(a){a instanceof Sk.builtin.bool&&(a=Sk.builtin.asnum$(a));a===Sk.builtin.none.none$&&(a=0);if("number"===typeof a)return this.v-a;if(a instanceof Sk.builtin.NumberPy)return Infinity==this.v&&Infinity==a.v||-Infinity==this.v&&-Infinity==a.v?0:this.v-a.v;if(a instanceof Sk.builtin.lng){if(this.skType===Sk.builtin.NumberPy.int$||0==this.v%1)return(new Sk.builtin.lng(this.v)).longCompare(a);a=this.nb$sub(a);if(a instanceof Sk.builtin.NumberPy)return a.v;
if(a instanceof Sk.builtin.lng)return a.longCompare(Sk.builtin.biginteger.ZERO)}};Sk.builtin.NumberPy.prototype.__eq__=function(a,b){return 0==a.numberCompare(b)&&b!==Sk.builtin.none.none$};Sk.builtin.NumberPy.prototype.__ne__=function(a,b){return 0!=a.numberCompare(b)||b===Sk.builtin.none.none$};Sk.builtin.NumberPy.prototype.__lt__=function(a,b){return 0>a.numberCompare(b)};Sk.builtin.NumberPy.prototype.__le__=function(a,b){return 0>=a.numberCompare(b)};
Sk.builtin.NumberPy.prototype.__gt__=function(a,b){return 0<a.numberCompare(b)};Sk.builtin.NumberPy.prototype.__ge__=function(a,b){return 0<=a.numberCompare(b)};Sk.builtin.NumberPy.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.NumberPy.prototype.tp$repr=function(){return Sk.builtin.stringToPy(this.str$(10,!0))};Sk.builtin.NumberPy.prototype.tp$str=function(){return Sk.builtin.stringToPy(this.str$(10,!0))};
Sk.builtin.NumberPy.prototype.str$=function(a,b){goog.asserts.assertNumber(a);goog.asserts.assertBoolean(b);var c=Sk.ffi.remapToJs(this);return Sk.ffi.isFloat(this)?Sk.builtin.numberToFloatStringJs(c,a,b):Sk.builtin.numberToIntStringJs(c,a,b)};
Sk.builtin.numberToFloatStringJs=function(a,b,c){goog.asserts.assertNumber(b);goog.asserts.assertBoolean(c);if(isNaN(a))return"nan";if(Infinity==a)return"inf";if(-Infinity==a&&c)return"-inf";if(-Infinity==a&&!c)return"inf";a=c?a:Math.abs(a);if(10===b){b=a.toPrecision(12);var d=b.indexOf(".");if(0<=d)if(c=a.toString().slice(0,d),d=a.toString().slice(d),c.match(/^-?0$/)&&d.slice(1).match(/^0{4,}/))b=12>b.length?a.toExponential():a.toExponential(11);else{for(;"0"===b.charAt(b.length-1)&&0>b.indexOf("e");)b=
b.substring(0,b.length-1);"."==b.charAt(b.length-1)&&(b+="0")}else b=a.toExponential(11);b=b.replace(/\.0+e/,"e","i");b=b.replace(/(e[-+])([1-9])$/,"$10$2");b=b.replace(/0+(e.*)/,"$1")}else b=a.toString(b);0>b.indexOf(".")&&(0>b.indexOf("E")&&0>b.indexOf("e"))&&(b+=".0");return b};goog.exportSymbol("Sk.builtin.numberToFloatStringJs",Sk.builtin.numberToFloatStringJs);
Sk.builtin.numberToIntStringJs=function(a,b,c){goog.asserts.assertNumber(b);goog.asserts.assertBoolean(c);return isNaN(a)?"nan":Infinity===a?"inf":-Infinity===a?c?"-inf":"inf":(c?a:Math.abs(a)).toString(b)};goog.exportSymbol("Sk.builtin.numberToIntStringJs",Sk.builtin.numberToIntStringJs);goog.exportSymbol("Sk.builtin.NumberPy",Sk.builtin.NumberPy);Sk.builtin.lng=function(a,b){b=Sk.builtin.asnum$(b);if(!(this instanceof Sk.builtin.lng))return new Sk.builtin.lng(a,b);if(void 0===a)this.biginteger=new Sk.builtin.biginteger(0);else if(Sk.ffi.isLong(a))this.biginteger=a.biginteger.clone();else if(a instanceof Sk.builtin.biginteger)this.biginteger=a;else{if("string"===typeof a)return Sk.ffi.longFromString(a,b);if(Sk.builtin.isStringPy(a))return Sk.ffi.longFromString(Sk.builtin.stringToJs(a),b);if(void 0!==a&&!Sk.builtin.isStringPy(a)&&!Sk.builtin.checkNumber(a))if(!0===
a)a=1;else if(!1===a)a=0;else throw new Sk.builtin.TypeError("long() argument must be a string or a number, not '"+Sk.ffi.typeName(a)+"'");a=Sk.builtin.asnum$nofloat(a);this.biginteger=new Sk.builtin.biginteger(a)}return this};Sk.builtin.lng.prototype.tp$index=function(){return parseInt(this.str$(10,!0),10)};Sk.builtin.lng.prototype.tp$hash=function(){return this.tp$index()};Sk.builtin.lng.prototype.tp$name="long";Sk.builtin.lng.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("long",Sk.builtin.lng);
Sk.builtin.lng.threshold$=Math.pow(2,53);Sk.builtin.lng.prototype.cantBeInt=function(){return 0<this.longCompare(Sk.ffi.MAX_INT)||0>this.longCompare(Sk.ffi.MIN_INT)};Sk.builtin.lng.fromInt$=function(a){return new Sk.builtin.lng(a)};Sk.builtin.lng.prototype.toInt$=function(){return this.biginteger.intValue()};Sk.builtin.lng.prototype.clone=function(){return new Sk.builtin.lng(this)};
Sk.builtin.lng.prototype.nb$add=function(a){if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){if(Sk.ffi.isFloat(a))return Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).nb$add(a);a=Sk.ffi.promoteIntToLong(a)}return Sk.ffi.isLong(a)?new Sk.builtin.lng(this.biginteger.add(a.biginteger)):a instanceof Sk.builtin.biginteger?new Sk.builtin.lng(this.biginteger.add(a)):new Sk.builtin.lng(this.biginteger.add(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_add=Sk.builtin.lng.prototype.nb$add;
Sk.builtin.lng.prototype.nb$sub=function(a){if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){if(Sk.ffi.isFloat(a))return Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).nb$sub(a);a=Sk.ffi.promoteIntToLong(a)}return a instanceof Sk.builtin.lng?new Sk.builtin.lng(this.biginteger.subtract(a.biginteger)):a instanceof Sk.builtin.biginteger?new Sk.builtin.lng(this.biginteger.subtract(a)):new Sk.builtin.lng(this.biginteger.subtract(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_subtract=Sk.builtin.lng.prototype.nb$sub;
Sk.builtin.lng.prototype.nb$mul=function(a){if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){if(Sk.ffi.isFloat(a))return Sk.ffh.mul(Sk.ffh.promoteLongToFloat(this),a);a=Sk.ffi.promoteIntToLong(a)}return a instanceof Sk.builtin.lng?new Sk.builtin.lng(this.biginteger.multiply(a.biginteger)):a instanceof Sk.builtin.biginteger?new Sk.builtin.lng(this.biginteger.multiply(a)):new Sk.builtin.lng(this.biginteger.multiply(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_multiply=Sk.builtin.lng.prototype.nb$mul;
Sk.builtin.lng.prototype.nb$div=function(a){if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){if(Sk.ffi.isFloat(a))return Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).nb$div(a);a=Sk.ffi.promoteIntToLong(a)}a instanceof Sk.builtin.lng||(a=new Sk.builtin.lng(a));var b=this.nb$isnegative(),c=a.nb$isnegative();if(b&&!c||c&&!b){a=this.biginteger.divideAndRemainder(a.biginteger);if(0==a[1].trueCompare(Sk.builtin.biginteger.ZERO))return new Sk.builtin.lng(a[0]);a=a[0].subtract(Sk.builtin.biginteger.ONE);return new Sk.builtin.lng(a)}return new Sk.builtin.lng(this.biginteger.divide(a.biginteger))};
Sk.builtin.lng.prototype.nb$inplace_divide=Sk.builtin.lng.prototype.nb$div;Sk.builtin.lng.prototype.nb$floor_divide=function(a){return Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).nb$floor_divide(a):this.nb$div(a)};Sk.builtin.lng.prototype.nb$inplace_floor_divide=Sk.builtin.lng.prototype.nb$floor_divide;
Sk.builtin.lng.prototype.nb$remainder=function(a){if(0===this.biginteger.trueCompare(Sk.builtin.biginteger.ZERO))return(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a))&&Sk.ffi.isFloat(a)?Sk.builtin.numberToPy(0):new Sk.builtin.lng(0);if(Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)){if(Sk.ffi.isFloat(a))return Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).nb$remainder(a);a=Sk.ffi.promoteIntToLong(a)}a instanceof Sk.builtin.lng||(a=new Sk.builtin.lng(a));var b=new Sk.builtin.lng(this.biginteger.remainder(a.biginteger));
this.nb$isnegative()?a.nb$ispositive()&&b.nb$nonzero()&&(b=b.nb$add(a).nb$remainder(a)):a.nb$isnegative()&&b.nb$nonzero()&&(b=b.nb$add(a));return b};Sk.builtin.lng.prototype.nb$inplace_remainder=Sk.builtin.lng.prototype.nb$remainder;
Sk.builtin.lng.prototype.nb$power=function(a,b){if(void 0!==b)return a=new Sk.builtin.biginteger(Sk.builtin.asnum$(a)),b=new Sk.builtin.biginteger(Sk.builtin.asnum$(b)),new Sk.builtin.lng(this.biginteger.modPowInt(a,b));if("number"===typeof a)return 0>a?Sk.builtin.numberToPy(this.str$(10,!0)).nb$power(a):new Sk.builtin.lng(this.biginteger.pow(new Sk.builtin.biginteger(a)));if(a instanceof Sk.builtin.NumberPy){if(Sk.ffi.isFloat(a)||0>a.v)return Sk.builtin.numberToPy(this.str$(10,!0)).nb$power(a);a=
Sk.ffi.promoteIntToLong(a)}return Sk.ffi.isLong(a)?a.nb$isnegative()?Sk.builtin.numberToPy(this.str$(10,!0)).nb$power(a):new Sk.builtin.lng(this.biginteger.pow(a.biginteger)):Sk.ffi.isBigInteger(a)?a.isnegative()?Sk.builtin.numberToPy(this.str$(10,!0)).nb$power(a):new Sk.builtin.lng(this.biginteger.pow(a)):new Sk.builtin.lng(this.biginteger.pow(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_power=Sk.builtin.lng.prototype.nb$power;
Sk.builtin.lng.prototype.nb$lshift=function(a){if(a instanceof Sk.builtin.lng){if(0>a.biginteger.signum())throw new Sk.builtin.ValueError("negative shift count");return new Sk.builtin.lng(this.biginteger.shiftLeft(a.biginteger))}if(a instanceof Sk.builtin.biginteger){if(0>a.signum())throw new Sk.builtin.ValueError("negative shift count");return new Sk.builtin.lng(this.biginteger.shiftLeft(a))}if(0>a)throw new Sk.builtin.ValueError("negative shift count");a=Sk.builtin.asnum$(a);return new Sk.builtin.lng(this.biginteger.shiftLeft(new Sk.builtin.biginteger(a)))};
Sk.builtin.lng.prototype.nb$inplace_lshift=Sk.builtin.lng.prototype.nb$lshift;
Sk.builtin.lng.prototype.nb$rshift=function(a){if(a instanceof Sk.builtin.lng){if(0>a.biginteger.signum())throw new Sk.builtin.ValueError("negative shift count");return new Sk.builtin.lng(this.biginteger.shiftRight(a.biginteger))}if(a instanceof Sk.builtin.biginteger){if(0>a.signum())throw new Sk.builtin.ValueError("negative shift count");return new Sk.builtin.lng(this.biginteger.shiftRight(a))}if(0>a)throw new Sk.builtin.ValueError("negative shift count");a=Sk.builtin.asnum$(a);return new Sk.builtin.lng(this.biginteger.shiftRight(new Sk.builtin.biginteger(a)))};
Sk.builtin.lng.prototype.nb$inplace_rshift=Sk.builtin.lng.prototype.nb$rshift;Sk.builtin.lng.prototype.nb$and=function(a){if(a instanceof Sk.builtin.lng)return new Sk.builtin.lng(this.biginteger.and(a.biginteger));if(a instanceof Sk.builtin.biginteger)return new Sk.builtin.lng(this.biginteger.and(a));a=Sk.builtin.asnum$(a);return new Sk.builtin.lng(this.biginteger.and(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_and=Sk.builtin.lng.prototype.nb$and;
Sk.builtin.lng.prototype.nb$or=function(a){if(a instanceof Sk.builtin.lng)return new Sk.builtin.lng(this.biginteger.or(a.biginteger));if(a instanceof Sk.builtin.biginteger)return new Sk.builtin.lng(this.biginteger.or(a));a=Sk.builtin.asnum$(a);return new Sk.builtin.lng(this.biginteger.or(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_or=Sk.builtin.lng.prototype.nb$or;
Sk.builtin.lng.prototype.nb$xor=function(a){if(a instanceof Sk.builtin.lng)return new Sk.builtin.lng(this.biginteger.xor(a.biginteger));if(a instanceof Sk.builtin.biginteger)return new Sk.builtin.lng(this.biginteger.xor(a));a=Sk.builtin.asnum$(a);return new Sk.builtin.lng(this.biginteger.xor(new Sk.builtin.biginteger(a)))};Sk.builtin.lng.prototype.nb$inplace_xor=Sk.builtin.lng.prototype.nb$xor;Sk.builtin.lng.prototype.u$negative=function(){return new Sk.builtin.lng(this.biginteger.negate())};
Sk.builtin.lng.prototype.u$positive=function(){return this.clone()};Sk.builtin.lng.prototype.nb$nonzero=function(){return 0!==this.biginteger.trueCompare(Sk.builtin.biginteger.ZERO)};Sk.builtin.lng.prototype.nb$isnegative=function(){return this.biginteger.isnegative()};Sk.builtin.lng.prototype.nb$ispositive=function(){return!this.biginteger.isnegative()};
Sk.builtin.lng.prototype.longCompare=function(a){"boolean"===typeof a&&(a=a?1:0);"number"===typeof a&&(a=new Sk.builtin.lng(a));return a instanceof Sk.builtin.NumberPy?Sk.ffi.isInt(a)||0==a.v%1?(a=new Sk.builtin.lng(a.v),this.longCompare(a)):Sk.builtin.numberToPy(parseFloat(this.str$(10,!0))).numberCompare(a):Sk.ffi.isLong(a)?this.biginteger.subtract(a.biginteger):Sk.ffi.isBigInteger(a)?this.biginteger.subtract(a):this.biginteger.subtract(new Sk.builtin.biginteger(a))};
Sk.builtin.lng.prototype.__eq__=function(a,b){return 0==a.longCompare(b)&&b!==Sk.builtin.none.none$};Sk.builtin.lng.prototype.__ne__=function(a,b){return 0!=a.longCompare(b)||b===Sk.builtin.none.none$};Sk.builtin.lng.prototype.__lt__=function(a,b){return 0>a.longCompare(b)};Sk.builtin.lng.prototype.__le__=function(a,b){return 0>=a.longCompare(b)};Sk.builtin.lng.prototype.__gt__=function(a,b){return 0<a.longCompare(b)};Sk.builtin.lng.prototype.__ge__=function(a,b){return 0<=a.longCompare(b)};
Sk.builtin.lng.prototype.tp$repr=function(){return Sk.builtin.stringToPy(this.str$(10,!0)+"L")};Sk.builtin.lng.prototype.tp$str=function(){return Sk.builtin.stringToPy(this.str$(10,!0))};Sk.builtin.lng.prototype.str$=function(a,b){goog.asserts.assertNumber(a);goog.asserts.assertBoolean(b);void 0===a&&(a=10);void 0===b&&(b=!0);return(b?this.biginteger:this.biginteger.abs()).toString(a)};Sk.str2number=function(a,b,c,d,e){goog.asserts.assertString(a,"s must be a string");var f=a,h=!1;a=a.replace(/^\s+|\s+$/g,"");"-"==a.charAt(0)&&(h=!0,a=a.substring(1));"+"==a.charAt(0)&&(a=a.substring(1));void 0===b&&(b=10);if((2>b||36<b)&&0!=b)throw new Sk.builtin.ValueError(e+"() base must be >= 2 and <= 36");if("0x"==a.substring(0,2).toLowerCase()){if(16!=b&&0!=b)throw new Sk.builtin.ValueError("invalid literal for "+e+"() with base "+b+": '"+f+"'");a=a.substring(2);b=16}else if("0b"==a.substring(0,
2).toLowerCase()){if(2!=b&&0!=b)throw new Sk.builtin.ValueError("invalid literal for "+e+"() with base "+b+": '"+f+"'");a=a.substring(2);b=2}else if("0o"==a.substring(0,2).toLowerCase()){if(8!=b&&0!=b)throw new Sk.builtin.ValueError("invalid literal for "+e+"() with base "+b+": '"+f+"'");a=a.substring(2);b=8}else if("0"==a.charAt(0)){if("0"==a)return 0;if(8==b||0==b)b=8}0==b&&(b=10);if(0===a.length)throw new Sk.builtin.ValueError("invalid literal for "+e+"() with base "+b+": '"+f+"'");var k,q,n;for(k=
0;k<a.length;k++)if(q=a.charCodeAt(k),n=b,48<=q&&57>=q?n=q-48:65<=q&&90>=q?n=q-65+10:97<=q&&122>=q&&(n=q-97+10),n>=b)throw new Sk.builtin.ValueError("invalid literal for "+e+"() with base "+b+": '"+f+"'");n=c(a,b);h&&(n=d(n));return n};
Sk.builtin.int_=function(a,b){if(void 0!==a&&!Sk.builtin.isStringPy(a)&&!Sk.builtin.checkNumber(a))if(a instanceof Sk.builtin.bool)a=Sk.builtin.asnum$(a);else throw new Sk.builtin.TypeError("int() argument must be a string or a number, not '"+Sk.ffi.typeName(a)+"'");if(Sk.builtin.isStringPy(a)){b=Sk.builtin.asnum$(b);var c=Sk.str2number(Sk.builtin.stringToJs(a),b,parseInt,function(a){return-a},"int");return c>Sk.builtin.lng.threshold$||c<-Sk.builtin.lng.threshold$?new Sk.builtin.lng(a,b):Sk.builtin.numberPy(c,
Sk.builtin.NumberPy.int$)}if(void 0!==b)throw new Sk.builtin.TypeError("int() can't convert non-string with explicit base");if(a instanceof Sk.builtin.lng)return a.cantBeInt()?new Sk.builtin.lng(a):Sk.ffi.numberToIntPy(a.toInt$());a=Sk.builtin.asnum$(a);return Sk.ffi.numberToIntPy(a|0)};Sk.builtin.int_.prototype.tp$name="int";Sk.builtin.int_.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("int",Sk.builtin.int_);Sk.builtin.float_=function(a){if(void 0===a)return Sk.builtin.numberToPy(0);if(Sk.builtin.isStringPy(a)){a=Sk.builtin.stringToJs(a);if(a.match(/^-inf$/i))return Sk.builtin.numberToPy(-Infinity);if(a.match(/^[+]?inf$/i))return Sk.builtin.numberToPy(Infinity);if(a.match(/^[-+]?nan$/i))return Sk.builtin.numberToPy(NaN);if(isNaN(a))throw new Sk.builtin.ValueError("float: Argument: "+a+" is not number");return Sk.builtin.numberToPy(parseFloat(a))}if("number"===typeof a||a instanceof Sk.builtin.NumberPy||
a instanceof Sk.builtin.lng)return a=Sk.builtin.asnum$(a),Sk.builtin.numberToPy(a);if(a instanceof Sk.builtin.bool)return a=Sk.builtin.asnum$(a),Sk.builtin.numberToPy(a);throw new Sk.builtin.TypeError("float() argument must be a string or a number");};Sk.builtin.float_.prototype.tp$name="float";Sk.builtin.float_.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("float",Sk.builtin.float_);Sk.builtin.complex=function(a,b){Sk.ffi.checkFunctionArgs("complex(x,y)",arguments,2,2);return new Sk.builtin.ComplexPy(a,b)};Sk.builtin.ComplexPy=function(a,b){this.xPy=a;this.yPy=b};Sk.builtin.ComplexPy.prototype.tp$name="complex";Sk.builtin.ComplexPy.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("complex",Sk.builtin.ComplexPy);
Sk.builtin.ComplexPy.prototype.tp$getattr=function(a){goog.asserts.assertString(a);var b=this.xPy,c=this.yPy;switch(a){case "real":return this.xPy;case "imag":return this.yPy;case "conjugate":return new Sk.builtin.func(function(a){Sk.ffi.checkMethodArgs("conjugate()",arguments,0,0);return new Sk.builtin.ComplexPy(b,Sk.ffh.negative(c))})}};
Sk.builtin.ComplexPy.prototype.tp$str=function(){if(Sk.ffh.nonzero(this.xPy)){if(Sk.ffh.nonzero(this.yPy)){var a=Sk.builtin.stringToJs(Sk.ffh.str(this.xPy)),b=Sk.builtin.stringToJs(Sk.ffh.str(this.yPy));return Sk.builtin.stringToPy("("+a+"+"+b+"j)")}}else Sk.ffh.nonzero(this.yPy);Sk.builtin.stringToJs(Sk.ffh.str(this.xPy));Sk.builtin.stringToJs(Sk.ffh.str(this.yPy));return Sk.builtin.stringToPy("Hello, I'm very complex!")};
Sk.builtin.ComplexPy.prototype.nb$add=function(a){if(a instanceof Sk.builtin.ComplexPy){var b=this.yPy,c=a.yPy;a=Sk.ffh.add(this.xPy,a.xPy);b=Sk.ffh.add(b,c);return Sk.builtin.complex(a,b)}};Sk.builtin.ComplexPy.prototype.nb$sub=function(a){if(a instanceof Sk.builtin.ComplexPy){var b=this.yPy,c=a.yPy;a=Sk.ffh.sub(this.xPy,a.xPy);b=Sk.ffh.sub(b,c);return Sk.builtin.complex(a,b)}};
Sk.builtin.ComplexPy.prototype.nb$mul=function(a){if(a instanceof Sk.builtin.ComplexPy){var b=this.xPy,c=this.yPy,d=a.xPy,e=a.yPy;a=Sk.ffh.sub(Sk.ffh.mul(b,d),Sk.ffh.mul(c,e));b=Sk.ffh.add(Sk.ffh.mul(c,d),Sk.ffh.mul(b,e));return Sk.builtin.complex(a,b)}};
Sk.builtin.ComplexPy.prototype.nb$div=function(a){if(a instanceof Sk.builtin.ComplexPy){var b=this.xPy,c=this.yPy,d=a.xPy,e=a.yPy,f=Sk.ffh.add(Sk.ffh.mul(d,d),Sk.ffh.mul(e,e));a=Sk.ffh.div(Sk.ffh.add(Sk.ffh.mul(b,d),Sk.ffh.mul(c,e)),f);b=Sk.ffh.div(Sk.ffh.sub(Sk.ffh.mul(c,d),Sk.ffh.mul(b,e)),f);return Sk.builtin.complex(a,b)}};Sk.builtin.slice=function(a,b,c){a=Sk.builtin.asnum$(a);b=Sk.builtin.asnum$(b);c=Sk.builtin.asnum$(c);if(!(this instanceof Sk.builtin.slice))return new Sk.builtin.slice(a,b,c);void 0===b&&void 0===c&&(b=a,a=null);a||(a=null);void 0===b&&(b=null);void 0===c&&(c=null);this.start=a;this.stop=b;this.step=c;if(null!==this.start&&!Sk.builtin.checkInt(this.start)||null!==this.stop&&!Sk.builtin.checkInt(this.stop)||null!==this.step&&!Sk.builtin.checkInt(this.step))throw new Sk.builtin.TypeError("slice indices must be integers or None");
return this};Sk.builtin.slice.prototype.tp$str=function(){var a=Sk.builtin.repr(this.start).v,b=Sk.builtin.repr(this.stop).v,c=Sk.builtin.repr(this.step).v;return Sk.builtin.stringToPy("slice("+a+", "+b+", "+c+")")};
Sk.builtin.slice.prototype.indices=function(a){a=Sk.builtin.asnum$(a);var b=this.start,c=this.stop,d=this.step;null===d&&(d=1);0<d?(null===b&&(b=0),null===c&&(c=a),c>a&&(c=a),0>b&&(b=a+b,0>b&&(b=0)),0>c&&(c=a+c)):(null===b&&(b=a-1),b>=a&&(b=a-1),null===c?c=-1:0>c&&(c=a+c,0>c&&(c=-1)),0>b&&(b=a+b));return[b,c,d]};
Sk.builtin.slice.prototype.sssiter$=function(a,b){var c=Sk.builtin.asnum$(a),d=this.indices("number"===typeof c?c:a.v.length);if(0<d[2]){var e;for(e=d[0];e<d[1]&&!1!==b(e,c);e+=d[2]);}else for(e=d[0];e>d[1]&&!1!==b(e,c);e+=d[2]);};Sk.builtin.set=function(a){if(!(this instanceof Sk.builtin.set))return new Sk.builtin.set(a);"undefined"===typeof a&&(a=[]);this.set_reset_();a=(new Sk.builtin.list(a)).tp$iter();for(var b=a.tp$iternext();void 0!==b;b=a.tp$iternext())Sk.builtin.set.prototype.add.func_code(this,b);this.__class__=Sk.builtin.set;this.v=this.v;return this};Sk.builtin.set.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("set",Sk.builtin.set);Sk.builtin.set.prototype.set_iter_=function(){return Sk.builtin.dict.prototype.keys.func_code(this.v).tp$iter()};
Sk.builtin.set.prototype.set_reset_=function(){this.v=new Sk.builtin.dict([])};Sk.builtin.set.prototype.tp$name="set";Sk.builtin.set.prototype.tp$repr=function(){for(var a=[],b=this.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())a.push(Sk.misceval.objectRepr(c).v);return Sk.builtin.stringToPy("set(["+a.join(", ")+"])")};Sk.builtin.set.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.set.prototype.tp$hash=Sk.builtin.object.prototype.HashNotImplemented;
Sk.builtin.set.prototype.tp$richcompare=function(a,b){if(this===a&&Sk.misceval.opAllowsEquality(b))return!0;if(!a.__class__||a.__class__!=Sk.builtin.set)return b===Sk.misceval.compareOp.Eq?!1:b===Sk.misceval.compareOp.NotEq?!0:!1;var c=this.sq$length(),d=a.sq$length();if(d!==c){if(b===Sk.misceval.compareOp.Eq)return!1;if(b===Sk.misceval.compareOp.NotEq)return!0}var e=!1,f=!1;switch(b){case Sk.misceval.compareOp.Lt:case "LtE":case Sk.misceval.compareOp.Eq:case Sk.misceval.compareOp.NotEq:e=Sk.builtin.set.prototype.issubset.func_code(this,
a);break;case Sk.misceval.compareOp.Gt:case Sk.misceval.compareOp.GtE:f=Sk.builtin.set.prototype.issuperset.func_code(this,a);break;default:goog.asserts.fail()}switch(b){case Sk.misceval.compareOp.Lt:return c<d&&e;case "LtE":case Sk.misceval.compareOp.Eq:return e;case Sk.misceval.compareOp.NotEq:return!e;case Sk.misceval.compareOp.Gt:return c>d&&f;case Sk.misceval.compareOp.GtE:return f}};Sk.builtin.set.prototype.tp$iter=Sk.builtin.set.prototype.set_iter_;Sk.builtin.set.prototype.sq$length=function(){return this.v.mp$length()};
Sk.builtin.set.prototype.isdisjoint=new Sk.builtin.func(function(a,b){for(var c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())if(Sk.abstr.sequenceContains(b,d))return Sk.builtin.bool.false$;return Sk.builtin.bool(!0)});
Sk.builtin.set.prototype.issubset=new Sk.builtin.func(function(a,b){var c=a.sq$length(),d=b.sq$length();if(c>d)return Sk.builtin.bool.false$;c=a.tp$iter();for(d=c.tp$iternext();void 0!==d;d=c.tp$iternext())if(!Sk.abstr.sequenceContains(b,d))return Sk.builtin.bool.false$;return Sk.builtin.bool.true$});Sk.builtin.set.prototype.issuperset=new Sk.builtin.func(function(a,b){return Sk.builtin.set.prototype.issubset.func_code(b,a)});
Sk.builtin.set.prototype.union=new Sk.builtin.func(function(a){for(var b=new Sk.builtin.set(a),c=1;c<arguments.length;c++)Sk.builtin.set.prototype.update.func_code(b,arguments[c]);return b});Sk.builtin.set.prototype.intersection=new Sk.builtin.func(function(a){var b=Sk.builtin.set.prototype.copy.func_code(a);arguments[0]=b;Sk.builtin.set.prototype.intersection_update.func_code.apply(null,arguments);return b});
Sk.builtin.set.prototype.difference=new Sk.builtin.func(function(a,b){var c=Sk.builtin.set.prototype.copy.func_code(a);arguments[0]=c;Sk.builtin.set.prototype.difference_update.func_code.apply(null,arguments);return c});
Sk.builtin.set.prototype.symmetric_difference=new Sk.builtin.func(function(a,b){for(var c=Sk.builtin.set.prototype.union.func_code(a,b),d=c.tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext())Sk.abstr.sequenceContains(a,e)&&Sk.abstr.sequenceContains(b,e)&&Sk.builtin.set.prototype.discard.func_code(c,e);return c});Sk.builtin.set.prototype.copy=new Sk.builtin.func(function(a){return new Sk.builtin.set(a)});
Sk.builtin.set.prototype.update=new Sk.builtin.func(function(a,b){for(var c=b.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())Sk.builtin.set.prototype.add.func_code(a,d);return null});Sk.builtin.set.prototype.intersection_update=new Sk.builtin.func(function(a){for(var b=a.tp$iter(),c=b.tp$iternext();void 0!==c;c=b.tp$iternext())for(var d=1;d<arguments.length;d++)if(!Sk.abstr.sequenceContains(arguments[d],c)){Sk.builtin.set.prototype.discard.func_code(a,c);break}return null});
Sk.builtin.set.prototype.difference_update=new Sk.builtin.func(function(a,b){for(var c=a.tp$iter(),d=c.tp$iternext();void 0!==d;d=c.tp$iternext())for(var e=1;e<arguments.length;e++)if(Sk.abstr.sequenceContains(arguments[e],d)){Sk.builtin.set.prototype.discard.func_code(a,d);break}return null});
Sk.builtin.set.prototype.symmetric_difference_update=new Sk.builtin.func(function(a,b){var c=Sk.builtin.set.prototype.symmetric_difference.func_code(a,b);a.set_reset_();Sk.builtin.set.prototype.update.func_code(a,c);return null});Sk.builtin.set.prototype.add=new Sk.builtin.func(function(a,b){a.v.mp$ass_subscript(b,!0);return null});Sk.builtin.set.prototype.discard=new Sk.builtin.func(function(a,b){if(void 0!==a.v.mp$lookup(b)){var c=Sk.builtin.hash,c=c(b);void 0!==a.v[c]&&(a.v.size-=1,delete a.v[c])}return null});
Sk.builtin.set.prototype.pop=new Sk.builtin.func(function(a){if(0===a.sq$length())throw new Sk.builtin.KeyError("pop from an empty set");var b=a.tp$iter().tp$iternext();Sk.builtin.set.prototype.discard.func_code(a,b);return b});Sk.builtin.set.prototype.remove=new Sk.builtin.func(function(a,b){a.v.mp$del_subscript(b);return null});goog.exportSymbol("Sk.builtin.set",Sk.builtin.set);Sk.builtin.module=function(){};goog.exportSymbol("Sk.builtin.module",Sk.builtin.module);Sk.builtin.module.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("module",Sk.builtin.module);Sk.builtin.module.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.module.prototype.tp$setattr=Sk.builtin.object.prototype.GenericSetAttr;Sk.builtin.generator=function(a,b,c,d,e){if(a){this.func_code=a;this.func_globals=b||null;this.gi$running=!1;this.gi$resumeat=0;this.gi$sentvalue=void 0;this.gi$locals={};if(0<c.length)for(b=0;b<a.co_varnames.length;++b)this.gi$locals[a.co_varnames[b]]=c[b];if(void 0!==e)for(var f in e)d[f]=e[f];this.func_closure=d;return this}};goog.exportSymbol("Sk.builtin.generator",Sk.builtin.generator);Sk.builtin.generator.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;
Sk.builtin.generator.prototype.tp$iter=function(){return this};Sk.builtin.generator.prototype.tp$iternext=function(a){this.gi$running=!0;void 0===a&&(a=null);this.gi$sentvalue=a;a=[this];this.func_closure&&a.push(this.func_closure);a=this.func_code.apply(this.func_globals,a);this.gi$running=!1;goog.asserts.assert(void 0!==a);if(null!==a)return this.gi$resumeat=a[0],a=a[1]};Sk.builtin.generator.prototype.next=new Sk.builtin.func(function(a){return a.tp$iternext()});
Sk.builtin.generator.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("generator",Sk.builtin.generator);Sk.builtin.generator.prototype.tp$repr=function(){return Sk.builtin.stringToPy("<generator object "+Sk.ffi.remapToJs(this.func_code.co_name)+">")};Sk.builtin.generator.prototype.send=new Sk.builtin.func(function(a,b){return a.tp$iternext(b)});Sk.builtin.makeGenerator=function(a,b){var c=new Sk.builtin.generator(null,null,null);c.tp$iternext=a;for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c};
goog.exportSymbol("Sk.builtin.makeGenerator",Sk.builtin.makeGenerator);Sk.builtin.file=function(a,b,c){this.mode=b;this.name=a;this.closed=!1;if(Sk.inBrowser){b=document.getElementById(a.v);if(null==b)throw new Sk.builtin.IOError("[Errno 2] No such file or directory: '"+a.v+"'");"textarea"==b.nodeName.toLowerCase()?this.data$=b.value:this.data$=b.textContent}else this.data$=Sk.read(a.v);this.lineList=this.data$.split("\n");this.lineList=this.lineList.slice(0,-1);for(var d in this.lineList)this.lineList[d]+="\n";this.pos$=this.currentLine=0;this.__class__=Sk.builtin.file;
return this};Sk.builtin.file.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("file",Sk.builtin.file);Sk.builtin.file.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.file.prototype.tp$repr=function(){return Sk.builtin.stringToPy("<"+(this.closed?"closed":"open")+"file '"+this.name+"', mode '"+this.mode+"'>")};
Sk.builtin.file.prototype.tp$iter=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,$lines:this.lineList,tp$iternext:function(){return a.$index>=a.$lines.length?void 0:Sk.builtin.stringToPy(a.$lines[a.$index++])}};return a};Sk.builtin.file.prototype.close=new Sk.builtin.func(function(a){a.closed=!0});Sk.builtin.file.prototype.flush=new Sk.builtin.func(function(a){});Sk.builtin.file.prototype.fileno=new Sk.builtin.func(function(a){return 10});Sk.builtin.file.prototype.isatty=new Sk.builtin.func(function(a){return!1});
Sk.builtin.file.prototype.read=new Sk.builtin.func(function(a,b){if(a.closed)throw new Sk.builtin.ValueError("I/O operation on closed file");var c=a.data$.length;void 0===b&&(b=c);var d=Sk.builtin.stringToPy(a.data$.substr(a.pos$,b));a.pos$+=b;a.pos$>=c&&(a.pos$=c);return d});Sk.builtin.file.prototype.readline=new Sk.builtin.func(function(a,b){var c="";a.currentLine<a.lineList.length&&(c=a.lineList[a.currentLine],a.currentLine++);return Sk.builtin.stringToPy(c)});
Sk.builtin.file.prototype.readlines=new Sk.builtin.func(function(a,b){for(var c=[],d=a.currentLine;d<a.lineList.length;d++)c.push(Sk.builtin.stringToPy(a.lineList[d]));return new Sk.builtin.list(c)});Sk.builtin.file.prototype.seek=new Sk.builtin.func(function(a,b,c){void 0===c&&(c=1);a.pos$=1==c?b:a.data$+b});Sk.builtin.file.prototype.tell=new Sk.builtin.func(function(a){return a.pos$});Sk.builtin.file.prototype.truncate=new Sk.builtin.func(function(a,b){goog.asserts.fail()});
Sk.builtin.file.prototype.write=new Sk.builtin.func(function(a,b){goog.asserts.fail()});goog.exportSymbol("Sk.builtin.file",Sk.builtin.file);Sk.ffi={};goog.exportSymbol("Sk.ffi.AssertionError",Sk.ffi.AssertionError);Sk.ffi.assertionError=function(a){return new Sk.builtin.AssertionError(a)};goog.exportSymbol("Sk.ffi.assertionError",Sk.ffi.assertionError);goog.exportSymbol("Sk.ffi.AttributeError",Sk.ffi.AttributeError);Sk.ffi.attributeError=function(a){return new Sk.builtin.AttributeError(a)};goog.exportSymbol("Sk.ffi.attributeError",Sk.ffi.attributeError);goog.exportSymbol("Sk.ffi.NotImplementedError",Sk.ffi.NotImplementedError);
Sk.ffi.notImplementedError=function(a){return new Sk.builtin.NotImplementedError(a)};goog.exportSymbol("Sk.ffi.notImplementedError",Sk.ffi.notImplementedError);goog.exportSymbol("Sk.ffi.TypeError",Sk.ffi.TypeError);Sk.ffi.typeError=function(a){return new Sk.builtin.TypeError(a)};goog.exportSymbol("Sk.ffi.typeError",Sk.ffi.typeError);
Sk.ffi.type=function(a){return Sk.flyweight&&typeof a===Sk.builtin.JsType.NUMBER?Sk.builtin.float_.prototype.ob$type:a.constructor===Sk.builtin.NumberPy?a.skType===Sk.builtin.NumberPy.int$?Sk.builtin.int_.prototype.ob$type:Sk.builtin.float_.prototype.ob$type:a.ob$type};goog.exportSymbol("Sk.ffi.type",Sk.ffi.type);Sk.ffi.bool={True:Sk.builtin.bool.true$,False:Sk.builtin.bool.false$};goog.exportSymbol("Sk.ffi.bool",Sk.ffi.bool);
Sk.ffi.booleanToPy=function(a,b){var c=typeof a;if(c===Sk.builtin.JsType.BOOLEAN)return a?Sk.ffi.bool.True:Sk.ffi.bool.False;if(c===Sk.builtin.JsType.OBJECT&&null===a)return Sk.builtin.none.none$;if(c===Sk.builtin.JsType.UNDEFINED){c=typeof b;if(c===Sk.builtin.JsType.BOOLEAN)return Sk.ffi.booleanToPy(Boolean(b));if(c===Sk.builtin.JsType.UNDEFINED)return;if(c===Sk.builtin.JsType.OBJECT&&null===b)return Sk.builtin.none.none$;throw Sk.ffi.err.argument("defaultJs").inFunction("Sk.ffi.booleanToPy").mustHaveType([Sk.builtin.JsType.BOOLEAN,
"null",Sk.builtin.JsType.UNDEFINED].join(" or "));}throw Sk.ffi.err.argument("valueJs").inFunction("Sk.ffi.booleanToPy").mustHaveType([Sk.builtin.JsType.BOOLEAN,"null",Sk.builtin.JsType.UNDEFINED].join(" or "));};goog.exportSymbol("Sk.ffi.booleanToPy",Sk.ffi.booleanToPy);
Sk.ffi.numberToFloatPy=function(a,b){var c=typeof a;if(c===Sk.builtin.JsType.NUMBER)return Sk.builtin.numberToPy(a);if(c===Sk.builtin.JsType.OBJECT&&null===a)return Sk.builtin.none.none$;if(c===Sk.builtin.JsType.UNDEFINED){c=typeof b;if(c===Sk.builtin.JsType.NUMBER)return Sk.ffi.numberToFloatPy(Number(b));if(c===Sk.builtin.JsType.UNDEFINED)return;if(c===Sk.builtin.JsType.OBJECT&&null===b)return Sk.builtin.none.none$;throw Sk.ffi.err.argument("defaultJs").inFunction("Sk.ffi.numberToFloatPy").mustHaveType([Sk.builtin.JsType.NUMBER,
"null",Sk.builtin.JsType.UNDEFINED].join(" or "));}throw Sk.ffi.err.argument("valueJs").inFunction("Sk.ffi.numberToFloatPy").mustHaveType([Sk.builtin.JsType.NUMBER,"null",Sk.builtin.JsType.UNDEFINED].join(" or "));};goog.exportSymbol("Sk.ffi.numberToFloatPy",Sk.ffi.numberToFloatPy);
Sk.ffi.numberToIntPy=function(a,b){var c=typeof a;if(c===Sk.builtin.JsType.NUMBER)return new Sk.builtin.NumberPy(a,Sk.builtin.NumberPy.int$);if(c===Sk.builtin.JsType.OBJECT&&null===a)return Sk.builtin.none.none$;if(c===Sk.builtin.JsType.UNDEFINED){c=typeof b;if(c===Sk.builtin.JsType.NUMBER)return Sk.ffi.numberToIntPy(Number(b));if(c===Sk.builtin.JsType.UNDEFINED)return;if(c===Sk.builtin.JsType.OBJECT&&null===b)return Sk.builtin.none.none$;throw Sk.ffi.err.argument("defaultJs").inFunction("Sk.ffi.numberToIntPy").mustHaveType([Sk.builtin.JsType.NUMBER,
"null",Sk.builtin.JsType.UNDEFINED].join(" or "));}throw Sk.ffi.err.argument("valueJs").inFunction("Sk.ffi.numberToIntPy").mustHaveType([Sk.builtin.JsType.NUMBER,"null",Sk.builtin.JsType.UNDEFINED].join(" or "));};goog.exportSymbol("Sk.ffi.numberToIntPy",Sk.ffi.numberToIntPy);
Sk.ffi.referenceToPy=function(a,b,c,d){var e=typeof a;if(e===Sk.builtin.JsType.OBJECT||e===Sk.builtin.JsType.FUNCTION)if(typeof b===Sk.builtin.JsType.STRING)if(d)d.v=a,d.tp$name=b,d.custom=c;else return{v:a,tp$name:b,custom:c};else throw Sk.ffi.assertionError("9fad4b9e-4845-4a06-9bce-0aa7c68e1f03 [className is "+b+"]");else throw Sk.ffi.assertionError("306f31df-f0a9-40a0-895b-d01308df8d6e typeof valueJs => "+e);};goog.exportSymbol("Sk.ffi.referenceToPy",Sk.ffi.referenceToPy);Sk.ffi.functionPy=function(a){return new Sk.builtin.func(a)};
goog.exportSymbol("Sk.ffi.functionPy",Sk.ffi.functionPy);Sk.ffi.listPy=function(a){return new Sk.builtin.list(a)};goog.exportSymbol("Sk.ffi.listPy",Sk.ffi.listPy);Sk.ffi.tuplePy=function(a){return new Sk.builtin.tuple(a)};goog.exportSymbol("Sk.ffi.tuplePy",Sk.ffi.tuplePy);
Sk.ffi.remapToPy=function(a,b,c){var d=typeof a;if(d===Sk.builtin.JsType.OBJECT)return"[object Array]"===Object.prototype.toString.call(a)?new Sk.ffi.ObjectPy(a):typeof b===Sk.builtin.JsType.STRING?Sk.ffi.referenceToPy(a,b.toString(),c):d===Sk.builtin.JsType.OBJECT&&null===a?Sk.builtin.none.none$:new Sk.ffi.ObjectPy(a);if(d===Sk.builtin.JsType.STRING)return Sk.builtin.stringToPy(a);if(d===Sk.builtin.JsType.NUMBER)return Sk.builtin.numberToPy(a);if(d===Sk.builtin.JsType.BOOLEAN)return Sk.ffi.booleanToPy(a);
if(d===Sk.builtin.JsType.FUNCTION)return Sk.ffi.functionPy(a);if(d===Sk.builtin.JsType.UNDEFINED)return Sk.builtin.none.none$;throw Sk.ffi.assertionError("d39f7c01-213e-4ded-9e5c-209a2dc94b4c, typeof valueJs => "+d);};goog.exportSymbol("Sk.ffi.remapToPy",Sk.ffi.remapToPy);Sk.ffi.isBool=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.BOOL};goog.exportSymbol("Sk.ffi.isBool",Sk.ffi.isBool);
Sk.ffi.isInstance=function(a,b){if(Sk.ffi.getType(a)===Sk.ffi.PyType.INSTANCE){var c=typeof b;if(c===Sk.builtin.JsType.STRING)return Sk.ffi.typeName(a)===b;if(c===Sk.builtin.JsType.UNDEFINED)return!0;if("[object Array]"===Object.prototype.toString.call(b)){var d=Sk.ffi.typeName(a);return b.some(function(a){return d===a})}throw Sk.ffi.assertionError("caa41602-62da-4850-8f76-38d013f45a6c, typeof className => "+c);}return!1};goog.exportSymbol("Sk.ffi.isInstance",Sk.ffi.isInstance);
Sk.ffi.isDefined=function(a){return Sk.ffi.getType(a)!==Sk.ffi.PyType.UNDEFINED};goog.exportSymbol("Sk.ffi.isDefined",Sk.ffi.isDefined);Sk.ffi.isObjectPy=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.OBJECT};goog.exportSymbol("Sk.ffi.isObjectPy",Sk.ffi.isObjectPy);Sk.ffi.isDict=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.DICT};goog.exportSymbol("Sk.ffi.isDict",Sk.ffi.isDict);Sk.ffi.isList=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.LIST};
goog.exportSymbol("Sk.ffi.isList",Sk.ffi.isList);Sk.ffi.isTuple=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.TUPLE};goog.exportSymbol("Sk.ffi.isTuple",Sk.ffi.isTuple);Sk.ffi.isFloat=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.FLOAT};goog.exportSymbol("Sk.ffi.isFloat",Sk.ffi.isFloat);Sk.ffi.isFunction=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.FUNCTION};goog.exportSymbol("Sk.ffi.isFunction",Sk.ffi.isFunction);Sk.ffi.isFunctionRef=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.FUNREF};
goog.exportSymbol("Sk.ffi.isFunctionRef",Sk.ffi.isFunctionRef);Sk.ffi.isInt=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.INT};goog.exportSymbol("Sk.ffi.isInt",Sk.ffi.isInt);Sk.ffi.isLong=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.LONG};goog.exportSymbol("Sk.ffi.isLong",Sk.ffi.isLong);Sk.ffi.isBigInteger=function(a){return a instanceof Sk.builtin.biginteger};goog.exportSymbol("Sk.ffi.isBigInteger",Sk.ffi.isBigInteger);Sk.ffi.isNone=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.NONE};
goog.exportSymbol("Sk.ffi.isNone",Sk.ffi.isNone);Sk.ffi.isNum=function(a){return a instanceof Sk.builtin.NumberPy?!0:Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)||Sk.ffi.isLong(a)};goog.exportSymbol("Sk.ffi.isNum",Sk.ffi.isNum);Sk.ffi.isUndefined=function(a){return Sk.ffi.getType(a)===Sk.ffi.PyType.UNDEFINED};goog.exportSymbol("Sk.ffi.isUndefined",Sk.ffi.isUndefined);
Sk.ffi.checkFunctionArgs=function(a,b,c,d,e,f){b=b.length;var h="";void 0===d&&(d=Infinity);e&&(b-=1);f&&(b-=1);if(b<c||b>d)throw h=(c===d?a+" takes exactly "+c+" arguments":b<c?a+" takes at least "+c+" arguments":a+" takes at most "+d+" arguments")+(" ("+b+" given)"),Sk.ffi.assertionError(h);return b};goog.exportSymbol("Sk.ffi.checkFunctionArgs",Sk.ffi.checkFunctionArgs);Sk.ffi.checkMethodArgs=function(a,b,c,d,e,f){return Sk.ffi.checkFunctionArgs(a,Array.prototype.slice.call(b,1),c,d,e,f)};
goog.exportSymbol("Sk.ffi.checkMethodArgs",Sk.ffi.checkMethodArgs);goog.exportSymbol("Sk.ffi.SimpleType",Sk.ffi.SimpleType);goog.exportSymbol("Sk.ffi.UnionType",Sk.ffi.UnionType);Sk.ffi.checkArgType=function(a,b,c,d){if(!c)throw Sk.ffi.err.argument(a).mustHaveType(b);};goog.exportSymbol("Sk.ffi.checkArgType",Sk.ffi.checkArgType);Sk.ffi.checkLhsOperandType=function(a,b,c,d){if(!c)throw Sk.ffi.err.operand("Left").toOperation(a).mustHaveType(b);};goog.exportSymbol("Sk.ffi.checkLhsOperandType",Sk.ffi.checkLhsOperandType);
Sk.ffi.checkRhsOperandType=function(a,b,c,d){if(!c)throw Sk.ffi.err.operand("Right").toOperation(a).mustHaveType(b);};goog.exportSymbol("Sk.ffi.checkRhsOperandType",Sk.ffi.checkRhsOperandType);Sk.ffi.PyType={OBJECT:1,DICT:2,LIST:3,TUPLE:4,BOOL:5,FLOAT:6,INT:7,LONG:8,STR:9,NONE:10,FUNCTION:11,INSTANCE:12,UNDEFINED:-1,FUNREF:-2};
Sk.ffi.typeString=function(a,b){function c(a){return"<type '"+a+"'>"}function d(a){switch(a){case Sk.ffi.PyType.OBJECT:return c("object");case Sk.ffi.PyType.DICT:return c("dict");case Sk.ffi.PyType.LIST:return c("list");case Sk.ffi.PyType.TUPLE:return c("tuple");case Sk.ffi.PyType.BOOL:return c("bool");case Sk.ffi.PyType.FLOAT:return c("float");case Sk.ffi.PyType.LONG:return c("long");case Sk.ffi.PyType.INT:return c("int");case Sk.ffi.PyType.STR:return c("str");case Sk.ffi.PyType.NONE:return c("NoneType");
case Sk.ffi.PyType.FUNCTION:return c("function");default:throw Sk.ffi.assertionError("fe2aed99-3b81-4a55-b3e8-61da7e734ac1, kind => "+a);}}if(typeof a===Sk.builtin.JsType.STRING)return"<class '"+String(a)+"'>";if(typeof a===Sk.builtin.JsType.NUMBER)switch(a){case Sk.ffi.PyType.OBJECT:case Sk.ffi.PyType.DICT:case Sk.ffi.PyType.LIST:case Sk.ffi.PyType.TUPLE:case Sk.ffi.PyType.BOOL:case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.LONG:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.STR:case Sk.ffi.PyType.NONE:case Sk.ffi.PyType.FUNCTION:return d(a);
case Sk.ffi.PyType.INSTANCE:return"<class '"+String(b)+"'>";default:throw Sk.ffi.assertionError("b15da19c-b080-4695-a157-cfcb740b265b, kind => "+a);}else{if("[object Array]"===Object.prototype.toString.call(a))return a.map(function(a){return Sk.ffi.typeString(a)}).join(" or ");throw Sk.ffi.assertionError("c32e2f75-a391-49aa-b567-b376955b4b4c, typeof kind => "+typeof a);}};goog.exportSymbol("Sk.ffi.typeString",Sk.ffi.typeString);
Sk.ffi.getType=function(a){if(Sk.flyweight&&typeof a===Sk.builtin.JsType.NUMBER)return Sk.ffi.PyType.FLOAT;if(typeof a===Sk.builtin.JsType.UNDEFINED)return Sk.ffi.PyType.UNDEFINED;if(a instanceof Sk.ffi.ObjectPy)return Sk.ffi.PyType.OBJECT;if(a instanceof Sk.builtin.object)throw Error("Ooch - object");if(a instanceof Sk.builtin.dict)return Sk.ffi.PyType.DICT;if(a instanceof Sk.builtin.list)return Sk.ffi.PyType.LIST;if(a instanceof Sk.builtin.tuple)return Sk.ffi.PyType.TUPLE;if(a instanceof Sk.builtin.NumberPy)if(a.skType===
Sk.builtin.NumberPy.float$)if(Sk.flyweight)goog.asserts.assertNumber(a,"You're kidding me?");else return Sk.ffi.PyType.FLOAT;else{if(a.skType===Sk.builtin.NumberPy.int$)return Sk.ffi.PyType.INT;throw Sk.ffi.assertionError("typeofPy("+a+") (Sk.builtin.NumberPy) skType="+a.skType);}else{if(a instanceof Sk.builtin.lng)return Sk.ffi.PyType.LONG;if(a===Sk.builtin.bool.true$||a===Sk.builtin.bool.false$)return Sk.ffi.PyType.BOOL;if(a===Sk.builtin.none.none$)return Sk.ffi.PyType.NONE;var b=typeof a.v;if(b!==
Sk.builtin.JsType.UNDEFINED){if(b===Sk.builtin.JsType.STRING)return Sk.ffi.PyType.STR;if(b===Sk.builtin.JsType.OBJECT){if(a.tp$name)return Sk.ffi.PyType.INSTANCE;throw Sk.ffi.assertionError("0a459acc-9540-466b-ba1a-333f8215b61e");}if(b===Sk.builtin.JsType.FUNCTION)return Sk.ffi.PyType.FUNREF;throw Sk.ffi.assertionError("bb971bb0-3751-49bb-ac24-8dab8a4bcd29 (x:'"+b+"')");}return Sk.ffi.PyType.FUNCTION}};goog.exportSymbol("Sk.ffi.getType",Sk.ffi.getType);
Sk.ffi.typeName=function(a){return Sk.flyweight&&typeof a===Sk.builtin.JsType.NUMBER?"float":a instanceof Sk.builtin.NumberPy?a.skType:void 0!==a.tp$name?a.tp$name:"<invalid type>"};goog.exportSymbol("Sk.ffi.typeName",Sk.ffi.typeName);Sk.ffi.booleanToJs=function(a,b){if(a===Sk.builtin.bool.true$)return!0;if(a===Sk.builtin.bool.false$)return!1;if(typeof b===Sk.builtin.JsType.STRING)throw Sk.ffi.typeError(String(b));throw Sk.ffi.err.attribute("value").mustHaveType(Sk.ffi.PyType.BOOL);};
goog.exportSymbol("Sk.ffi.booleanToJs",Sk.ffi.booleanToJs);Sk.ffi.numberToJs=function(a,b){if(a instanceof Sk.builtin.NumberPy)return Sk.builtin.asnum$(a);if(typeof b===Sk.builtin.JsType.STRING)throw Sk.ffi.typeError(String(b));throw Sk.ffi.err.attribute("value").mustHaveType([Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG]);};goog.exportSymbol("Sk.ffi.numberToJs",Sk.ffi.numberToJs);
Sk.ffi.remapToJs=function(a,b){Sk.ffi.checkFunctionArgs("Sk.ffi.remapToJs",arguments,1,2);if(Sk.flyweight&&typeof a===Sk.builtin.JsType.NUMBER)return a;switch(Sk.ffi.getType(a)){case Sk.ffi.PyType.STR:return Sk.builtin.stringToJs(a);case Sk.ffi.PyType.OBJECT:return a.v;case Sk.ffi.PyType.DICT:for(var c={},d=a.tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext()){var f=a.mp$subscript(e);void 0===f&&(f=null);e=Sk.ffi.remapToJs(e);c[e]=Sk.ffi.remapToJs(f)}return c;case Sk.ffi.PyType.LIST:if(b)return a.v;
c=[];for(d=0;d<a.v.length;++d)c.push(Sk.ffi.remapToJs(a.v[d]));return c;case Sk.ffi.PyType.TUPLE:c=[];for(d=0;d<a.v.length;++d)c.push(Sk.ffi.remapToJs(a.v[d]));return c;case Sk.ffi.PyType.BOOL:if(a===Sk.builtin.bool.true$)return!0;if(a===Sk.builtin.bool.false$)return!1;throw Sk.ffi.assertionError("5fd1f529-f9b2-4d0c-9775-36e782973986");case Sk.ffi.PyType.FLOAT:if(Sk.flyweight)goog.asserts.assertNumber(a,"5fd1f529-f9b2-4d0c-9775-36e782973986");else return Sk.builtin.asnum$(a);case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return Sk.builtin.asnum$(a);
case Sk.ffi.PyType.INSTANCE:return a.v;case Sk.ffi.PyType.FUNREF:return a.v;case Sk.ffi.PyType.UNDEFINED:break;case Sk.ffi.PyType.NONE:return null;case Sk.ffi.PyType.FUNCTION:return function(){var b=Array.prototype.slice.call(arguments,0).map(function(a){return Sk.ffi.remapToPy(a)});return Sk.ffi.remapToJs(Sk.misceval.apply(a,void 0,void 0,void 0,b))};default:throw Sk.ffi.assertionError("20be4da2-63e8-4fff-9359-7ab46eba4702 "+Sk.ffi.getType(a));}};goog.exportSymbol("Sk.ffi.remapToJs",Sk.ffi.remapToJs);
Sk.ffi.customToJs=function(a){return a.custom};goog.exportSymbol("Sk.ffi.customToJs",Sk.ffi.customToJs);Sk.ffi.buildClass=function(a,b,c,d){return Sk.misceval.buildClass(a,b,c,d)};goog.exportSymbol("Sk.ffi.buildClass",Sk.ffi.buildClass);Sk.ffi.callsim=function(a,b){var c=Array.prototype.slice.call(arguments,1);return Sk.misceval.apply(a,void 0,void 0,void 0,c)};goog.exportSymbol("Sk.ffi.callsim",Sk.ffi.callsim);
Sk.ffi.callableToPy=function(a,b,c){return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,e){e.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,b,null,a)});e.__call__=Sk.ffi.functionPy(c);e.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(b)});e.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(b)})},b,[]))};goog.exportSymbol("Sk.ffi.callableToPy",Sk.ffi.callableToPy);Sk.ffi.gattr=function(a,b){return Sk.abstr.gattr(a,b)};
goog.exportSymbol("Sk.ffi.gattr",Sk.ffi.gattr);Sk.ffi.sattr=function(a,b,c){return Sk.abstr.sattr(a,b,c)};goog.exportSymbol("Sk.ffi.sattr",Sk.ffi.sattr);Sk.ffi.indexError=function(a){return new Sk.builtin.IndexError(a)};goog.exportSymbol("Sk.ffi.indexError",Sk.ffi.indexError);Sk.ffi.valueError=function(a){return new Sk.builtin.ValueError(a)};goog.exportSymbol("Sk.ffi.valueError",Sk.ffi.valueError);
Sk.ffi.err={attribute:function(a){return{isNotGetableOnType:function(b){return Sk.ffi.attributeError(a+" is not an attribute of "+Sk.ffi.typeString(b))},isNotSetableOnType:function(b){return Sk.ffi.attributeError(a+" is not an attribute of "+Sk.ffi.typeString(b))}}},argument:function(a){return{inFunction:function(b){return{mustHaveType:function(c){return Sk.ffi.typeError("Expecting argument '"+a+"' in function '"+b+"' to have type "+Sk.ffi.typeString(c)+".")}}},mustHaveType:function(b){return Sk.ffi.typeError(a+
" must be a "+Sk.ffi.typeString(b))}}},operand:function(a){return{toOperation:function(b){return{mustHaveType:function(c){return Sk.ffi.typeError("Expecting operand '"+a+"' to operation '"+b+"' to have type "+Sk.ffi.typeString(c)+".")}}}}}};goog.exportSymbol("Sk.ffi.err",Sk.ffi.err);Sk.ffi.ObjectPy=function(a){this.v=a};
Sk.ffi.ObjectPy.prototype.tp$getattr=function(a){goog.asserts.assertString(a);goog.asserts.assert(void 0!==this.ob$type,"object has no ob$type!");var b=this.v,c=this.v[a];switch(typeof c){case "function":return new Sk.ffi.CallablePy(this.v,a);case "number":return Sk.ffi.numberToFloatPy(c);case "object":return new Sk.ffi.ObjectPy(c);case "boolean":return Sk.ffi.booleanToPy(c);case "undefined":switch(a){case "append":return new Sk.builtin.func(function(a){Sk.builtin.pyCheckArgs("append",arguments,1,
1);b.push(Sk.ffi.remapToJs(a));return Sk.builtin.none.none$});default:return Sk.builtin.none.none$}default:return goog.asserts.assertString(c),Sk.builtin.stringToPy(c)}};Sk.ffi.ObjectPy.prototype.tp$setattr=function(a,b){goog.asserts.assert("string"===typeof a);this.v[a]=Sk.ffi.remapToJs(b)};
Sk.ffi.ObjectPy.prototype.mp$subscript=function(a){if(!Array.isArray(this.v))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(this)+"' object does not support indexing.");if(Sk.misceval.isIndex(a)){var b=Sk.misceval.asIndex(a);if(void 0!==b){0>b&&(b=this.v.length+b);if(0>b||b>=this.v.length)throw new Sk.builtin.IndexError("list index out of range");return Sk.ffi.remapToPy(this.v[b])}}else if(a instanceof Sk.builtin.slice){var c=[];a.sssiter$(this,function(a,b){c.push(b.v[a])});return new Sk.builtin.list(c)}throw new Sk.builtin.TypeError("list indices must be integers, not "+
Sk.ffi.typeName(a));};Sk.ffi.ObjectPy.prototype.tp$iter=function(){var a={tp$iter:function(){return a},$obj:this,$index:0,tp$iternext:function(){return a.$index>=a.$obj.v.length?void 0:Sk.ffi.remapToPy(a.$obj.v[a.$index++])}};return a};Sk.ffi.ObjectPy.prototype.sq$length=function(){if(!Array.isArray(this.v))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(this)+"' object does not support len().");return this.v.length};Sk.ffi.ObjectPy.prototype.tp$name="ObjectPy";
Sk.ffi.ObjectPy.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("ObjectPy",Sk.ffi.ObjectPy);Sk.ffi.ObjectPy.prototype.tp$str=function(){return Sk.builtin.stringToPy(""+this.v)};Sk.ffi.ObjectPy.prototype.tp$repr=function(){return Sk.builtin.stringToPy(""+this.v)};Sk.ffi.ObjectPy.prototype.nb$add=function(a){return Sk.ffi.remapToPy(this.v.add(Sk.ffi.remapToJs(a)))};Sk.ffi.ObjectPy.prototype.nb$sub=function(a){return Sk.ffi.remapToPy(this.v.sub(Sk.ffi.remapToJs(a)))};
Sk.ffi.ObjectPy.prototype.nb$mul=function(a){return Sk.ffi.remapToPy(this.v.mul(Sk.ffi.remapToJs(a)))};Sk.ffi.ObjectPy.prototype.nb$div=function(a){return Sk.ffi.remapToPy(this.v.div(Sk.ffi.remapToJs(a)))};goog.exportSymbol("Sk.ffi.ObjectPy",Sk.ffi.ObjectPy);Sk.ffi.CallablePy=function(a,b){this.v=a;this.name=b};
Sk.ffi.CallablePy.prototype.tp$call=function(a,b){var c=this.v,d=this.name,e=c[d],f=a.map(function(a){return Sk.ffi.remapToJs(a)});d="Value"===d||"X"===d||"Y"===d?!1:d[0]===d[0].toUpperCase()?!0:!1;if(d){c=function(){var a=Object.create(e.prototype),b=e.apply(a,f);return Sk.ffi.remapToPy("object"===typeof b&&b||a)};try{switch(f.length){case 0:var h=new e;return Sk.ffi.remapToPy(h);case 1:return h=new e(f[0]),Sk.ffi.remapToPy(h);case 2:return h=new e(f[0],f[1]),Sk.ffi.remapToPy(h);case 3:return h=
new e(f[0],f[1],f[2]),Sk.ffi.remapToPy(h);case 4:return h=new e(f[0],f[1],f[2],f[3]),Sk.ffi.remapToPy(h);case 5:return h=new e(f[0],f[1],f[2],f[3],f[4]),Sk.ffi.remapToPy(h);case 6:return h=new e(f[0],f[1],f[2],f[3],f[4],f[5]),Sk.ffi.remapToPy(h);case 7:return h=new e(f[0],f[1],f[2],f[3],f[4],f[5],f[6]),Sk.ffi.remapToPy(h);default:return c()}}catch(k){return c()}}else return Sk.ffi.remapToPy(e.apply(c,f))};
Sk.ffi.promoteIntToLong=function(a){goog.asserts.assert(Sk.ffi.isInt(a));a=Sk.ffi.remapToJs(a);goog.asserts.assertNumber(a);return new Sk.builtin.lng(a)};goog.exportSymbol("Sk.ffi.promoteIntToLong",Sk.ffi.promoteIntToLong);Sk.ffi.longFromString=function(a,b){goog.asserts.assertString(a,"s must be a string");var c=Sk.str2number(a,b,function(a,b){return 10==b?new Sk.builtin.biginteger(a):new Sk.builtin.biginteger(a,b)},function(a){return a.negate()},"long");return new Sk.builtin.lng(c)};
goog.exportSymbol("Sk.ffi.longFromString",Sk.ffi.longFromString);Sk.ffi.MAX_INT=new Sk.builtin.lng(+Sk.builtin.lng.threshold$);goog.exportSymbol("Sk.ffi.MIN_INT",Sk.ffi.MIN_INT);Sk.ffi.MIN_INT=new Sk.builtin.lng(-Sk.builtin.lng.threshold$);goog.exportSymbol("Sk.ffi.MAX_INT",Sk.ffi.MAX_INT);Sk.ffh={};var SPECIAL_METHOD_ADD="__add__",SPECIAL_METHOD_CLIFFORD_CONJUGATE="__cliffordConjugate__",SPECIAL_METHOD_EQ="__eq__",SPECIAL_METHOD_EXP="__exp__",SPECIAL_METHOD_GETITEM="__getitem__";Sk.ffh.unaryExec=function(a,b,c,d){if(c[b])return Sk.ffi.callsim(c[b],c);if("undefined"!==typeof d&&c[d])return c[d].call(c);throw Sk.ffi.typeError(a+"("+Sk.ffi.remapToJs(Sk.ffh.repr(c))+")");};goog.exportSymbol("Sk.ffh.unaryExec",Sk.ffh.unaryExec);
Sk.ffh.getitem=function(a,b){if(a[SPECIAL_METHOD_GETITEM])return Sk.ffi.callsim(a[SPECIAL_METHOD_GETITEM],a,Sk.ffi.numberToIntPy(b));throw Sk.ffi.notImplementedError(SPECIAL_METHOD_GETITEM);};goog.exportSymbol("Sk.ffh.getitem",Sk.ffh.getitem);Sk.ffh.add=function(a,b){return Sk.abstr.numberBinOp(a,b,"Add")};goog.exportSymbol("Sk.ffh.add",Sk.ffh.add);Sk.ffh.sub=function(a,b){return Sk.abstr.numberBinOp(a,b,"Sub")};goog.exportSymbol("Sk.ffh.sub",Sk.ffh.sub);
Sk.ffh.mul=function(a,b){return Sk.abstr.numberBinOp(a,b,"Mult")};goog.exportSymbol("Sk.ffh.mul",Sk.ffh.mul);Sk.ffh.div=function(a,b){return Sk.abstr.numberBinOp(a,b,"Div")};goog.exportSymbol("Sk.ffh.div",Sk.ffh.div);Sk.ffh.mod=function(a,b){return Sk.abstr.numberBinOp(a,b,"Mod")};goog.exportSymbol("Sk.ffh.mod",Sk.ffh.mod);Sk.ffh.bitOr=function(a,b){return Sk.abstr.numberBinOp(a,b,"BitOr")};goog.exportSymbol("Sk.ffh.bitOr",Sk.ffh.bitOr);
Sk.ffh.bitXor=function(a,b){return Sk.abstr.numberBinOp(a,b,"BitXor")};goog.exportSymbol("Sk.ffh.bitXor",Sk.ffh.bitXor);Sk.ffh.bitAnd=function(a,b){return Sk.abstr.numberBinOp(a,b,"BitAnd")};goog.exportSymbol("Sk.ffh.bitAnd",Sk.ffh.bitAnd);Sk.ffh.lshift=function(a,b){return Sk.abstr.numberBinOp(a,b,"LShift")};goog.exportSymbol("Sk.ffh.lshift",Sk.ffh.lshift);Sk.ffh.rshift=function(a,b){return Sk.abstr.numberBinOp(a,b,"RShift")};goog.exportSymbol("Sk.ffh.rshift",Sk.ffh.rshift);
Sk.ffh.pow=function(a,b){return Sk.abstr.numberBinOp(a,b,"Pow")};goog.exportSymbol("Sk.ffh.rshift",Sk.ffh.rshift);Sk.ffh.eq=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.Eq))};goog.exportSymbol("Sk.ffh.eq",Sk.ffh.eq);Sk.ffh.lt=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.Lt))};goog.exportSymbol("Sk.ffh.lt",Sk.ffh.lt);Sk.ffh.le=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.LtE))};
goog.exportSymbol("Sk.ffh.le",Sk.ffh.le);Sk.ffh.gt=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.Gt))};goog.exportSymbol("Sk.ffh.gt",Sk.ffh.gt);Sk.ffh.ge=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.GtE))};goog.exportSymbol("Sk.ffh.ge",Sk.ffh.ge);Sk.ffh.ne=function(a,b){return Sk.builtin.bool(Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.NotEq))};goog.exportSymbol("Sk.ffh.ne",Sk.ffh.ne);
Sk.ffh.cliffordConjugate=function(a){return Sk.ffh.unaryExec("",SPECIAL_METHOD_CLIFFORD_CONJUGATE,a,"nb$cliffordConjugate")};goog.exportSymbol("Sk.ffh.cliffordConjugate",Sk.ffh.cliffordConjugate);Sk.ffh.conjugate=function(a){return Sk.ffi.isNum(a)?a:Sk.ffh.unaryExec("","__conjugate__",a)};goog.exportSymbol("Sk.ffh.conjugate",Sk.ffh.conjugate);Sk.ffh.determinant=function(a){return Sk.ffi.isNum(a)?a:Sk.ffh.unaryExec("determinant","__determinant__",a)};goog.exportSymbol("Sk.ffh.determinant",Sk.ffh.determinant);
Sk.ffh.cos=function(a){return Sk.ffh.unaryExec("cos","__cos__",a,"u$cos")};goog.exportSymbol("Sk.ffh.cos",Sk.ffh.cos);Sk.ffh.sin=function(a){return Sk.ffh.unaryExec("sin","__sin__",a,"u$sin")};goog.exportSymbol("Sk.ffh.sin",Sk.ffh.sin);Sk.ffh.tan=function(a){return Sk.ffh.unaryExec("tan","__tan__",a,"u$tan")};goog.exportSymbol("Sk.ffh.tan",Sk.ffh.tan);Sk.ffh.acos=function(a){return Sk.ffh.unaryExec("acos","__acos__",a,"u$acos")};goog.exportSymbol("Sk.ffh.acos",Sk.ffh.acos);
Sk.ffh.asin=function(a){return Sk.ffh.unaryExec("asin","__asin__",a,"u$asin")};goog.exportSymbol("Sk.ffh.asin",Sk.ffh.asin);Sk.ffh.atan=function(a){return Sk.ffh.unaryExec("atan","__atan__",a,"u$atan")};goog.exportSymbol("Sk.ffh.atan",Sk.ffh.atan);Sk.ffh.exp=function(a){return Sk.ffh.unaryExec("exp",SPECIAL_METHOD_EXP,a,"u$exp")};goog.exportSymbol("Sk.ffh.exp",Sk.ffh.exp);Sk.ffh.positive=function(a){return Sk.ffi.isFloat(a)?a:Sk.abstr.numberUnaryOp(a,Sk.abstr.unaryOp.UAdd)};
goog.exportSymbol("Sk.ffh.positive",Sk.ffh.positive);Sk.ffh.negative=function(a){return Sk.ffi.isFloat(a)?(a=Sk.ffi.remapToJs(a),Sk.builtin.numberToPy(-a)):Sk.abstr.numberUnaryOp(a,Sk.abstr.unaryOp.USub)};goog.exportSymbol("Sk.ffh.negative",Sk.ffh.negative);Sk.ffh.invert=function(a){return Sk.ffh.unaryExec("~","__invert__",a,"nb$invert")};goog.exportSymbol("Sk.ffh.invert",Sk.ffh.invert);
Sk.ffh.nonzero=function(a){return Sk.ffi.isFloat(a)?(a=Sk.ffi.remapToJs(a),Sk.ffi.booleanToPy(0!==a)):Sk.ffh.unaryExec("","__nonzero__",a,"nb$nonzero")};goog.exportSymbol("Sk.ffh.nonzero",Sk.ffh.nonzero);Sk.ffh.abs=function(a){return Sk.ffh.unaryExec("abs","__abs__",a,"u$abs")};goog.exportSymbol("Sk.ffh.abs",Sk.ffh.abs);Sk.ffh.magnitude=function(a){return Sk.ffh.unaryExec("magnitude","__magnitude__",a,"u$magnitude")};goog.exportSymbol("Sk.ffh.magnitude",Sk.ffh.magnitude);
Sk.ffh.quadrance=function(a){return Sk.ffh.unaryExec("quadrance","__quadrance__",a,"u$quadrance")};goog.exportSymbol("Sk.ffh.quadrance",Sk.ffh.quadrance);Sk.ffh.sqrt=function(a){return Sk.ffh.unaryExec("sqrt","__sqrt__",a,"u$sqrt")};goog.exportSymbol("Sk.ffh.sqrt",Sk.ffh.sqrt);
Sk.ffh.str=function(a){if(Sk.flyweight&&Sk.ffi.isFloat(a))return Sk.builtin.stringToPy(Sk.builtin.numberToFloatStringJs(a,10,!0));if(a.__str__)return Sk.ffi.callsim(a.__str__,a);if(a.tp$str)return a.tp$str.call(a);if(a.tp$repr)return a.tp$repr.call(a);throw Sk.ffi.notImplementedError("str");};goog.exportSymbol("Sk.ffh.str",Sk.ffh.str);
Sk.ffh.repr=function(a){if(Sk.flyweight&&Sk.ffi.isFloat(a))return Sk.builtin.stringToPy(Sk.builtin.numberToFloatStringJs(a,10,!0));if(a.__repr__)return Sk.ffi.callsim(a.__repr__,a);if(a.tp$repr)return a.tp$repr.call(a);throw Sk.ffi.notImplementedError("repr");};goog.exportSymbol("Sk.ffh.repr",Sk.ffh.repr);Sk.ffh.evaluate=function(a,b){return Sk.ffi.isFloat(a)||Sk.ffi.isInt(a)||Sk.ffi.isLong(a)?a:Sk.ffi.callsim(Sk.ffi.gattr(a,"evaluate"),b)};goog.exportSymbol("Sk.ffh.evaluate",Sk.ffh.evaluate);
Sk.ffh.promoteLongToFloat=function(a){goog.asserts.assert(Sk.ffi.isLong(a));a=Sk.ffh.str(a);a=Sk.ffi.remapToJs(a);goog.asserts.assertString(a);a=parseFloat(a);goog.asserts.assertNumber(a);return Sk.builtin.numberToPy(a)};goog.exportSymbol("Sk.ffh.promoteLongToFloat",Sk.ffh.promoteLongToFloat);Sk.builtin.enumerate=function(a,b){if(!(this instanceof Sk.builtin.enumerate))return new Sk.builtin.enumerate(a,b);Sk.builtin.pyCheckArgs("enumerate",arguments,1,2);if(!Sk.builtin.checkIterable(a))throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(a)+"' object is not iterable");if(void 0!==b)if(Sk.misceval.isIndex(b))b=Sk.misceval.asIndex(b);else throw new Sk.builtin.TypeError("'"+Sk.ffi.typeName(b)+"' object cannot be interpreted as an index");else b=0;var c=a.tp$iter();this.tp$iter=function(){return this};
this.$index=b;this.tp$iternext=function(){var a=c.tp$iternext();return void 0===a?void 0:new Sk.builtin.tuple([this.$index++,a])};this.__class__=Sk.builtin.enumerate;return this};Sk.builtin.enumerate.prototype.tp$name="enumerate";Sk.builtin.enumerate.prototype.ob$type=Sk.builtin.type.makeIntoTypeObj("enumerate",Sk.builtin.enumerate);Sk.builtin.enumerate.prototype.tp$getattr=Sk.builtin.object.prototype.GenericGetAttr;Sk.builtin.enumerate.prototype.__iter__=new Sk.builtin.func(function(a){return a.tp$iter()});
Sk.builtin.enumerate.prototype.next=new Sk.builtin.func(function(a){return a.tp$iternext()});Sk.sysmodules=new Sk.builtin.dict([]);Sk.realsyspath=void 0;Sk.importSearchPathForName=function(a,b,c){for(var d=(Sk.realsyspath?Sk.realsyspath:new Sk.builtin.list([])).tp$iter(),e=d.tp$iternext();void 0!==e;e=d.tp$iternext())for(var f=a.replace(/\./g,"/"),e=[e.v+"/"+f+b,e.v+"/"+f+"/__init__"+b],f=0;f<e.length;++f){var h=e[f];try{return Sk.read(h),h}catch(k){}}if(!c)throw new Sk.builtin.ImportError("No module named "+a);};
Sk.doOneTimeInitialization=function(){Sk.builtin.type.basesStr_=Sk.builtin.stringToPy("__bases__");Sk.builtin.type.mroStr_=Sk.builtin.stringToPy("__mro__");Sk.builtin.object.$d=new Sk.builtin.dict([]);Sk.builtin.object.$d.mp$ass_subscript(Sk.builtin.type.basesStr_,new Sk.builtin.tuple([]));Sk.builtin.object.$d.mp$ass_subscript(Sk.builtin.type.mroStr_,new Sk.builtin.tuple([Sk.builtin.object]))};
Sk.importSetUpPath=function(){if(!Sk.realsyspath){for(var a=[Sk.builtin.stringToPy("src/builtin"),Sk.builtin.stringToPy("src/lib"),Sk.builtin.stringToPy(".")],b=0;b<Sk.syspath.length;++b)a.push(Sk.builtin.stringToPy(Sk.syspath[b]));Sk.realsyspath=new Sk.builtin.list(a);Sk.doOneTimeInitialization()}};
Sk.importModuleInternalFromBody_=function(a,b,c,d){Sk.importSetUpPath();c="string"===typeof c?c:a;var e=c.split(".");if(1<e.length)try{return Sk.sysmodules.mp$subscript(e[0])}catch(f){var h=e.slice(0,e.length-1).join("."),k=Sk.importModuleInternalNoBody_(h,b,void 0),q=new Sk.builtin.module;Sk.sysmodules.mp$ass_subscript(a,q);a=davinciPy.skCompiler.compile(d,a+".py","exec");Sk.evaluateModule(q,a,b,c);Sk.storeModuleInParent(q,h,e);return k}else try{return Sk.sysmodules.mp$subscript(c)}catch(n){return e=
new Sk.builtin.module,Sk.sysmodules.mp$ass_subscript(a,e),a=davinciPy.skCompiler.compile(d,a+".py","exec"),Sk.evaluateModule(e,a,b,c),e}};
Sk.importModuleInternalNoBody_=function(a,b,c){goog.asserts.assertString(a,"name must be a string, e.g. '<stdin>'");goog.asserts.assertBoolean(b,"dumpJS must be a boolean");Sk.importSetUpPath();c="string"===typeof c?c:a;var d=c.split(".");if(1<d.length)try{return Sk.sysmodules.mp$subscript(d[0])}catch(e){var f=d.slice(0,d.length-1).join("."),h=Sk.importModuleInternalNoBody_(f,b,void 0),k=new Sk.builtin.module;Sk.sysmodules.mp$ass_subscript(a,k);var q=Sk.importSearchPathForName(a,".js",!0);q?a={funcname:"$builtinmodule",
code:Sk.read(q)}:(q=Sk.importSearchPathForName(a,".py",!1),a=davinciPy.skCompiler.compile(Sk.read(q),q,"exec"));Sk.evaluateModule(k,a,b,c);Sk.storeModuleInParent(k,f,d);return h}else try{return Sk.sysmodules.mp$subscript(c)}catch(n){return d=new Sk.builtin.module,Sk.sysmodules.mp$ass_subscript(a,d),(q=Sk.importSearchPathForName(a,".js",!0))?a={funcname:"$builtinmodule",code:Sk.read(q)}:(q=Sk.importSearchPathForName(a,".py",!1),a=davinciPy.skCompiler.compile(Sk.read(q),q,"exec")),Sk.evaluateModule(d,
a,b,c),d}};Sk.evaluateModule=function(a,b,c,d){var e=a.$js=b.code;null!=Sk.dateSet&&Sk.dateSet||(e="Sk.execStart = new Date();\n"+b.code,Sk.dateSet=!0);c&&(e=js_beautify(b.code,{indent_size:2,preserve_newlines:!1,brace_style:"expand"}),Sk.debugout(e));e+="\n"+b.funcname+"("+("Sk.builtin.stringToPy('"+d+"')")+");";b=goog.global.eval(e);b.__name__||(b.__name__=Sk.builtin.stringToPy(d));a.$d=b};Sk.storeModuleInParent=function(a,b,c){Sk.sysmodules.mp$subscript(b).tp$setattr(c[c.length-1],a)};
Sk.importModule=function(a,b){goog.asserts.assertString(a,"name must be a string, e.g. '<stdin>'");goog.asserts.assertBoolean(b,"dumpJS must be a boolean");return Sk.importModuleInternalNoBody_(a,b,void 0)};Sk.importMain=function(a,b){goog.asserts.assertString(a,"name must be a string, e.g. '<stdin>'");Sk.dateSet=!1;Sk.filesLoaded=!1;Sk.sysmodules=new Sk.builtin.dict([]);Sk.realsyspath=void 0;davinciPy.skCompiler.resetCompiler();return Sk.importModuleInternalNoBody_(a,"boolean"===typeof b?b:!1,"__main__")};
goog.exportSymbol("Sk.importMain",Sk.importMain);Sk.importMainWithBody=function(a,b,c){goog.asserts.assertString(a,"name must be a string, e.g. '<stdin>'");goog.asserts.assertBoolean(b,"dumpJS must be a boolean");goog.asserts.assertString(c,"body must be a string");Sk.dateSet=!1;Sk.filesLoaded=!1;Sk.sysmodules=new Sk.builtin.dict([]);Sk.realsyspath=void 0;davinciPy.skCompiler.resetCompiler();return Sk.importModuleInternalFromBody_(a,b,"__main__",c)};goog.exportSymbol("Sk.importMainWithBody",Sk.importMainWithBody);
Sk.builtin.__import__=function(a,b,c,d){b=Sk.importModuleInternalNoBody_(a,!1,void 0);return d&&0!==d.length?(a=Sk.sysmodules.mp$subscript(a),goog.asserts.assert(a),a):b};goog.exportSymbol("Sk.builtin.__import__",Sk.builtin.__import__);Sk.importStar=function(a,b){var c=Object.getOwnPropertyNames(a.$d),d;for(d in c)b[c[d]]=a.$d[c[d]]};goog.exportSymbol("Sk.importStar",Sk.importStar);Sk.builtin.timSort=function(a,b){this.list=new Sk.builtin.list(a.v);this.MIN_GALLOP=7;this.listlength=b?b:a.sq$length()};Sk.builtin.timSort.prototype.lt=function(a,b){return Sk.misceval.richCompareBool(a,b,Sk.misceval.compareOp.Lt)};Sk.builtin.timSort.prototype.le=function(a,b){return!this.lt(b,a)};Sk.builtin.timSort.prototype.setitem=function(a,b){this.list.v[a]=b};
Sk.builtin.timSort.prototype.binary_sort=function(a,b){for(var c=a.base+b;c<a.base+a.len;c++){for(var d=a.base,e=c,f=a.getitem(e);d<e;){var h=d+(e-d>>1);this.lt(f,a.getitem(h))?e=h:d=h+1}goog.asserts.assert(d===e);for(h=c;h>d;h--)a.setitem(h,a.getitem(h-1));a.setitem(d,f)}};
Sk.builtin.timSort.prototype.count_run=function(a){var b;if(1>=a.len){var c=a.len;b=!1}else if(c=2,this.lt(a.getitem(a.base+1),a.getitem(a.base))){b=!0;for(var d=a.base+2;d<a.base+a.len;d++)if(this.lt(a.getitem(d),a.getitem(d-1)))c++;else break}else for(b=!1,d=a.base+2;d<a.base+a.len&&!this.lt(a.getitem(d),a.getitem(d-1));d++)c++;return{run:new Sk.builtin.listSlice(a.list,a.base,c),descending:b}};
Sk.builtin.timSort.prototype.sort=function(){var a=new Sk.builtin.listSlice(this.list,0,this.listlength);if(!(2>a.len)){this.merge_init();for(var b=this.merge_compute_minrun(a.len);0<a.len;){var c=this.count_run(a);c.descending&&c.run.reverse();if(c.run.len<b){var d=c.run.len;c.run.len=b<a.len?b:a.len;this.binary_sort(c.run,d)}a.advance(c.run.len);this.pending.push(c.run);this.merge_collapse()}goog.asserts.assert(a.base==this.listlength);this.merge_force_collapse();goog.asserts.assert(1==this.pending.length);
goog.asserts.assert(0==this.pending[0].base);goog.asserts.assert(this.pending[0].len==this.listlength)}};
Sk.builtin.timSort.prototype.gallop=function(a,b,c,d){goog.asserts.assert(0<=c&&c<b.len);var e=this;d=d?function(a,b){return e.le(a,b)}:function(a,b){return e.lt(a,b)};var f=b.base+c,h=0,k=1,q;if(d(b.getitem(f),a)){for(q=b.len-c;k<q;)if(d(b.getitem(f+k),a)){h=k;try{k=(k<<1)+1}catch(n){k=q}}else break;k>q&&(k=q);h+=c;k+=c}else{for(q=c+1;k<q&&!d(b.getitem(f-k),a);){h=k;try{k=(k<<1)+1}catch(m){k=q}}k>q&&(k=q);f=c-h;h=c-k;k=f}goog.asserts.assert(-1<=h<k<=b.len);for(h+=1;h<k;)c=h+(k-h>>1),d(b.getitem(b.base+
c),a)?h=c+1:k=c;goog.asserts.assert(h==k);return k};Sk.builtin.timSort.prototype.merge_init=function(){this.min_gallop=this.MIN_GALLOP;this.pending=[]};
Sk.builtin.timSort.prototype.merge_lo=function(a,b){goog.asserts.assert(0<a.len&&0<b.len&&a.base+a.len==b.base);var c=this.min_gallop,d=a.base;a=a.copyitems();try{if(this.setitem(d,b.popleft()),d++,1!=a.len&&0!=b.len)for(var e,f;;){for(f=e=0;;)if(this.lt(b.getitem(b.base),a.getitem(a.base))){this.setitem(d,b.popleft());d++;if(0==b.len)return;f++;e=0;if(f>=c)break}else{this.setitem(d,a.popleft());d++;if(1==a.len)return;e++;f=0;if(e>=c)break}for(c+=1;;){this.min_gallop=c-=1<c;e=this.gallop(b.getitem(b.base),
a,0,!0);for(var h=a.base;h<a.base+e;h++)this.setitem(d,a.getitem(h)),d++;a.advance(e);if(1>=a.len)return;this.setitem(d,b.popleft());d++;if(0==b.len)return;f=this.gallop(a.getitem(a.base),b,0,!1);for(h=b.base;h<b.base+f;h++)this.setitem(d,b.getitem(h)),d++;b.advance(f);if(0==b.len)return;this.setitem(d,a.popleft());d++;if(1==a.len)return;if(e<this.MIN_GALLOP&&f<this.MIN_GALLOP)break;c++;this.min_gallop=c}}}finally{goog.asserts.assert(0<=a.len&&0<=b.len);for(h=b.base;h<b.base+b.len;h++)this.setitem(d,
b.getitem(h)),d++;for(h=a.base;h<a.base+a.len;h++)this.setitem(d,a.getitem(h)),d++}};
Sk.builtin.timSort.prototype.merge_hi=function(a,b){goog.asserts.assert(0<a.len&&0<b.len&&a.base+a.len==b.base);var c=this.min_gallop,d=b.base+b.len;b=b.copyitems();try{if(d--,this.setitem(d,a.popright()),0!=a.len&&1!=b.len)for(var e,f,h,k;;){for(f=e=0;;)if(h=a.getitem(a.base+a.len-1),k=b.getitem(b.base+b.len-1),this.lt(k,h)){d--;this.setitem(d,h);a.len--;if(0==a.len)return;e++;f=0;if(e>=c)break}else{d--;this.setitem(d,k);b.len--;if(1==b.len)return;f++;e=0;if(f>=c)break}for(c+=1;;){this.min_gallop=
c-=1<c;k=b.getitem(b.base+b.len-1);var q=this.gallop(k,a,a.len-1,!0);e=a.len-q;for(var n=a.base+a.len-1;n>a.base+q-1;n--)d--,this.setitem(d,a.getitem(n));a.len-=e;if(0==a.len)return;d--;this.setitem(d,b.popright());if(1==b.len)return;h=a.getitem(a.base+a.len-1);q=this.gallop(h,b,b.len-1,!1);f=b.len-q;for(n=b.base+b.len-1;n>b.base+q-1;n--)d--,this.setitem(d,b.getitem(n));b.len-=f;if(1>=b.len)return;d--;this.setitem(d,a.popright());if(0==a.len)return;if(e<this.MIN_GALLOP&&f<this.MIN_GALLOP)break;c++;
this.min_gallop=c}}}finally{goog.asserts.assert(0<=a.len&&0<=b.len);for(n=a.base+a.len-1;n>a.base-1;n--)d--,this.setitem(d,a.getitem(n));for(n=b.base+b.len-1;n>b.base-1;n--)d--,this.setitem(d,b.getitem(n))}};
Sk.builtin.timSort.prototype.merge_at=function(a){0>a&&(a=this.pending.length+a);var b=this.pending[a],c=this.pending[a+1];goog.asserts.assert(0<b.len&&0<c.len);goog.asserts.assert(b.base+b.len==c.base);this.pending[a]=new Sk.builtin.listSlice(this.list,b.base,b.len+c.len);this.pending.splice(a+1,1);a=this.gallop(c.getitem(c.base),b,0,!0);b.advance(a);0!=b.len&&(c.len=this.gallop(b.getitem(b.base+b.len-1),c,c.len-1,!1),0!=c.len&&(b.len<=c.len?this.merge_lo(b,c):this.merge_hi(b,c)))};
Sk.builtin.timSort.prototype.merge_collapse=function(){for(var a=this.pending;1<a.length;)if(3<=a.length&&a[a.length-3].len<=a[a.length-2].len+a[a.length-1].len)a[a.length-3].len<a[a.length-1].len?this.merge_at(-3):this.merge_at(-2);else if(a[a.length-2].len<=a[a.length-1].len)this.merge_at(-2);else break};Sk.builtin.timSort.prototype.merge_force_collapse=function(){for(var a=this.pending;1<a.length;)3<=a.length&&a[a.length-3].len<a[a.length-1].len?this.merge_at(-3):this.merge_at(-2)};
Sk.builtin.timSort.prototype.merge_compute_minrun=function(a){for(var b=0;64<=a;)b|=a&1,a>>=1;return a+b};Sk.builtin.listSlice=function(a,b,c){this.list=a;this.base=b;this.len=c};Sk.builtin.listSlice.prototype.copyitems=function(){var a=this.base,b=this.base+this.len;goog.asserts.assert(0<=a<=b);return new Sk.builtin.listSlice(new Sk.builtin.list(this.list.v.slice(a,b)),0,this.len)};Sk.builtin.listSlice.prototype.advance=function(a){this.base+=a;this.len-=a;goog.asserts.assert(this.base<=this.list.sq$length())};
Sk.builtin.listSlice.prototype.getitem=function(a){return this.list.v[a]};Sk.builtin.listSlice.prototype.setitem=function(a,b){this.list.v[a]=b};Sk.builtin.listSlice.prototype.popleft=function(){var a=this.list.v[this.base];this.base++;this.len--;return a};Sk.builtin.listSlice.prototype.popright=function(){this.len--;return this.list.v[this.base+this.len]};
Sk.builtin.listSlice.prototype.reverse=function(){for(var a=this.list,b=this.base,c=b+this.len-1;b<c;){var d=a.v[b];a.v[b]=a.v[c];a.v[c]=d;b++;c--}};goog.exportSymbol("Sk.builtin.listSlice",Sk.builtin.listSlice);goog.exportSymbol("Sk.builtin.timSort",Sk.builtin.timSort);Sk.builtins={range:Sk.builtin.range,round:Sk.builtin.round,len:Sk.builtin.len,min:Sk.builtin.min,max:Sk.builtin.max,sum:Sk.builtin.sum,zip:Sk.builtin.zip,abs:Sk.builtin.abs,fabs:Sk.builtin.abs,ord:Sk.builtin.ord,chr:Sk.builtin.chr,hex:Sk.builtin.hex,oct:Sk.builtin.oct,bin:Sk.builtin.bin,dir:Sk.builtin.dir,repr:Sk.builtin.repr,open:Sk.builtin.open,isinstance:Sk.builtin.isinstance,hash:Sk.builtin.hash,getattr:Sk.builtin.getattr,float_$rw$:Sk.builtin.float_,int_$rw$:Sk.builtin.int_,hasattr:Sk.builtin.hasattr,
map:Sk.builtin.map,filter:Sk.builtin.filter,reduce:Sk.builtin.reduce,sorted:Sk.builtin.sorted,bool:Sk.builtin.bool,any:Sk.builtin.any,all:Sk.builtin.all,enumerate:Sk.builtin.enumerate,AttributeError:Sk.builtin.AttributeError,ValueError:Sk.builtin.ValueError,Exception:Sk.builtin.Exception,ZeroDivisionError:Sk.builtin.ZeroDivisionError,AssertionError:Sk.builtin.AssertionError,ImportError:Sk.builtin.ImportError,IndexError:Sk.builtin.IndexError,KeyError:Sk.builtin.KeyError,TypeError:Sk.builtin.TypeError,
NameError:Sk.builtin.NameError,IOError:Sk.builtin.IOError,NotImplementedError:Sk.builtin.NotImplementedError,SystemExit:Sk.builtin.SystemExit,OverflowError:Sk.builtin.OverflowError,OperationError:Sk.builtin.OperationError,dict:Sk.builtin.dict,file:Sk.builtin.file,"function":Sk.builtin.func,generator:Sk.builtin.generator,list:Sk.builtin.list,long_$rw$:Sk.builtin.lng,method:Sk.builtin.method,object:Sk.builtin.object,slice:Sk.builtin.slice,str:Sk.builtin.StringPy,set:Sk.builtin.set,tuple:Sk.builtin.tuple,
type:Sk.builtin.type,input:Sk.builtin.input,raw_input:Sk.builtin.raw_input,jseval:Sk.builtin.jseval,jsmillis:Sk.builtin.jsmillis,quit:Sk.builtin.quit,exit:Sk.builtin.quit,bytearray:Sk.builtin.bytearray,callable:Sk.builtin.callable,complex:Sk.builtin.complex,delattr:Sk.builtin.delattr,divmod:Sk.builtin.divmod,eval_$rn$:Sk.builtin.eval_,execfile:Sk.builtin.execfile,format:Sk.builtin.format,frozenset:Sk.builtin.frozenset,globals:Sk.builtin.globals,help:Sk.builtin.help,issubclass:Sk.builtin.issubclass,
iter:Sk.builtin.iter,locals:Sk.builtin.locals,memoryview:Sk.builtin.memoryview,next:Sk.builtin.next_,pow:Sk.builtin.pow,property:Sk.builtin.property,reload:Sk.builtin.reload,reversed:Sk.builtin.reversed,"super":Sk.builtin.superbi,unichr:Sk.builtin.unichr,vars:Sk.builtin.vars,xrange:Sk.builtin.xrange,apply_$rn$:Sk.builtin.apply_,buffer:Sk.builtin.buffer,coerce:Sk.builtin.coerce,intern:Sk.builtin.intern};goog.exportSymbol("Sk.builtins",Sk.builtins);Sk.stdlib=Sk.stdlib||{};Sk.stdlib.direction=function(a,b,c){return a?0:b?1:2};goog.exportSymbol("Sk.stdlib.direction",Sk.stdlib.direction);Sk.stdlib.orientation=function(a,b,c){return 0<a?1:0>a?-1:0<b?1:0>b?-1:0<c?1:0>c?-1:2};goog.exportSymbol("Sk.stdlib.orientation",Sk.stdlib.orientation);Sk.math={};Sk.math.PI_TIMES_1_OVER_4=Math.PI/4;Sk.math.PI_TIMES_2_OVER_4=Math.PI/2;Sk.math.PI_TIMES_3_OVER_4=3*Math.PI/4;Sk.math.PI_TIMES_4_OVER_4=Math.PI;Sk.math.PI_TIMES_5_OVER_4=5*Math.PI/4;Sk.math.PI_TIMES_6_OVER_4=3*Math.PI/2;Sk.math.PI_TIMES_7_OVER_4=7*Math.PI/4;Sk.math.PI_TIMES_8_OVER_4=2*Math.PI;Sk.math.EPSILON=1E-9;Sk.math.isCloseTo=function(a,b,c){return Math.abs(a-b)<c};
Sk.math.cos=function(a){return Sk.snapToAngle?Sk.math.isCloseTo(Math.abs(a),0,Sk.math.EPSILON)?1:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_1_OVER_4,Sk.math.EPSILON)?+Math.SQRT1_2:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_2_OVER_4,Sk.math.EPSILON)?0:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_3_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_4_OVER_4,Sk.math.EPSILON)?-1:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_5_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:
Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_6_OVER_4,Sk.math.EPSILON)?0:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_7_OVER_4,Sk.math.EPSILON)?+Math.SQRT1_2:Sk.math.isCloseTo(Math.abs(a),Sk.math.PI_TIMES_8_OVER_4,Sk.math.EPSILON)?1:Math.cos(a):Math.cos(a)};
Sk.math.sin=function(a){return Sk.snapToAngle?Sk.math.isCloseTo(a,0,Sk.math.EPSILON)?0:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_1_OVER_4,Sk.math.EPSILON)?Math.SQRT1_2:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_2_OVER_4,Sk.math.EPSILON)?1:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_3_OVER_4,Sk.math.EPSILON)?Math.SQRT1_2:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_4_OVER_4,Sk.math.EPSILON)?0:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_5_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_6_OVER_4,Sk.math.EPSILON)?
-1:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_7_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:Sk.math.isCloseTo(a,+Sk.math.PI_TIMES_8_OVER_4,Sk.math.EPSILON)?0:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_1_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_2_OVER_4,Sk.math.EPSILON)?-1:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_3_OVER_4,Sk.math.EPSILON)?-Math.SQRT1_2:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_4_OVER_4,Sk.math.EPSILON)?0:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_5_OVER_4,Sk.math.EPSILON)?+Math.SQRT1_2:
Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_6_OVER_4,Sk.math.EPSILON)?1:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_7_OVER_4,Sk.math.EPSILON)?+Math.SQRT1_2:Sk.math.isCloseTo(a,-Sk.math.PI_TIMES_8_OVER_4,Sk.math.EPSILON)?0:Math.sin(a):Math.sin(a)};Sk.math.tan=function(a){return Sk.snapToAngle?Sk.math.sin(a)/Sk.math.cos(a):Math.tan(a)};
(function(){Sk.builtin.defineMath=function(a){function b(a,b,e){goog.asserts.assertString(a);goog.asserts.assertFunction(b);goog.asserts.assertFunction(e);return function(f){Sk.ffi.checkFunctionArgs(a,arguments,1,1);return Sk.ffi.isNum(f)?Sk.builtin.numberToPy(b(Sk.ffi.remapToJs(f))):e(f)}}Sk.ffi.checkFunctionArgs("defineMath",arguments,1,1);a.e=Sk.builtin.numberToPy(Math.E);a.pi=Sk.builtin.numberToPy(Math.PI);a.sqrt2=Sk.builtin.numberToPy(Math.SQRT2);a.sqrt1_2=Sk.builtin.numberToPy(Math.SQRT1_2);
a.tao=Sk.builtin.numberToPy(2*Math.PI);a.cliffordConjugate=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("cliffordConjugate",arguments,1,1);return Sk.ffi.isNum(a)?a:Sk.ffh.cliffordConjugate(a)});a.fabs=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("fabs",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));return Sk.builtin.numberToPy(Math.abs(Sk.builtin.asnum$(a)))});a.asin=Sk.ffi.functionPy(function(a){return Sk.ffh.asin(a)});a.acos=Sk.ffi.functionPy(function(a){return Sk.ffh.acos(a)});
a.atan=Sk.ffi.functionPy(function(a){return Sk.ffh.atan(a)});a.atan2=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("atan2",arguments,2,2);Sk.builtin.pyCheckType("y","number",Sk.builtin.checkNumber(a));Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(b));return Sk.builtin.numberToPy(Math.atan2(Sk.builtin.asnum$(a),Sk.builtin.asnum$(b)))});a.exp=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("exp",arguments,1,1);return Sk.ffi.isNum(a)?Sk.builtin.numberToPy(Math.exp(Sk.ffi.remapToJs(a))):
Sk.ffh.exp(a)});a.cos=Sk.ffi.functionPy(b("cos",Sk.math.cos,Sk.ffh.cos));a.sin=Sk.ffi.functionPy(b("sin",Sk.math.sin,Sk.ffh.sin));a.tan=Sk.ffi.functionPy(b("tan",Sk.math.tan,Sk.ffh.tan));a.asinh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("asinh",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));a=Sk.builtin.asnum$(a);var b=a+Math.sqrt(a*a+1);return Sk.builtin.numberToPy(Math.log(b))});a.acosh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("acosh",arguments,
1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));a=Sk.builtin.asnum$(a);var b=a+Math.sqrt(a*a-1);return Sk.builtin.numberToPy(Math.log(b))});a.atanh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("atanh",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));a=Sk.builtin.asnum$(a);return Sk.builtin.numberToPy(Math.log((1+a)/(1-a))/2)});a.sinh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("sinh",arguments,1,1);Sk.builtin.pyCheckType("x","number",
Sk.builtin.checkNumber(a));a=Sk.builtin.asnum$(a);var b=Math.pow(Math.E,a);return Sk.builtin.numberToPy((b-1/b)/2)});a.cosh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("cosh",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));a=Sk.builtin.asnum$(a);var b=Math.pow(Math.E,a);return Sk.builtin.numberToPy((b+1/b)/2)});a.tanh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("tanh",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));
a=Sk.builtin.asnum$(a);var b=Math.pow(Math.E,a),e=1/b;return Sk.builtin.numberToPy((b-e)/2/((b+e)/2))});a.ceil=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("ceil",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));return Sk.builtin.numberToPy(Math.ceil(Sk.builtin.asnum$(a)))});a.floor=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("floor",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));return Sk.builtin.numberToPy(Math.floor(Sk.builtin.asnum$(a)))});
a.sqrt=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("sqrt",arguments,1,1);return Sk.ffi.isNum(a)?Sk.builtin.numberToPy(Math.sqrt(Sk.ffi.remapToJs(a))):Sk.ffh.sqrt(a)});a.trunc=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("trunc",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));return Sk.builtin.numberToPy(Sk.builtin.asnum$(a)|0)});a.log=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("log",arguments,1,2);Sk.builtin.pyCheckType("x","number",
Sk.builtin.checkNumber(a));if(void 0===b)return Sk.builtin.numberToPy(Math.log(Sk.builtin.asnum$(a)));Sk.builtin.pyCheckType("base","number",Sk.builtin.checkNumber(b));var e=Math.log(Sk.builtin.asnum$(a))/Math.log(Sk.builtin.asnum$(b));return Sk.builtin.numberToPy(e)});a.log10=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("log10",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));var b=Math.log(Sk.builtin.asnum$(a))/Math.log(10);return Sk.builtin.numberToPy(b)});
a.pow=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("pow",arguments,2,2);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));Sk.builtin.pyCheckType("y","number",Sk.builtin.checkNumber(b));return Sk.builtin.numberToPy(Math.pow(Sk.builtin.asnum$(a),Sk.builtin.asnum$(b)))});a.radians=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("radians",arguments,1,1);Sk.builtin.pyCheckType("deg","number",Sk.builtin.checkNumber(a));var b=Math.PI/180*Sk.builtin.asnum$(a);return Sk.builtin.numberToPy(b)});
a.degrees=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("degrees",arguments,1,1);Sk.builtin.pyCheckType("rad","number",Sk.builtin.checkNumber(a));var b=180/Math.PI*Sk.builtin.asnum$(a);return Sk.builtin.numberToPy(b)});a.hypot=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("hypot",arguments,2,2);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));Sk.builtin.pyCheckType("y","number",Sk.builtin.checkNumber(b));a=Sk.builtin.asnum$(a);b=Sk.builtin.asnum$(b);return Sk.builtin.numberToPy(Math.sqrt(a*
a+b*b))});a.factorial=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("factorial",arguments,1,1);Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(a));a=Math.floor(Sk.builtin.asnum$(a));for(var b=1,e=2;e<=a;e++)b*=e;return Sk.ffi.numberToIntPy(b)});a.conjugate=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("conjugate",arguments,1,1);return Sk.ffi.isNum(a)?a:Sk.ffh.conjugate(a)});a.det=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("det",arguments,1,1);return Sk.ffh.determinant(a)});
a.magnitude=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("magnitude",arguments,1,1);return Sk.ffh.magnitude(a)});a.quadrance=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("quadrance",arguments,1,1);return Sk.ffh.quadrance(a)})}}).call(this);Sk.matrix=Sk.matrix||{};Sk.matrix.MATRIX_2x1="Matrix2x1";Sk.matrix.MATRIX_2x2="Matrix2x2";Sk.matrix.MATRIX_1x2="Matrix1x2";
(function(){Sk.builtin.defineMatrix=function(a){Sk.ffi.checkFunctionArgs("defineMatrix",arguments,1,1);a[Sk.matrix.MATRIX_2x1]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs(Sk.matrix.MATRIX_2x1,arguments,2,2);Sk.ffi.referenceToPy({elements:[b,c]},Sk.matrix.MATRIX_2x1,void 0,a)});c.__add__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.add(f[0],h[0]),f=Sk.ffh.add(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],
k,f)});c.__sub__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.sub(f[0],h[0]),f=Sk.ffh.sub(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],k,f)});c.__mul__=Sk.ffi.functionPy(function(b,c){if(Sk.ffi.isInstance(c,Sk.matrix.MATRIX_2x1))throw Sk.ffi.assertionError("multiplication with 2x1 is not supported.");var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.mul(f[0],c),f=Sk.ffh.mul(f[1],c);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],h,
f)});c.__rmul__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.mul(c,f[0]),f=Sk.ffh.mul(c,f[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],h,f)});c.__div__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.div(f[0],c),f=Sk.ffh.div(f[1],c);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],h,f)});c.__conjugate__=Sk.ffi.functionPy(function(b){Sk.ffi.checkMethodArgs("conjugate",arguments,0,0);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],Sk.ffh.conjugate(Sk.ffh.getitem(b,
0)),Sk.ffh.conjugate(Sk.ffh.getitem(b,1)))});c.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "transpose":return Sk.ffi.callableToPy(a,c,function(f){Sk.ffi.checkMethodArgs(c,arguments,0,0);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],Sk.ffh.getitem(b,0),Sk.ffh.getitem(b,1))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.matrix.MATRIX_2x1);}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.matrix.MATRIX_2x1);
}});c.__getitem__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("[]",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);var c=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(a).elements;switch(c){case 0:return h[0];case 1:return h[1]}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a).elements;a=[a[0],a[1]].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(", ");return Sk.builtin.stringToPy("("+a+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a).elements;a=[a[0],a[1]].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy(Sk.matrix.MATRIX_2x1+"("+a+")")})},Sk.matrix.MATRIX_2x1,[]);a[Sk.matrix.MATRIX_1x2]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs(Sk.matrix.MATRIX_1x2,arguments,2,2);Sk.ffi.referenceToPy({elements:[b,c]},Sk.matrix.MATRIX_1x2,void 0,a)});c.__add__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,
h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.add(f[0],h[0]),f=Sk.ffh.add(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],k,f)});c.__sub__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.sub(f[0],h[0]),f=Sk.ffh.sub(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],k,f)});c.__mul__=Sk.ffi.functionPy(function(b,c){if(Sk.ffi.isInstance(c,Sk.matrix.MATRIX_2x1))return Sk.ffh.add(Sk.ffh.mul(Sk.ffh.getitem(b,0),Sk.ffh.getitem(c,0)),Sk.ffh.mul(Sk.ffh.getitem(b,
1),Sk.ffh.getitem(c,1)));if(Sk.ffi.isInstance(c,Sk.matrix.MATRIX_1x2))throw Sk.ffi.assertionError("multiplication with 2x1 is not supported.");var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.mul(f[0],c),f=Sk.ffh.mul(f[1],c);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],h,f)});c.__rmul__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.mul(c,f[0]),f=Sk.ffh.mul(c,f[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],h,f)});c.__div__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,
h=Sk.ffh.div(f[0],c),f=Sk.ffh.div(f[1],c);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],h,f)});c.__conjugate__=Sk.ffi.functionPy(function(b){Sk.ffi.checkMethodArgs("conjugate",arguments,0,0);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_1x2],Sk.ffh.conjugate(Sk.ffh.getitem(b,0)),Sk.ffh.conjugate(Sk.ffh.getitem(b,1)))});c.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "transpose":return Sk.ffi.callableToPy(a,c,function(f){Sk.ffi.checkMethodArgs(c,arguments,0,0);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],
Sk.ffh.getitem(b,0),Sk.ffh.getitem(b,1))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.matrix.MATRIX_1x2);}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.matrix.MATRIX_1x2);}});c.__getitem__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("[]",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);var c=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(a).elements;switch(c){case 0:return h[0];
case 1:return h[1]}});c.__str__=Sk.ffi.functionPy(function(a){a=[Sk.ffh.getitem(a,0),Sk.ffh.getitem(a,1)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(" ");return Sk.builtin.stringToPy("["+a+"]")});c.__repr__=Sk.ffi.functionPy(function(a){a=[Sk.ffh.getitem(a,0),Sk.ffh.getitem(a,1)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy(Sk.matrix.MATRIX_1x2+"("+a+")")})},Sk.matrix.MATRIX_1x2,[]);a[Sk.matrix.MATRIX_2x2]=Sk.ffi.buildClass(a,
function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs(Sk.matrix.MATRIX_2x2,arguments,2,2);Sk.ffi.checkArgType("one",Sk.matrix.MATRIX_2x1,Sk.ffi.isInstance(b,Sk.matrix.MATRIX_2x1),b);Sk.ffi.checkArgType("two",Sk.matrix.MATRIX_2x1,Sk.ffi.isInstance(c,Sk.matrix.MATRIX_2x1),c);Sk.ffi.referenceToPy({elements:[b,c]},Sk.matrix.MATRIX_2x2,void 0,a)});c.__add__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.add(f[0],h[0]),
f=Sk.ffh.add(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],k,f)});c.__sub__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffi.remapToJs(c).elements,k=Sk.ffh.sub(f[0],h[0]),f=Sk.ffh.sub(f[1],h[1]);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],k,f)});c.__mul__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffh.getitem(Sk.ffh.getitem(b,0),0),h=Sk.ffh.getitem(Sk.ffh.getitem(b,0),1),k=Sk.ffh.getitem(Sk.ffh.getitem(b,1),0),q=Sk.ffh.getitem(Sk.ffh.getitem(b,1),1);if(Sk.ffi.isInstance(c,
Sk.matrix.MATRIX_2x2)){var n=Sk.ffh.getitem(Sk.ffh.getitem(c,0),0),m=Sk.ffh.getitem(Sk.ffh.getitem(c,0),1),g=Sk.ffh.getitem(Sk.ffh.getitem(c,1),0),l=Sk.ffh.getitem(Sk.ffh.getitem(c,1),1),p=Sk.ffh.add(Sk.ffh.mul(f,n),Sk.ffh.mul(k,m)),n=Sk.ffh.add(Sk.ffh.mul(h,n),Sk.ffh.mul(q,m)),f=Sk.ffh.add(Sk.ffh.mul(f,g),Sk.ffh.mul(k,l)),h=Sk.ffh.add(Sk.ffh.mul(h,g),Sk.ffh.mul(q,l)),k=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],p,n),h=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],f,h);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],
k,h)}if(Sk.ffi.isInstance(c,Sk.matrix.MATRIX_2x1))return p=Sk.ffh.getitem(c,0),g=Sk.ffh.getitem(c,1),k=Sk.ffh.add(Sk.ffh.mul(f,p),Sk.ffh.mul(k,g)),h=Sk.ffh.add(Sk.ffh.mul(h,p),Sk.ffh.mul(q,g)),Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],k,h);p=Sk.ffh.mul(f,c);n=Sk.ffh.mul(h,c);f=Sk.ffh.mul(k,c);h=Sk.ffh.mul(q,c);k=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],p,n);h=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],f,h);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],k,h)});c.__rmul__=Sk.ffi.functionPy(function(b,c){var f=
Sk.ffh.getitem(Sk.ffh.getitem(b,0),0),h=Sk.ffh.getitem(Sk.ffh.getitem(b,0),1),k=Sk.ffh.getitem(Sk.ffh.getitem(b,1),0),q=Sk.ffh.getitem(Sk.ffh.getitem(b,1),1);if(Sk.ffi.isInstance(c,Sk.matrix.MATRIX_1x2))var n=Sk.ffh.getitem(Sk.ffh.getitem(c,0),0),m=Sk.ffh.getitem(Sk.ffh.getitem(c,0),1),g=Sk.ffh.getitem(Sk.ffh.getitem(c,1),0),l=Sk.ffh.getitem(Sk.ffh.getitem(c,1),1),p=Sk.ffh.add(Sk.ffh.mul(f,n),Sk.ffh.mul(k,m)),n=Sk.ffh.add(Sk.ffh.mul(h,n),Sk.ffh.mul(q,m)),f=Sk.ffh.add(Sk.ffh.mul(f,g),Sk.ffh.mul(k,
l)),h=Sk.ffh.add(Sk.ffh.mul(h,g),Sk.ffh.mul(q,l));else p=Sk.ffh.mul(c,f),n=Sk.ffh.mul(c,h),f=Sk.ffh.mul(c,k),h=Sk.ffh.mul(c,q);p=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],p,n);h=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],f,h);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],p,h)});c.__div__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b).elements,h=Sk.ffh.div(f[0],c),f=Sk.ffh.div(f[1],c);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],h,f)});c.__conjugate__=Sk.ffi.functionPy(function(b){Sk.ffi.checkMethodArgs("conjugate",
arguments,0,0);return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],Sk.ffh.conjugate(Sk.ffh.getitem(b,0)),Sk.ffh.conjugate(Sk.ffh.getitem(b,1)))});c.__determinant__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("determinant",arguments,0,0);var b=Sk.ffh.getitem(Sk.ffh.getitem(a,0),0),c=Sk.ffh.getitem(Sk.ffh.getitem(a,0),1),h=Sk.ffh.getitem(Sk.ffh.getitem(a,1),0),k=Sk.ffh.getitem(Sk.ffh.getitem(a,1),1);return Sk.ffh.sub(Sk.ffh.mul(b,k),Sk.ffh.mul(c,h))});c.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);
switch(c){case "transpose":return Sk.ffi.callableToPy(a,c,function(f){Sk.ffi.checkMethodArgs(c,arguments,0,0);var h=Sk.ffh.getitem(b,0),k=Sk.ffh.getitem(b,1),q=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],Sk.ffh.getitem(h,0),Sk.ffh.getitem(k,0)),h=Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x1],Sk.ffh.getitem(h,1),Sk.ffh.getitem(k,1));return Sk.ffi.callsim(a[Sk.matrix.MATRIX_2x2],q,h)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.matrix.MATRIX_2x2);}});c.__setattr__=Sk.ffi.functionPy(function(a,
b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.matrix.MATRIX_2x2);}});c.__getitem__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("[]",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);var c=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(a).elements;switch(c){case 0:return h[0];case 1:return h[1]}});c.__str__=Sk.ffi.functionPy(function(a){a=[Sk.ffh.getitem(a,0),Sk.ffh.getitem(a,1)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(" ");
return Sk.builtin.stringToPy("["+a+"]")});c.__repr__=Sk.ffi.functionPy(function(a){a=[Sk.ffh.getitem(a,0),Sk.ffh.getitem(a,1)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy(Sk.matrix.MATRIX_2x2+"("+a+")")})},Sk.matrix.MATRIX_2x2,[])}}).call(this);(function(){Sk.builtin.defineComplex=function(a,b){function c(a){return Sk.ffi.isInstance(a,b)}function d(a,b){return Math.sqrt(a*a+b*b)}function e(a,b,c){var d,g,e,p,f;e=[];d=function(a,b){var d;if(0!==a){0<=a?0<e.length&&e.push("+"):e.push("-");d=Math.abs(a);if(1===d)return e.push(b);e.push(d.toString());if("1"!==b)return e.push(c),e.push(b)}};g=p=0;for(f=a.length-1;0<=f?p<=f:p>=f;g=0<=f?++p:--p)d(a[g],b[g]);return 0<e.length?e.join(""):"0"}function f(c,d){return Sk.ffi.callsim(a[b],Sk.ffi.numberToFloatPy(c),
Sk.ffi.numberToFloatPy(d))}Sk.ffi.checkFunctionArgs("defineComplex",arguments,2,2);var h=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG];a[b]=Sk.ffi.buildClass(a,function(d,q){q.__init__=Sk.ffi.functionPy(function(a,c,d){Sk.ffi.checkMethodArgs(b,arguments,2,2);Sk.ffi.checkArgType("real",h,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("imag",h,Sk.ffi.isNum(d),d);Sk.ffi.referenceToPy({x:Sk.ffi.remapToJs(c),y:Sk.ffi.remapToJs(d)},b,void 0,a)});q.__getattr__=Sk.ffi.functionPy(function(b,c){var d=
Sk.ffi.remapToJs(b);switch(c){case "real":return Sk.ffi.numberToFloatPy(d.x);case "imag":return Sk.ffi.numberToFloatPy(d.y);case "abs":return Sk.ffi.callableToPy(a,c,function(a){return Sk.ffi.numberToFloatPy(Math.sqrt(d.x*d.x+d.y*d.y))});case "conjugate":return Sk.ffi.callableToPy(a,c,function(a){return f(d.x,-d.y)});case "exp":return Sk.ffi.callableToPy(a,c,function(a){a=Math.exp(d.x);var b=Sk.math.cos(d.y),c=Sk.math.sin(d.y);return f(a*b,a*c)})}});q.__add__=Sk.ffi.functionPy(function(a,d){var e=
Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(d);if(c(d))return f(e.x+l.x,e.y+l.y);if(Sk.ffi.isNum(d))return f(e.x+l,e.y);throw Sk.ffi.err.argument("other").mustHaveType(b);});q.__radd__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkArgType("other",h,Sk.ffi.isNum(b),b);var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a);return f(c+d.x,d.y)});q.__iadd__=Sk.ffi.functionPy(function(a,d){var e=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(d);if(Sk.ffi.isNum(d))e.x+=l;else if(c(d))e.x+=l.x,e.y+=l.y;else throw Sk.ffi.err.argument("other").mustHaveType([b,
h]);return a});q.__sub__=Sk.ffi.functionPy(function(a,d){var e=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(d);if(c(d))return f(e.x-l.x,e.y-l.y);if(Sk.ffi.isNum(d))return f(e.x-l,e.y);throw Sk.ffi.err.argument("other").mustHaveType([b,h]);});q.__rsub__=Sk.ffi.functionPy(function(a,b){var c,d;c=Sk.ffi.remapToJs(b);d=Sk.ffi.remapToJs(a);if(Sk.ffi.isNum(b))return c-=d.x,d=-d.y,f(c,d);throw Sk.ffi.err.argument("other").mustHaveType(h);});q.__isub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),
d=Sk.ffi.remapToJs(b);Sk.ffi.isNum(b)?c.x-=d:(c.x-=d.x,c.y-=d.y);return a});q.__mul__=Sk.ffi.functionPy(function(a,b){var d,e;e=Sk.ffi.remapToJs(a);var p=Sk.ffi.remapToJs(b);if(c(b))return d=e.x*p.x-e.y*p.y,e=e.y*p.x+e.x*p.y,f(d,e);if(Sk.ffi.isNum(b))return d=e.x*p,e=e.y*p,f(d,e)});q.__rmul__=Sk.ffi.functionPy(function(a,b){var d,e;e=Sk.ffi.remapToJs(b);var p=Sk.ffi.remapToJs(a);if(c(b))return d=p.x*e.x-p.y*e.y,e=p.y*e.x+p.x*e.y,f(d,e);if(Sk.ffi.isNum(b))return d=e*p.x,e*=p.y,f(d,e)});q.__imul__=
Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.x,e=c.y,f=Sk.ffi.remapToJs(b);Sk.ffi.isNum(b)?(c.x*=f,c.y*=f):(c.x=d*f.x-e*f.y,c.y=e*f.x+d*f.y);return a});q.__div__=Sk.ffi.functionPy(function(a,d){var e=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(d);if(c(d)){var p=l.x*l.x+l.y*l.y;return f((e.x*l.x+e.y*l.y)/p,(e.y*l.x-e.x*l.y)/p)}if(Sk.ffi.isNum(d))return f(e.x/l,e.y/l);Sk.ffi.checkArgType("other",[b,h],!1,d)});q.__rdiv__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkArgType("other",h,Sk.ffi.isNum(b),
b);var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a);if(Sk.ffi.isNum(b)){var e=d.x*d.x+d.y*d.y;return f(c*d.x/e,-c*d.y/e)}throw Sk.ffi.err.argument("other").mustHaveType(h);});q.__idiv__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.x,e=c.y,f=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))c.x/=f,c.y/=f;else{var r=f.x*f.x+f.y*f.y;c.x=(d*f.x+e*f.y)/r;c.y=(e*f.x-d*f.y)/r}return a});q.__abs__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.ffi.numberToFloatPy(Math.sqrt(a.x*a.x+a.y*
a.y))});q.__conjugate__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return f(a.x,-a.y)});q.__cos__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b=a.x,c=a.y;a=Sk.math.cos(b);var d=(Math.pow(Math.E,c)+Math.pow(Math.E,-c))/2,b=Sk.math.sin(b),c=(Math.pow(Math.E,c)-Math.pow(Math.E,-c))/2;return f(a*d,-b*c)});q.__sin__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b=a.x,c=a.y;a=Sk.math.cos(b);var d=(Math.pow(Math.E,c)+Math.pow(Math.E,-c))/2,b=Sk.math.sin(b),c=(Math.pow(Math.E,
c)-Math.pow(Math.E,-c))/2;return f(b*d,a*c)});q.__exp__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);a=Math.exp(b.x);var c=Sk.math.cos(b.y),b=Sk.math.sin(b.y);return f(a*c,a*b)});q.__magnitude__=Sk.ffi.functionPy(function(a){return Sk.ffh.sqrt(Sk.ffh.quadrance(a))});q.__quadrance__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return f(a.x*a.x+a.y*a.y,0)});q.__sqrt__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);return 0!==b.y?(a=0!==b.x?Math.sqrt((b.x+Math.sqrt(b.x*b.x+
b.y*b.y))/2):Math.sqrt(Math.abs(b.y)/2),b=b.y/(2*a),f(a,b)):0!==b.x?0<b.x?f(Math.sqrt(b.x),0):f(0,Math.sqrt(-b.x)):f(0,0)});q.__pos__=Sk.ffi.functionPy(function(a){return a});q.__neg__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return f(-a.x,-a.y)});q.__invert__=Sk.ffi.functionPy(function(a){var b=f(1,0);return Sk.ffi.callsim(a.__div__,b,a)});q.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(e([a.x,a.y],["1","i"],""))});q.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(b+"("+a.x+", "+a.y+")")});q.__eq__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return a.x===b.x&&a.y===b.y});q.__ne__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return a.x!==b.x||a.y!==b.y})},b,[]);a.phase=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("phase",arguments,1,1);if(c(a)){var d=Sk.ffi.remapToJs(a);return Sk.ffi.numberToFloatPy(Math.atan2(d.y,d.x))}if(Sk.ffi.isNum(a))return Sk.ffi.numberToFloatPy(Math.atan2(0,
Sk.ffi.remapToJs(a)));Sk.ffi.checkArgType("x",b,!1,a)});a.polar=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("polar",arguments,1,1);if(c(a)){var e=Sk.ffi.remapToJs(a);return Sk.ffi.tuplePy([Sk.ffi.numberToFloatPy(d(e.x,e.y)),Sk.ffi.numberToFloatPy(Math.atan2(e.y,e.x))])}if(Sk.ffi.isNum(a))return Sk.ffi.tuplePy([Sk.ffi.numberToFloatPy(d(Sk.ffi.remapToJs(a),0)),Sk.ffi.numberToFloatPy(0)]);Sk.ffi.checkArgType("x",b,!1,a)})}}).call(this);(function(){Sk.builtin.defineQuaternion=function(a,b){function c(a,b,c){var d,q,n,m,g;n=[];d=function(a,b){var d;if(0!==a){0<=a?0<n.length&&n.push("+"):n.push("-");d=Math.abs(a);if(1===d)return n.push(b);n.push(d.toString());if("1"!==b)return n.push(c),n.push(b)}};q=m=0;for(g=a.length-1;0<=g?m<=g:m>=g;q=0<=g?++m:--m)d(a[q],b[q]);return 0<n.length?n.join(""):"0"}function d(b,c,d,k){return Sk.ffi.callsim(a.Quaternion,Sk.ffi.numberToFloatPy(c),Sk.ffi.numberToFloatPy(d),Sk.ffi.numberToFloatPy(k),Sk.ffi.numberToFloatPy(b))}
Sk.ffi.checkFunctionArgs("defineQuaternion",arguments,2,2);a.Quaternion=Sk.ffi.buildClass(a,function(e,f){f.__init__=Sk.ffi.functionPy(function(a,c,d,e,f){Sk.ffi.isInstance(c,"Quaternion")?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Quaternion",void 0,a):(c=Sk.ffi.remapToJs(c),d=Sk.ffi.remapToJs(d),e=Sk.ffi.remapToJs(e),f=Sk.ffi.remapToJs(f),Sk.ffi.referenceToPy(new b.Quaternion(c,d,e,f),"Quaternion",void 0,a))});f.__add__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);
return Sk.ffi.isNum(b)?d(c.w+e,c.x,c.y,c.z):d(c.w+e.w,c.x+e.x,c.y+e.y,c.z+e.z)});f.__radd__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a);if(Sk.ffi.isNum(b))return d(c+e.w,e.x,e.y,e.z);throw Sk.ffi.err.operand("other").toOperation("+").mustHaveType("Quaternion");});f.__iadd__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);Sk.ffi.isNum(b)?c.w+=d:(c.w+=d.w,c.x+=d.x,c.y+=d.y,c.z+=d.z);return a});f.__sub__=Sk.ffi.functionPy(function(a,
b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return Sk.ffi.isNum(b)?d(c.w-e,c.x,c.y,c.z):d(c.w-e.w,c.x-e.x,c.y-e.y,c.z-e.z)});f.__rsub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a);if(Sk.ffi.isNum(b))return d(c-e.w,-e.x,-e.y,-e.z);throw Sk.ffi.err.operand("other").toOperation("-").mustHaveType("Quaternion");});f.__isub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);Sk.ffi.isNum(b)?c.w-=d:(c.w-=d.w,c.x-=d.x,c.y-=d.y,c.z-=
d.z);return a});f.__mul__=Sk.ffi.functionPy(function(c,e){var f=Sk.ffi.remapToJs(c),n=Sk.ffi.remapToJs(e);if(Sk.ffi.isNum(e))return d(f.w*n,f.x*n,f.y*n,f.z*n);f=(new b.Quaternion(0,0,0,1)).multiplyQuaternions(f,n);return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(f,"Quaternion"))});f.__rmul__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a);if(Sk.ffi.isNum(b))return d(c*e.w,c*e.x,c*e.y,c*e.z);throw Sk.ffi.err.operand("other").toOperation("*").mustHaveType("Quaternion");
});f.__imul__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);Sk.ffi.isNum(b)?(c.w*=d,c.x*=d,c.y*=d,c.z*=d):c.multiply(d);return a});f.u$positive=function(){return this};f.u$negative=function(){var a=Sk.ffi.remapToJs(this);return d(-a.w,-a.x,-a.y,-a.z)};f.__eq__=Sk.ffi.functionPy(function(a,b){if(Sk.ffi.isInstance(b,"Quaternion")){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return Sk.ffi.booleanToPy(c.w===d.w&&c.x===d.x&&c.y===d.y&&c.z===d.z)}return Sk.ffi.bool.False});
f.__ne__=Sk.ffi.functionPy(function(a,b){if(Sk.ffi.isInstance(b,"Quaternion")){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return Sk.ffi.booleanToPy(c.w!==d.w||c.x!==d.x||c.y!==d.y||c.z!==d.z)}return Sk.ffi.bool.True});f.__getattr__=Sk.ffi.functionPy(function(b,c){var e=Sk.ffi.remapToJs(b);switch(c){case "x":return Sk.ffi.numberToFloatPy(e.x);case "y":return Sk.ffi.numberToFloatPy(e.y);case "z":return Sk.ffi.numberToFloatPy(e.z);case "w":return Sk.ffi.numberToFloatPy(e.w);case "copy":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"copy",null,a)});c.__call__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkMethodArgs("copy",arguments,1,1);Sk.ffi.checkArgType("q","Quaternion",Sk.ffi.isInstance(c,"Quaternion"),c);var d=Sk.ffi.remapToJs(c);e.copy(d);return b})},"copy",[]));case "setFromAxisAngle":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"setFromAxisAngle",null,a)});c.__call__=
Sk.ffi.functionPy(function(a,c,d){a=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);e.setFromAxisAngle(a,d);return b})},"setFromAxisAngle",[]));case "setFromEuler":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"setFromEuler",null,a)});c.__call__=Sk.ffi.functionPy(function(a,c,d){a=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);e.setFromEuler(a,d);return b})},"setFromEuler",[]));case "set":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,
c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"set",null,a)});c.__call__=Sk.ffi.functionPy(function(a,c,d,f,m){e.x=Sk.ffi.remapToJs(c);e.y=Sk.ffi.remapToJs(d);e.z=Sk.ffi.remapToJs(f);e.w=Sk.ffi.remapToJs(m);return b})},"set",[]));case "clone":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"clone",null,a)});b.__call__=Sk.ffi.functionPy(function(a){return d(e.w,e.x,e.y,e.z)})},"clone",[]));case "conjugate":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"conjugate",null,a)});c.__call__=Sk.ffi.functionPy(function(a){e.conjugate();return b})},"conjugate",[]));case "inverse":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"inverse",null,a)});c.__call__=Sk.ffi.functionPy(function(a){a=1/e.lengthSq();e.conjugate();e.w*=a;e.x*=a;e.y*=a;e.z*=a;return b})},"inverse",[]));case "magnitude":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"magnitude",null,a)});b.__call__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToFloatPy(e.length())})},"magnitude",[]));case "quadrance":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"quadrance",null,a)});b.__call__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToFloatPy(e.lengthSq())})},"quadrance",[]));case "normalize":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"normalize",null,a)});c.__call__=Sk.ffi.functionPy(function(a){e.normalize();return b})},"normalize",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Quaternion");}});f.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "x":a.x=c;break;case "y":a.y=c;break;case "z":a.z=c;break;case "w":a.w=c;break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Quaternion");
}});f.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Quaternion("+[a.x,a.y,a.z,a.w].join(", ")+")")});f.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(c([a.w,a.x,a.y,a.z],["1","i","j","k"]))})},"Quaternion",[])}}).call(this);(function(){Sk.builtin.defineEasel=function(a,b,c){function d(b,c,d){var e=Sk.ffi.remapToJs(b);switch(c){case "alpha":return Sk.ffi.numberToFloatPy(e.alpha);case "graphics":return Sk.ffi.callsim(a.Graphics,Sk.ffi.referenceToPy(e.graphics,"Graphics"));case "name":return Sk.builtin.stringToPy(e.name);case "x":return Sk.ffi.numberToFloatPy(e.x);case "y":return Sk.ffi.numberToFloatPy(e.y);case "rotation":return Sk.ffi.numberToFloatPy(e.rotation);case "addEventListener":return Sk.builtin.addEventListener(a,
e);case "removeEventListener":return Sk.builtin.removeEventListener(a,e);case "globalToLocal":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="globalToLocal";a.v=e.globalToLocal});c.__call__=Sk.ffi.functionPy(function(b,c,d){b=e.globalToLocal(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d));return Sk.ffi.callsim(a.Point,Sk.ffi.referenceToPy(b,"Point"))})},"globalToLocal",[]));case "hitTest":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a){a.tp$name="hitTest";a.v=e.hitTest});b.__call__=Sk.ffi.functionPy(function(a,b,c){return Sk.ffi.booleanToPy(e.hitTest(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(c)))})},"hitTest",[]));case "localToLocal":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="localToLocal";a.v=e.localToLocal});c.__call__=Sk.ffi.functionPy(function(b,c,d,g){b=e.localToLocal(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(g));return Sk.ffi.callsim(a.Point,
Sk.ffi.referenceToPy(b,"Point"))})},"localToLocal",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(d);}}function e(a,b,c,d){a=Sk.ffi.remapToJs(a);var e=Sk.ffi.remapToJs(c);switch(b){case "alpha":Sk.ffi.checkArgType("alpha",f,Sk.ffi.isNum(c),c);a.alpha=e;break;case "name":Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(c),c);a.name=e;break;case "x":case "y":Sk.ffi.checkArgType(b,f,Sk.ffi.isNum(c),c);a[b]=e;break;case "rotation":Sk.ffi.checkArgType("rotation",f,Sk.ffi.isNum(c),
c);a.rotation=e;break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(d);}}Sk.ffi.checkFunctionArgs("defineEasel",arguments,3,3);Sk.builtin.defineEuclidean2(a,c);Sk.builtin.defineEvent(a);var f=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG];a.Graphics=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkMethodArgs("Graphics",arguments,0,1);Sk.ffi.isDefined(c)?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Graphics",void 0,a):Sk.ffi.referenceToPy(new b.Graphics,
"Graphics",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "beginFill":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(d.beginFill,"beginFill",void 0,a)});c.__call__=Sk.ffi.functionPy(function(a,c){c=Sk.ffi.remapToJs(c);d.beginFill(c);return b})},"beginFill",[]));case "beginStroke":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(d.beginStroke,
"beginStroke",void 0,a)});c.__call__=Sk.ffi.functionPy(function(a,c){c=Sk.ffi.remapToJs(c);d.beginStroke(c);return b})},"beginStroke",[]));case "drawCircle":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="drawCircle";a.v=d.drawCircle});c.__call__=Sk.ffi.functionPy(function(a,c,e,g){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);g=Sk.ffi.remapToJs(g);d.drawCircle(c,e,g);return b})},"drawCircle",[]));case "drawRect":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="drawRect";a.v=d.drawRect});c.__call__=Sk.ffi.functionPy(function(a,c,e,g,l){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);g=Sk.ffi.remapToJs(g);l=Sk.ffi.remapToJs(l);d.drawRect(c,e,g,l);return b})},"drawRect",[]));case "drawRoundRect":return Sk.ffi.callableToPy(a,c,function(a,c,e,n,r,u){Sk.ffi.checkMethodArgs("drawRoundRect",arguments,5,5);Sk.ffi.checkArgType("x",f,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("y",f,Sk.ffi.isNum(e),e);Sk.ffi.checkArgType("width",
f,Sk.ffi.isNum(n),n);Sk.ffi.checkArgType("height",f,Sk.ffi.isNum(r),r);Sk.ffi.checkArgType("radius",f,Sk.ffi.isNum(u),u);var k=Sk.ffi.remapToJs(c),z=Sk.ffi.remapToJs(e),h=Sk.ffi.remapToJs(n),x=Sk.ffi.remapToJs(r),s=Sk.ffi.remapToJs(u);d.drawRoundRect(k,z,h,x,s);return b});case "endFill":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="endFill";a.v=d.endFill});c.__call__=Sk.ffi.functionPy(function(a){d.endFill();return b})},"endFill",[]));
case "endStroke":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="endStroke";a.v=d.endStroke});c.__call__=Sk.ffi.functionPy(function(a){d.endStroke();return b})},"endStroke",[]));case "lineTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="lineTo";a.v=d.lineTo});c.__call__=Sk.ffi.functionPy(function(a,c,e){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);d.lineTo(c,e);return b})},"lineTo",
[]));case "moveTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="moveTo";a.v=d.moveTo});c.__call__=Sk.ffi.functionPy(function(a,c,e){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);d.moveTo(c,e);return b})},"moveTo",[]));case "setStrokeStyle":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setStrokeStyle";a.v=d.setStrokeStyle});c.__call__=Sk.ffi.functionPy(function(a,c,e,g,l,f){c=
Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);g=Sk.ffi.remapToJs(g);l=Sk.ffi.remapToJs(l);f=Sk.ffi.remapToJs(f);d.setStrokeStyle(c,e,g,l,f);return b})},"setStrokeStyle",[]))}})},"Graphics",[]);a.MovieClip=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,c,d,e,l){c=null!==c?Sk.ffi.remapToJs(c):null;d=Sk.ffi.remapToJs(d);e=Sk.ffi.remapToJs(e);l=Sk.ffi.remapToJs(l);Sk.ffi.referenceToPy(new b.MovieClip(c,d,e,l),"MovieClip",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=
Sk.ffi.remapToJs(b);switch(c){case "timeline":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="timeline";a.v=d.timeline});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "addTween":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="addTween";a.v=d.addTween});b.__call__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);d.addTween(c)})},"addTween",
[]))}})},"timeline",[]));case "gotoAndPlay":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="gotoAndPlay";a.v=d.gotoAndPlay});b.__call__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);d.gotoAndPlay(c)})},"gotoAndPlay",[]))}})},"MovieClip",[]);a.Shape=Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkMethodArgs("Shape",arguments,0,1);if(Sk.ffi.isUndefined(c))Sk.ffi.referenceToPy(new b.Shape,
"Shape",void 0,a);else switch(Sk.ffi.checkArgType("graphics","Graphics",Sk.ffi.isInstance(c),c),Sk.ffi.typeName(c)){case "Shape":Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Shape",void 0,a);break;case "Graphics":Sk.ffi.referenceToPy(new b.Shape(Sk.ffi.remapToJs(c)),"Shape",void 0,a);break;default:Sk.ffi.checkArgType("graphics","Graphics",!1,c)}});c.__getattr__=Sk.ffi.functionPy(function(a,b){return d(a,b,"Shape")});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){return e(a,b,c,"Shape")})},"Shape",[]);
a.Stage=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkMethodArgs("Stage",arguments,1,1);Sk.ffi.checkArgType("canvas","Node",Sk.ffi.isObjectPy(c)||Sk.ffi.isInstance(c,"Node"),c);var d=Sk.ffi.remapToJs(c);Sk.ffi.referenceToPy(new b.Stage(d),"Stage",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "mouseInBounds":return Sk.ffi.booleanToPy(d.mouseInBounds);case "mouseMoveOutside":return Sk.ffi.booleanToPy(d.mouseMoveOutside);
case "mouseX":return Sk.ffi.numberToIntPy(d.mouseX);case "mouseY":return Sk.ffi.numberToIntPy(d.mouseY);case "addChild":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="addChild";a.v=d.addChild});b.__call__=Sk.ffi.functionPy(function(a,b){d.addChild(Sk.ffi.remapToJs(b));return b})},"addChild",[]));case "enableMouseOver":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="enableMouseOver";
a.v=d.enableMouseOver});b.__call__=Sk.ffi.functionPy(function(a){d.enableMouseOver()})},"enableMouseOver",[]));case "render":case "update":return Sk.ffi.callableToPy(a,c,function(a){d.update()});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Stage");}});d.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "autoClear":a.autoClear=c;break;case "mouseMoveOutside":a.mouseMoveOutside=c;break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Stage");
}})},"Stage",[]);a.Text=Sk.ffi.buildClass(a,function(c,f){f.__init__=Sk.ffi.functionPy(function(a,c,d,e){Sk.ffi.checkArgType("text",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(c),c);Sk.ffi.checkArgType("font",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);e=Sk.ffi.remapToJs(e);Sk.ffi.referenceToPy(new b.Text(c,d,e),"Text",void 0,a)});f.__getattr__=Sk.ffi.functionPy(function(b,c){var e=Sk.ffi.remapToJs(b);switch(c){case "text":return Sk.builtin.stringToPy(e.text);
case "textAlign":return Sk.builtin.stringToPy(e.textAlign);case "getMeasuredWidth":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getMeasuredWidth";a.v=e.getMeasuredWidth});b.__call__=Sk.ffi.functionPy(function(a,b){return Sk.builtin.numberToPy(e.getMeasuredWidth())})},"getMeasuredWidth",[]));case "getMeasuredHeight":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getMeasuredHeight";
a.v=e.getMeasuredHeight});b.__call__=Sk.ffi.functionPy(function(a,b){return Sk.builtin.numberToPy(e.getMeasuredHeight())})},"getMeasuredHeight",[]));default:return d(b,c,"Text")}});f.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a),l=Sk.ffi.remapToJs(c);switch(b){case "hitArea":d.hitArea=l;break;case "text":d.text=Sk.ffi.remapToJs(Sk.builtin.isStringPy(c)?c:Sk.ffh.str(c));break;case "textAlign":d.textAlign=l;break;default:return e(a,b,c,"Text")}});f.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Text("+a.x+", "+a.y+")")});f.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("["+a.x+", "+a.y+"]")})},"Text",[]);a.Ticker=Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){a.tp$name="Ticker";a.v=b.Ticker});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "addEventListener":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a){a.tp$name="addEventListener"});b.__call__=Sk.ffi.functionPy(function(a,b,c,e){a=Sk.ffi.remapToJs(b);b=Sk.ffi.remapToJs(c);"object"!==typeof b&&(b=function(a){Sk.ffi.callsim(c)});d.addEventListener(a,b,e)})},"addEventListener",[]))}})},"Ticker",[]));a.Tween=Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){a.tp$name="Tween";a.v=b.Tween});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "get":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="get"});c.__call__=Sk.ffi.functionPy(function(b,c,e,g,f){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);g=Sk.ffi.remapToJs(g);f=Sk.ffi.remapToJs(f);var l=d.get(c,e,g,f);return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="Tween";a.v=l});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "to":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=
Sk.ffi.functionPy(function(a){a.tp$name="to"});c.__call__=Sk.ffi.functionPy(function(a,c,e,g){c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);g=Sk.ffi.remapToJs(g);d.to(c,e,g);return b})},"to",[]));case "onComplete":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="onComplete"});c.__call__=Sk.ffi.functionPy(function(a,c,e){a=Sk.ffi.remapToJs(e);d.call(function(a){Sk.ffi.callsim(c,Sk.ffi.remapToPy(a))},a);return b})},"onComplete",[]));case "wait":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="wait"});c.__call__=Sk.ffi.functionPy(function(a,c){c=Sk.ffi.remapToJs(c);d.wait(c);return b})},"wait",[]))}})},"Tween",[]))})},"get",[]))}})},"Tween",[]));a.Container=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,c){Sk.ffi.isUndefined(c)?Sk.ffi.referenceToPy(new b.Container,"Container",void 0,a):Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Container",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=
Sk.ffi.remapToJs(b);switch(c){case "name":return Sk.builtin.stringToPy(d.name);case "x":return Sk.builtin.numberToPy(d.x);case "y":return Sk.builtin.numberToPy(d.y);case "rotation":return Sk.builtin.numberToPy(d.rotation);case "addChild":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="addChild";a.v=d.addChild});b.__call__=Sk.ffi.functionPy(function(a,b){d.addChild(Sk.ffi.remapToJs(b));return b})},"addChild",[]));case "addEventListener":return Sk.builtin.addEventListener(a,
d);case "getChildAt":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getChildAt";a.v=d.getChildAt});c.__call__=Sk.ffi.functionPy(function(b,c){var e=d.getChildAt(Sk.ffi.remapToJs(c));return Sk.ffi.callsim(a.Shape,Sk.ffi.referenceToPy(e,"Shape"))})},"getChildAt",[]));case "getNumChildren":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getNumChildren";a.v=d.getNumChildren});b.__call__=
Sk.ffi.functionPy(function(a,b){return Sk.ffi.numberToIntPy(d.getNumChildren())})},"getNumChildren",[]));case "removeEventListener":return Sk.builtin.removeEventListener(a,d)}});d.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "name":a.name=c;break;case "x":a.x=c;break;case "y":a.y=c;break;case "rotation":a.rotation=c;break;default:throw new Sk.builtin.AttributeError(b+" is not a writeable attribute of Container");}});d.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Container("+a.x+", "+a.y+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("["+a.x+", "+a.y+"]")})},"Container",[]);a.Ease=Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="Ease";a.v=b.Ease});c.__getattr__=Sk.ffi.functionPy(function(a,c){switch(c){case "bounceOut":return{v:b.Ease.bounceOut}}})},"Ease",[]));a.Point=Sk.ffi.buildClass(a,function(c,d){d.__init__=
Sk.ffi.functionPy(function(a,c,d){Sk.builtin.pyCheckArgs("Point",arguments,1,3);a.tp$name="Point";switch(arguments.length){case 1:a.v=new b.Point;break;case 2:c=Sk.ffi.remapToJs(c);a.tp$name="Point";a.v=c;break;case 3:Sk.builtin.pyCheckType("x","number",Sk.builtin.checkNumber(c)),Sk.builtin.pyCheckType("y","number",Sk.builtin.checkNumber(d)),c=Sk.ffi.remapToJs(c),d=Sk.ffi.remapToJs(d),a.tp$name="Point",a.v=new b.Point(c,d)}});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);
switch(c){case "x":return Sk.ffi.numberToFloatPy(d.x);case "y":return Sk.ffi.numberToFloatPy(d.y);case "clone":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="clone"});c.__call__=Sk.ffi.functionPy(function(b){return Sk.ffi.callsim(a.Point,Sk.ffi.numberToFloatPy(d.x),Sk.ffi.numberToFloatPy(d.y))})},"clone",[]))}});d.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "x":a.x=c;break;case "y":a.y=
c}});d.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Point("+a.x+", "+a.y+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("["+a.x+", "+a.y+"]")})},"Point",[]);a.getHSL=Sk.ffi.functionPy(function(a,c,d,e){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);e=Sk.ffi.remapToJs(e);return Sk.builtin.stringToPy(b.Graphics.getHSL(a,c,d,e))})}}).call(this);Sk.builtin.defineEvent=function(a){a.Event=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Event",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);switch(c){case "altKey":return Sk.ffi.booleanToPy(f.altKey);case "bubbles":return Sk.ffi.booleanToPy(f.bubbles);case "button":return Sk.ffi.numberToIntPy(f.button);case "cancelable":return Sk.ffi.booleanToPy(f.cancelable);case "clientX":return Sk.ffi.numberToIntPy(f.clientX);
case "clientY":return Sk.ffi.numberToIntPy(f.clientY);case "ctrlKey":return Sk.ffi.booleanToPy(f.ctrlKey);case "defaultPrevented":return Sk.ffi.booleanToPy(f.defaultPrevented);case "keyCode":return Sk.ffi.numberToIntPy(f.keyCode);case "screenX":return Sk.ffi.numberToIntPy(f.screenX);case "screenY":return Sk.ffi.numberToIntPy(f.screenY);case "shiftKey":return Sk.ffi.booleanToPy(f.shiftKey);case "target":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(f.target,
"target",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return Sk.ffi.remapToPy(f.target[b],"")});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){f.target[b]=Sk.ffi.remapToJs(c)});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)})},"target",[]));case "type":return Sk.builtin.stringToPy(f.type);case "addEventListener":return Sk.builtin.addEventListener(a,
f);case "preventDefault":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="preventDefault"});b.__call__=Sk.ffi.functionPy(function(a){f.preventDefault()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("preventDefault")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("preventDefault")})},"preventDefault",[]));case "stopImmediatePropagation":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a){a.tp$name="stopImmediatePropagation"});b.__call__=Sk.ffi.functionPy(function(a){f.stopImmediatePropagation()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stopImmediatePropagation")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stopImmediatePropagation")})},"stopImmediatePropagation",[]));case "stopPropagation":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name=
"stopPropagation"});b.__call__=Sk.ffi.functionPy(function(a){f.stopPropagation()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stopPropagation")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stopPropagation")})},"stopPropagation",[]));default:return Sk.ffi.remapToPy(f[c],"")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+
a)})},"Event",[])};Sk.builtin.addEventListener=function(a,b){return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(b.addEventListener,"addEventListener",void 0,a)});d.__call__=Sk.ffi.functionPy(function(c,d,h,k){c=Sk.ffi.remapToJs(d);k=Sk.ffi.remapToJs(k);b.addEventListener(c,function(b){b=Sk.ffi.callsim(a.Event,Sk.ffi.referenceToPy(b,"Event"));Sk.ffi.callsim(h,b)},k)})},"addEventListener",[]))};
Sk.builtin.removeEventListener=function(a,b){return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(b.removeEventListener,"removeEventListener",void 0,a)});d.__call__=Sk.ffi.functionPy(function(c,d,h,k){c=Sk.ffi.remapToJs(d);k=Sk.ffi.remapToJs(k);b.removeEventListener(c,function(b){b=Sk.ffi.callsim(a.Event,Sk.ffi.referenceToPy(b,"Event"));Sk.ffi.callsim(h,b)},k)})},"removeEventListener",[]))};Sk.geometry={};Sk.geometry.ARROW_BUILDER="ArrowBuilder";Sk.geometry.CYLINDER_BUILDER="CylinderBuilder";Sk.geometry.VORTEX_BUILDER="VortexBuilder";Sk.geometry.VOLUME_BUILDER="VolumeBuilder";Sk.geometry.VOLUME="Volume";
(function(){Sk.builtin.defineGeometry=function(a,b,c){function d(b){var c=Sk.ffi.remapToJs(b);return Sk.ffi.callableToPy(a,"name",function(a,d){Sk.ffi.checkMethodArgs("name",arguments,1,1);Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);c.name=Sk.builtin.stringToJs(d);return b})}function e(b){if(b.material)return b.material;var c={};c.color="undefined"!==typeof b.color?b.color:16777215;"undefined"!==typeof b.wireframeLinewidth&&(c.wireframeLinewidth=b.wireframeLinewidth);
if("undefined"!==typeof b.wireframe)return(c.wireframe=b.wireframe)?Sk.ffi.callsim(a.MeshBasicMaterial,Sk.ffi.remapToPy(c)):Sk.ffi.callsim(a.MeshLambertMaterial,Sk.ffi.remapToPy(c));c.wireframe=!1;return Sk.ffi.callsim(a.MeshLambertMaterial,Sk.ffi.remapToPy(c))}function f(b,c){function d(a){var b=Sk.ffi.remapToJs(a);c.name&&(b.name=c.name);return a}if(c.material)return d(Sk.ffi.callsim(a.Mesh,b,c.material));var e={};e.color="undefined"!==typeof c.color?c.color:16777215;"undefined"!==typeof c.wireframeLinewidth&&
(e.wireframeLinewidth=c.wireframeLinewidth);"undefined"!==typeof c.wireframe?e=(e.wireframe=c.wireframe)?Sk.ffi.callsim(a.MeshBasicMaterial,Sk.ffi.remapToPy(e)):Sk.ffi.callsim(a.MeshLambertMaterial,Sk.ffi.remapToPy(e)):(e.wireframe=!1,e=Sk.ffi.callsim(a.MeshLambertMaterial,Sk.ffi.remapToPy(e)));return d(Sk.ffi.callsim(a.Mesh,b,e))}function h(a){a=[[+a,0,0],[0,+a,0],[0,0,+a],[-a,0,0],[0,-a,0],[0,0,-a]].map(function(a){var c=new b.Geometry;c.vertices.push(new b.Vector3(0,0,0));c.vertices.push(new b.Vector3(a[0],
a[1],a[2]));return c});var c=new b[Sk.three.OBJECT_3D];c.add(new b.Line(a[0],new b.LineBasicMaterial({color:16711680,opacity:0.5,transparent:!0})));c.add(new b.Line(a[1],new b.LineBasicMaterial({color:65280,opacity:0.5,transparent:!0})));c.add(new b.Line(a[2],new b.LineBasicMaterial({color:255,opacity:0.5,transparent:!0})));c.add(new b.Line(a[3],new b.LineBasicMaterial({color:16711680,opacity:0.2,transparent:!0})));c.add(new b.Line(a[4],new b.LineBasicMaterial({color:65280,opacity:0.2,transparent:!0})));
c.add(new b.Line(a[5],new b.LineBasicMaterial({color:255,opacity:0.2,transparent:!0})));return c}function k(a,c,d,e,p){var f=new b[Sk.three.OBJECT_3D],l=a*c,r=d/c,n=a*d;a=p.x*n;d=p.y*n;p=p.z*n;for(n=-l;n<=l;n+=1)if(0!=n){var H=n*r,h=new b.Geometry;h.vertices.push(new b.Vector3(e.x*H-a,e.y*H-d,e.z*H-p));h.vertices.push(new b.Vector3(e.x*H+a,e.y*H+d,e.z*H+p));H=new b.Line(h,0===n%c?m:g);f.add(H)}return f}function q(b,c,e){var g=Sk.ffi.remapToJs(b);switch(c){case "attitude":return Sk.ffi.callableToPy(a,
c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType(c,"Euclidean3",Sk.ffi.isInstance(d,"Euclidean3"),d);g[c]=Sk.ffi.remapToJs(d);return b});case "color":return Sk.ffi.callableToPy(a,c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType(c,n,Sk.ffi.isNum(d)||Sk.builtin.isStringPy(d)||Sk.ffi.isInstance(d,"Color"),d);g[c]=Sk.ffi.remapToJs(d);return b});case "material":return Sk.ffi.callableToPy(a,"material",function(a,c){Sk.ffi.checkMethodArgs("material",
arguments,1,1);Sk.ffi.checkArgType("material",Sk.three.MATERIAL,Sk.ffi.isInstance(c),c);g.material=c;return b});case "name":return d(b);case "scale":return Sk.ffi.callableToPy(a,"scale",function(a,c){Sk.ffi.checkMethodArgs("scale",arguments,1,1);Sk.ffi.checkArgType("scale",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);g.scale=Sk.ffi.remapToJs(c);return b});case "volume":return Sk.ffi.callableToPy(a,"volume",function(a,c){Sk.ffi.checkMethodArgs("volume",arguments,1,1);Sk.ffi.checkArgType("volume",
n,Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);g.volume=Sk.ffi.remapToJs(c);return b});case "wireframe":return Sk.ffi.callableToPy(a,c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType(c,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);g[c]=Sk.ffi.remapToJs(d);return b});case "wireframeLinewidth":return Sk.ffi.callableToPy(a,c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType(c,Sk.ffi.PyType.INT,Sk.ffi.isInt(d),d);g[c]=Sk.ffi.remapToJs(d);return b});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(e);
}}Sk.ffi.checkFunctionArgs("defineGeometry",arguments,3,3);var n=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],m=new b.LineBasicMaterial({color:6726098,opacity:0.2,transparent:!0}),g=new b.LineBasicMaterial({color:6726098,opacity:0.02,transparent:!0}),l=new b.Vector3(1,0,0),p=new b.Vector3(0,1,0);new b.Vector3(0,0,1);var H=new b.Euclidean3(!1,new b.Vector3(0,0,1),new b.Quaternion(0,0,0,0),0,!1),r=new b.Euclidean3(!1,new b.Vector3(0,0,0),new b.Quaternion(0,0,0,1),0,!1);a.world=Sk.ffi.functionPy(function(){Sk.ffi.checkFunctionArgs("world",
arguments,0,0);var c=Sk.ffi.callsim(a.Scene),d=Sk.ffi.remapToJs(c),e=new b.PointLight(16777215);e.position.set(5,5,5);d.add(e);d.add(new b.AmbientLight(2236962));return c});a.CartesianSpace=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(b,c,d,e){var g,f,m;Sk.ffi.checkMethodArgs("CartesianSpace(scene, renderer)",arguments,0,3);Sk.ffi.isDefined(c)||(c=Sk.ffi.callsim(a.world));g=Sk.ffi.remapToJs(c);Sk.ffi.isDefined(d)||(d=Sk.ffi.callsim(a.WebGLRenderer,Sk.ffi.remapToPy({antialias:!0})));
f=Sk.ffi.remapToJs(d);Sk.ffi.isDefined(e)||(e=Sk.ffi.callsim(a.PerspectiveCamera,Sk.ffi.numberToFloatPy(45),Sk.ffi.numberToFloatPy(1),Sk.ffi.numberToFloatPy(0.1),Sk.ffi.numberToFloatPy(1E4)));m=Sk.ffi.remapToJs(e);m.up.set(0,0,1);m.position.set(8,4,5);m.lookAt(g.position);f.setClearColor(526344,1);g.add(h(1E3));g.add(k(5,10,1,l,p));g.add(k(5,10,1,p,l));Sk.ffi.referenceToPy({scenePy:c,cameraPy:e,rendererPy:d},"CartesianSpace",void 0,b)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);
switch(c){case "camera":return d.cameraPy;case "origin":return Sk.ffi.gattr(d.scenePy,"position");case "renderer":return d.rendererPy;case "scene":return d.scenePy;case "add":return Sk.ffi.gattr(d.scenePy,"add");case "render":return Sk.ffi.callableToPy(a,"render",function(a){a=Sk.ffi.gattr(d.rendererPy,"render");return Sk.ffi.callsim(a,d.scenePy,d.cameraPy)});case "viewSize":return Sk.ffi.callableToPy(a,"render",function(a,b,c){Sk.ffi.checkMethodArgs("viewSize",arguments,2,2);Sk.ffi.checkArgType("width",
Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);Sk.ffi.checkArgType("height",Sk.ffi.PyType.INT,Sk.ffi.isInt(c),c);var e=Sk.ffi.remapToJs(b),g=Sk.ffi.remapToJs(c);Sk.ffi.remapToJs(d.rendererPy).setSize(e,g);var p=Sk.ffi.remapToJs(d.cameraPy);p.aspect=e/g;p.updateProjectionMatrix()});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("CartesianSpace");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CartesianSpace")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CartesianSpace")})},
"CartesianSpace",[]);Sk.geometry.ArrowBuilder=function(){this._innerPy=Sk.ffi.callsim(a[Sk.geometry.ARROW_BUILDER])};Sk.geometry.ArrowBuilder.prototype={constructor:Sk.geometry.ArrowBuilder,axis:function(b,c,d){b=Sk.ffi.numberToFloatPy(b);c=Sk.ffi.numberToFloatPy(c);d=Sk.ffi.numberToFloatPy(d);d=Sk.ffi.callsim(a[Sk.e3ga.VECTOR_E3],b,c,d);Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"axis"),d);return this},material:function(b){b=Sk.ffi.callsim(a[Sk.three.MATERIAL],Sk.ffi.referenceToPy(b,Sk.three.MATERIAL));
Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"material"),b);return this},radius:function(a){a=Sk.ffi.numberToFloatPy(a);Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"radius"),a);return this},build:function(){return Sk.ffi.remapToJs(Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"build")))}};a[Sk.geometry.ARROW_BUILDER]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs(Sk.geometry.ARROW_BUILDER,arguments,0,0);Sk.ffi.referenceToPy({},Sk.geometry.ARROW_BUILDER,void 0,
a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "magnitude":return Sk.ffi.callableToPy(a,"magnitude",function(a,c){Sk.ffi.checkMethodArgs("magnitude",arguments,1,1);Sk.ffi.checkArgType("magnitude",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.magnitude=Sk.ffi.remapToJs(c);return b});case "axis":return Sk.ffi.callableToPy(a,"axis",function(a,c){Sk.ffi.checkMethodArgs("axis",arguments,1,1);Sk.ffi.checkArgType("axis",["Euclidean3",Sk.ffi.PyType.NONE],
Sk.ffi.isInstance(c,"Euclidean3")||Sk.ffi.isNone(c),c);d.axis=Sk.ffi.remapToJs(c);return b});case "radius":return Sk.ffi.callableToPy(a,"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radius=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,
Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c,e={};e.attitude=d.attitude?d.attitude:r;e.axis=d.axis?d.axis:H;if(d.volume){var g=(d.radius?d.radius:0.5)/(d.length?d.length:1);e.radius=Math.pow(3*g*d.volume/Math.PI,1/3);e.length=e.radius/g}else e.scale=d.scale?d.scale:1,e.radius=d.radius?d.radius:0.5,e.length=d.length?d.length:1;c=e;var e=
Sk.ffi.numberToFloatPy(c.scale),g=Sk.ffi.callsim(a.Euclidean3,Sk.ffi.referenceToPy(c.attitude,"Euclidean3")),p=Sk.ffi.numberToIntPy(d.segments?d.segments:32),l=Sk.ffi.numberToFloatPy(c.magnitude);c=Sk.ffi.callsim(a.Euclidean3,Sk.ffi.referenceToPy(c.axis,"Euclidean3"));e=Sk.ffi.callsim(a[Sk.three.ARROW_GEOMETRY],e,g,p,l,void 0,void 0,void 0,c);return f(e,d)});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);return b});default:return q(b,
c,Sk.geometry.ARROW_BUILDER)}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.geometry.ARROW_BUILDER+"()")})},Sk.geometry.ARROW_BUILDER,[]);a.ConeBuilder=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("ConeBuilder",arguments,0,0);Sk.ffi.referenceToPy({},"ConeBuilder",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=
Sk.ffi.remapToJs(b);switch(c){case "height":return Sk.ffi.callableToPy(a,"height",function(a,c){Sk.ffi.checkMethodArgs("height",arguments,1,1);Sk.ffi.checkArgType("height",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.height=Sk.ffi.remapToJs(c);return b});case "radius":return Sk.ffi.callableToPy(a,"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radius=Sk.ffi.remapToJs(c);
return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c,e={};if(d.volume){var g=(d.radius?d.radius:0.5)/(d.height?d.height:1);e.radius=Math.pow(3*g*d.volume/Math.PI,
1/3);e.height=e.radius/g}else e.radius=d.radius?d.radius:0.5,e.height=d.height?d.height:1;c=e;e=Sk.ffi.numberToFloatPy(0);g=Sk.ffi.numberToFloatPy(c.radius);c=Sk.ffi.numberToFloatPy(c.height);var p=Sk.ffi.numberToIntPy(d.segments?d.segments:32),l=Sk.ffi.numberToIntPy(1),m=Sk.ffi.booleanToPy(!1),e=Sk.ffi.callsim(a.CylinderGeometry,e,g,c,p,l,m);return f(e,d)});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);return b});default:return q(b,
c,"ConeBuilder")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("ConeBuilder()")})},"ConeBuilder",[]);a.CubeBuilder=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("CubeBuilder",arguments,0,0);Sk.ffi.referenceToPy({},"CubeBuilder",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "depth":return Sk.ffi.callableToPy(a,
"depth",function(a,c){Sk.ffi.checkMethodArgs("depth",arguments,1,1);Sk.ffi.checkArgType("depth",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.depth=Sk.ffi.remapToJs(c);return b});case "height":return Sk.ffi.callableToPy(a,"height",function(a,c){Sk.ffi.checkMethodArgs("height",arguments,1,1);Sk.ffi.checkArgType("height",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.height=Sk.ffi.remapToJs(c);return b});case "width":return Sk.ffi.callableToPy(a,"width",function(a,c){Sk.ffi.checkMethodArgs("width",
arguments,1,1);Sk.ffi.checkArgType("width",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.width=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",
arguments,0,0);var c,e={};if(d.volume){var g=d.width?d.width:1;c=d.height?d.height:1;var p=d.depth?d.depth:1,l=Math.pow(d.volume/(g*c*p),1/3);e.width=l*g;e.height=l*c;e.depth=l*p}else e.width=d.width?d.width:1,e.height=d.height?d.height:1,e.depth=d.depth?d.depth:1;c=e;e=Sk.ffi.numberToFloatPy(c.width);g=Sk.ffi.numberToFloatPy(c.height);c=Sk.ffi.numberToFloatPy(c.depth);p=Sk.ffi.numberToIntPy(d.segments?d.segments:1);e=Sk.ffi.callsim(a.BoxGeometry,e,g,c,p,p,p);return f(e,d)});case "normalize":return Sk.ffi.callableToPy(a,
"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);d.depth=1;d.width=1;d.height=1;return b});default:return q(b,c,"CubeBuilder")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CubeBuilder()")})},"CubeBuilder",[]);Sk.geometry.CylinderBuilder=function(){this._innerPy=Sk.ffi.callsim(a[Sk.geometry.CYLINDER_BUILDER])};Sk.geometry.CylinderBuilder.prototype=
{constructor:Sk.geometry.CylinderBuilder,axis:function(b,c,d){b=Sk.ffi.numberToFloatPy(b);c=Sk.ffi.numberToFloatPy(c);d=Sk.ffi.numberToFloatPy(d);d=Sk.ffi.callsim(a[Sk.e3ga.VECTOR_E3],b,c,d);Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"axis"),d);return this},material:function(b){b=Sk.ffi.callsim(a[Sk.three.MATERIAL],Sk.ffi.referenceToPy(b,Sk.three.MATERIAL));Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"material"),b);return this},radius:function(a){a=Sk.ffi.numberToFloatPy(a);Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,
"radius"),a);return this},build:function(){return Sk.ffi.remapToJs(Sk.ffi.callsim(Sk.ffi.gattr(this._innerPy,"build")))}};a[Sk.geometry.CYLINDER_BUILDER]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs(Sk.geometry.CYLINDER_BUILDER,arguments,0,0);Sk.ffi.referenceToPy({radiusTop:0.5,radiusBottom:0.5,height:1},Sk.geometry.CYLINDER_BUILDER,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "axis":return Sk.ffi.callableToPy(a,
"axis",function(a,c){Sk.ffi.checkMethodArgs("axis",arguments,1,1);Sk.ffi.checkArgType("axis",["Euclidean3",Sk.ffi.PyType.NONE],Sk.ffi.isInstance(c,"Euclidean3")||Sk.ffi.isNone(c),c);d.axis=Sk.ffi.remapToJs(c);return b});case "height":return Sk.ffi.callableToPy(a,"height",function(a,c){Sk.ffi.checkMethodArgs("height",arguments,1,1);Sk.ffi.checkArgType("height",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.height=Sk.ffi.remapToJs(c);return b});case "radius":return Sk.ffi.callableToPy(a,
"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radiusTop=Sk.ffi.remapToJs(c);d.radiusBottom=Sk.ffi.remapToJs(c);return b});case "radiusTop":return Sk.ffi.callableToPy(a,"radiusTop",function(a,c){Sk.ffi.checkMethodArgs("radiusTop",arguments,1,1);Sk.ffi.checkArgType("radiusTop",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radiusTop=Sk.ffi.remapToJs(c);return b});case "radiusBottom":return Sk.ffi.callableToPy(a,
"radiusBottom",function(a,c){Sk.ffi.checkMethodArgs("radiusBottom",arguments,1,1);Sk.ffi.checkArgType("radiusBottom",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radiusBottom=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,
"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c,e={};e.axis=d.axis?d.axis:H;if(d.volume){var g="number"===typeof d.radiusTop?d.radiusTop:0.5,p="number"===typeof d.radiusBottom?d.radiusBottom:0.5,l="number"===typeof d.height?d.height:1,m=Math.pow(3*d.volume/(p*(p+g)*l*Math.PI),1/3);e.a=m*g;e.b=m*p;e.h=m*l}else e.a="number"===typeof d.radiusTop?d.radiusTop:0.5,e.b="number"===typeof d.radiusBottom?d.radiusBottom:0.5,e.h="number"===typeof d.height?d.height:1;c=e;var e=Sk.ffi.numberToFloatPy(c.a),
g=Sk.ffi.numberToFloatPy(c.b),p=Sk.ffi.numberToFloatPy(c.h),l=Sk.ffi.numberToIntPy(d.segments?d.segments:32),m=Sk.ffi.numberToIntPy(1),r=Sk.ffi.booleanToPy(!1);c=Sk.ffi.callsim(a.Euclidean3,Sk.ffi.referenceToPy(c.axis,"Euclidean3"));e=Sk.ffi.callsim(a.CylinderGeometry,e,g,p,l,m,r,c);return f(e,d)});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);return b});default:return q(b,c,Sk.geometry.CYLINDER_BUILDER)}});c.__str__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.geometry.CYLINDER_BUILDER+"()")})},Sk.geometry.CYLINDER_BUILDER,[]);a.PlaneBuilder=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("PlaneBuilder",arguments,0,0);Sk.ffi.referenceToPy({},"PlaneBuilder",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "height":return Sk.ffi.callableToPy(a,
"height",function(a,c){Sk.ffi.checkMethodArgs("height",arguments,1,1);Sk.ffi.checkArgType("height",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.height=Sk.ffi.remapToJs(c);return b});case "width":return Sk.ffi.callableToPy(a,"width",function(a,c){Sk.ffi.checkMethodArgs("width",arguments,1,1);Sk.ffi.checkArgType("width",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.width=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,
c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c,e={};if(d.volume){c=d.width?d.width:1;var g=d.height?d.height:1,p=Math.pow(d.volume/(c*g),0.5);e.width=p*c;e.height=p*g}else e.width=d.width?d.width:1,e.height=d.height?d.height:1;c=e;e=
Sk.ffi.numberToFloatPy(c.width);c=Sk.ffi.numberToFloatPy(c.height);g=Sk.ffi.numberToIntPy(d.segments?d.segments:1);e=Sk.ffi.callsim(a.PlaneGeometry,e,c,g,g);return f(e,d)});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);return b});default:return q(b,c,"PlaneBuilder")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("PlaneBuilder()")})},
"PlaneBuilder",[]);a.SphereBuilder=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("SphereBuilder",arguments,0,0);Sk.ffi.referenceToPy({},"SphereBuilder",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "radius":return Sk.ffi.callableToPy(a,"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radius=
Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c;c=d.volume?Math.pow(3*d.volume/(4*Math.PI),1/3):d.radius?d.radius:0.5;c=Sk.ffi.numberToFloatPy(c);
var e=Sk.ffi.numberToIntPy(d.segments?d.segments:24),g=Sk.ffi.numberToIntPy(d.segments?d.segments:18);c=Sk.ffi.callsim(a.SphereGeometry,c,e,g);return f(c,d)});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);d.radius=Math.pow(3/(4*Math.PI),1/3);return b});default:return q(b,c,"SphereBuilder")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("SphereBuilder()")})},
"SphereBuilder",[]);a[Sk.geometry.VOLUME_BUILDER]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs(Sk.geometry.VOLUME_BUILDER,arguments,0,0);Sk.ffi.referenceToPy({},Sk.geometry.VOLUME_BUILDER,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "radius":return Sk.ffi.callableToPy(a,"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||
Sk.ffi.isNone(c),c);d.radius=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c={};if(d.volume){var g=d.radius?d.radius:1,p=d.height?d.height:
1,f=Math.pow(d.volume/(g*p),0.5);c.width=f*g;c.height=f*p}else c.radius=d.radius?d.radius:1,c.height=d.height?d.height:1;Sk.ffi.numberToFloatPy(c.radius);Sk.ffi.numberToFloatPy(0.08);Sk.ffi.numberToFloatPy(0.01);Sk.ffi.numberToFloatPy(0.2);Sk.ffi.numberToFloatPy(0.8);Sk.ffi.numberToIntPy(6);Sk.ffi.numberToIntPy(d.segments?d.segments:32);return Sk.ffi.callsim(a[Sk.geometry.VOLUME],e(d))});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,
0,0);d.radius=Math.sqrt(1/Math.PI);return b});default:return q(b,c,Sk.geometry.VOLUME_BUILDER)}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.geometry.VOLUME_BUILDER+"()")})},Sk.geometry.VOLUME_BUILDER,[]);a[Sk.geometry.VOLUME]=Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkMethodArgs(Sk.geometry.VOLUME,arguments,1,1);var d=new b[Sk.three.OBJECT_3D],
e,g=new Sk.geometry.CylinderBuilder;g.radius(0.01).material(Sk.ffi.remapToJs(c));g.axis(1,0,0);e=g.build();e.position.set(0,0.5,0.5);d.add(e);e=g.build();e.position.set(0,0.5,-0.5);e.name="c1";d.add(e);e=g.build();e.position.set(0,-0.5,0.5);d.add(e);g.axis(0,1,0);e=g.build();e.position.set(0.5,0,0.5);d.add(e);e=g.build();e.position.set(-0.5,0,0.5);d.add(e);e=g.build();e.position.set(-0.5,0,-0.5);e.name="c2";d.add(e);g.axis(0,0,1);e=g.build();e.position.set(0.5,-0.5,0);d.add(e);e=g.build();e.position.set(-0.5,
0.5,0);d.add(e);e=g.build();e.position.set(-0.5,-0.5,0);d.add(e);g=new Sk.geometry.ArrowBuilder;g.radius(0.01).material(Sk.ffi.remapToJs(c));g.axis(1,0,0);e=g.build();e.name="e1";e.position.set(0,-0.5,-0.5);d.add(e);g.axis(0,1,0);e=g.build();e.name="e2";e.position.set(0.5,0,-0.5);d.add(e);g.axis(0,0,1);e=g.build();e.position.set(0.5,0.5,0);d.add(e);Sk.ffi.referenceToPy(d,Sk.geometry.VOLUME,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(a,b){Sk.ffi.remapToJs(a);switch(b){default:return Sk.three.object3DGetAttr(Sk.geometry.VOLUME,
a,b)}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a);switch(b){case "orientation":Sk.ffi.checkArgType(b,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(c),c);a=Sk.ffi.remapToJs(c);b=d.getObjectByName("e1");c=d.getObjectByName("c1");var e=d.getObjectByName("e2"),d=d.getObjectByName("c2");a?(b.position.set(0,-0.5,-0.5),c.position.set(0,0.5,-0.5),e.position.set(0.5,0,-0.5),d.position.set(-0.5,0,-0.5)):(b.position.set(0,0.5,-0.5),c.position.set(0,-0.5,-0.5),e.position.set(-0.5,0,-0.5),d.position.set(0.5,
0,-0.5));break;default:return Sk.three.object3DSetAttr(Sk.geometry.VOLUME,a,b,c)}});c.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=[].map(function(b){return[b,Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy(Sk.geometry.VOLUME+"("+b.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=[].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy(Sk.geometry.VOLUME+
"("+b.join(", ")+")")})},Sk.geometry.VOLUME,[]);a[Sk.geometry.VORTEX_BUILDER]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs(Sk.geometry.VORTEX_BUILDER,arguments,0,0);Sk.ffi.referenceToPy({},Sk.geometry.VORTEX_BUILDER,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "radius":return Sk.ffi.callableToPy(a,"radius",function(a,c){Sk.ffi.checkMethodArgs("radius",arguments,1,1);Sk.ffi.checkArgType("radius",
[n,Sk.ffi.PyType.NONE],Sk.ffi.isNum(c)||Sk.ffi.isNone(c),c);d.radius=Sk.ffi.remapToJs(c);return b});case "segments":return Sk.ffi.callableToPy(a,"segments",function(a,c){Sk.ffi.checkMethodArgs("segments",arguments,1,1);Sk.ffi.checkArgType("segments",[Sk.ffi.PyType.INT,Sk.ffi.PyType.NONE],Sk.ffi.isInt(c)||Sk.ffi.isNone(c),c);d.segments=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,"build",function(b){Sk.ffi.checkMethodArgs("build",arguments,0,0);var c={};if(d.volume){var e=
d.radius?d.radius:1,g=d.height?d.height:1,p=Math.pow(d.volume/(e*g),0.5);c.width=p*e;c.height=p*g}else c.radius=d.radius?d.radius:1,c.height=d.height?d.height:1;var c=Sk.ffi.numberToFloatPy(c.radius),e=Sk.ffi.numberToFloatPy(0.08),g=Sk.ffi.numberToFloatPy(0.01),p=Sk.ffi.numberToFloatPy(0.2),l=Sk.ffi.numberToFloatPy(0.8),m=Sk.ffi.numberToIntPy(6),r=Sk.ffi.numberToIntPy(d.segments?d.segments:32),c=Sk.ffi.callsim(a[Sk.three.VORTEX_GEOMETRY],c,e,g,p,l,m,r);return f(c,d)});case "normalize":return Sk.ffi.callableToPy(a,
"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);d.radius=Math.sqrt(1/Math.PI);return b});default:return q(b,c,Sk.geometry.VORTEX_BUILDER)}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.geometry.VORTEX_BUILDER+"()")})},Sk.geometry.VORTEX_BUILDER,[])}}).call(this);(function(){Sk.builtin.defineHttp=function(a){Sk.ffi.checkFunctionArgs("defineHttp",arguments,1,1);a.XMLHttpRequest=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(new XMLHttpRequest,"XMLHttpRequest",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);switch(c){case "open":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"open",null,a)});b.__call__=
Sk.ffi.functionPy(function(a,b,c,d,e,p){Sk.ffi.checkMethodArgs("open",arguments,2,5);Sk.ffi.checkArgType("method",[Sk.ffi.PyType.STR],Sk.builtin.isStringPy(b),b);Sk.ffi.checkArgType("url",[Sk.ffi.PyType.STR],Sk.builtin.isStringPy(c),c);Sk.ffi.checkArgType("async",[Sk.ffi.PyType.BOOL],Sk.ffi.isBool(d),d);var H=Sk.builtin.stringToJs(b),r=Sk.builtin.stringToJs(c),h=Sk.ffi.remapToJs(d);f.open(H,r,h)})},"open",[]));case "send":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,
"send",null,a)});b.__call__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("send",arguments,0,1);f.send()})},"send",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("XMLHttpRequest");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);switch(b){case "onload":Sk.ffi.checkArgType(b,[Sk.ffi.PyType.FUNCTION],Sk.ffi.isFunction(c),c);a.onload=Sk.ffi.remapToJs(c);break;case "responseType":Sk.ffi.checkArgType(b,[Sk.ffi.PyType.STR],Sk.builtin.isStringPy(c),c);a.responseType=
Sk.ffi.remapToJs(c);break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("XMLHttpRequest");}});c.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("XMLHttpRequest")});c.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("XMLHttpRequest()")})},"XMLHttpRequest",[])}}).call(this);(function(){Sk.builtin.defineNode=function(a){Sk.ffi.checkFunctionArgs("defineNode",arguments,1,1);var b=function(b){return b?Sk.ffi.callsim(a.Node,Sk.ffi.referenceToPy(b,"Node")):Sk.builtin.none.none$};a.Node=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("Node",arguments,1,1);Sk.ffi.checkArgType("node","Node",Sk.ffi.isInstance(b,"Node"),b);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Node",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(c,d){var h=
Sk.ffi.remapToJs(c);switch(d){case "clientHeight":return Sk.ffi.numberToFloatPy(h.clientHeight);case "clientWidth":return Sk.ffi.numberToFloatPy(h.clientWidth);case "dir":return Sk.builtin.stringToPy(h.dir);case "firstChild":return b(h.firstChild);case "lastChild":return b(h.lastChild);case "nextSibling":return b(h.nextSibling);case "offsetHeight":return Sk.ffi.numberToIntPy(h.offsetHeight);case "offsetWidth":return Sk.ffi.numberToIntPy(h.offsetWidth);case "parentNode":return b(h.parentNode);case "previousSibling":return b(h.previousSibling);
case "height":return Sk.ffi.numberToIntPy(h.height);case "width":return Sk.ffi.numberToIntPy(h.width);case "style":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="style";a.v=h.style});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "height":return Sk.builtin.stringToPy(c.height);case "left":return Sk.builtin.stringToPy(c.left);case "position":return Sk.builtin.stringToPy(c.position);case "top":return Sk.builtin.stringToPy(c.top);
case "width":return Sk.builtin.stringToPy(c.width)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "height":a.height=c;break;case "left":a.left=c;break;case "position":a.position=c;break;case "top":a.top=c;break;case "width":a.width=c;break;default:throw new Sk.builtin.AssertionError(b+" is not a writeable attribute of style");}});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("style")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("style")})},
"style",[]));case "appendChild":return Sk.ffi.callableToPy(a,"appendChild",function(a,c){Sk.ffi.checkMethodArgs("appendChild",arguments,1,1);Sk.ffi.checkArgType("child","Node",Sk.ffi.isInstance(c,"Node"),c);var d=Sk.ffi.remapToJs(c);return b(h.appendChild(d))});case "getContext":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getContext"});c.__call__=Sk.ffi.functionPy(function(b,c,d){b=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);var e=h.getContext(b,
d);return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="CanvasRenderingContext2D";a.v=e});c.__getattr__=Sk.ffi.functionPy(function(b,c){switch(c){case "fillStyle":return Sk.builtin.stringToPy(e.fillStyle);case "font":return Sk.builtin.stringToPy(e.font);case "lineCap":return Sk.builtin.stringToPy(e.lineCap);case "lineJoin":return Sk.builtin.stringToPy(e.lineJoin);case "lineWidth":return Sk.ffi.numberToIntPy(e.lineWidth);case "shadowBlur":return Sk.ffi.numberToIntPy(e.shadowBlur);
case "shadowColor":return Sk.builtin.stringToPy(e.shadowColor);case "shadowOffsetX":return Sk.ffi.numberToIntPy(e.shadowOffsetX);case "shadowOffsetY":return Sk.ffi.numberToIntPy(e.shadowOffsetY);case "strokeStyle":return Sk.builtin.stringToPy(e.strokeStyle);case "textAlign":return Sk.builtin.stringToPy(e.textAlign);case "textBaseline":return Sk.builtin.stringToPy(e.textBaseline);case "webkitBackingStorePixelRatio":return Sk.ffi.numberToIntPy(e.webkitBackingStorePixelRatio);case "arc":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="arc"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g,p,f){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);f=Sk.ffi.remapToJs(f);e.arc(b,c,d,g,p,f)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("arc")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("arc")})},"arc",[]));case "arcTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="arcTo"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g,p,f,m){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);f=Sk.ffi.remapToJs(f);m=Sk.ffi.remapToJs(m);e.arcTo(b,c,d,g,p,f,m)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("arcTo")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("arcTo")})},"arcTo",[]));case "beginPath":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="beginPath"});b.__call__=Sk.ffi.functionPy(function(a){e.beginPath()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("beginPath")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("beginPath")})},"beginPath",[]));case "bezierCurveTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="bezierCurveTo"});b.__call__=Sk.ffi.functionPy(function(a,
b,c,d,g,p,f){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);f=Sk.ffi.remapToJs(f);e.bezierCurveTo(b,c,d,g,p,f)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("bezierCurveTo")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("bezierCurveTo")})},"bezierCurveTo",[]));case "clearRect":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="clearRect"});
b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);e.clearRect(b,c,d,g)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("clearRect")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("clearRect")})},"clearRect",[]));case "clip":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="clip"});b.__call__=Sk.ffi.functionPy(function(a){e.clip()});
b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("clip")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("clip")})},"clip",[]));case "closePath":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="closePath"});b.__call__=Sk.ffi.functionPy(function(a){e.closePath()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("closePath")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("closePath")})},
"closePath",[]));case "createLinearGradient":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="createLinearGradient"});c.__call__=Sk.ffi.functionPy(function(b,c,d,g,p){c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);var f=e.createLinearGradient(c,d,g,p);return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="CanvasGradient";a.v=f});c.__getattr__=Sk.ffi.functionPy(function(b,
c){switch(c){case "addColorStop":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="addColorStop"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);f.addColorStop(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("addColorStop")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("addColorStop")})},"addColorStop",[]))}});c.__setattr__=Sk.ffi.functionPy(function(a,
b,c){Sk.ffi.remapToJs(c);switch(b){default:throw new Sk.builtin.AssertionError(b+" is not a writeable attribute of CanvasGradient");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CanvasGradient")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CanvasGradient")})},"CanvasGradient",[]))});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("createLinearGradient")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("createLinearGradient")})},
"createLinearGradient",[]));case "fill":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="fill"});b.__call__=Sk.ffi.functionPy(function(a){e.fill()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fill")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fill")})},"fill",[]));case "fillRect":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name=
"fillRect"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);e.fillRect(b,c,d,g)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fillRect")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fillRect")})},"fillRect",[]));case "fillText":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="fillText"});b.__call__=
Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);a=Sk.ffi.remapToJs(g);if("undefined"===typeof a)e.fillText(b,c,d);else if("number"===typeof a)e.fillText(b,c,d,a);else throw new Sk.builtin.TypeError("maxWidth");});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fillText")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("fillText")})},"fillText",[]));case "lineTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="lineTo"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);e.lineTo(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("lineTo")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("lineTo")})},"lineTo",[]));case "moveTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="moveTo"});b.__call__=
Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);e.moveTo(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("moveTo")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("moveTo")})},"moveTo",[]));case "quadraticCurveTo":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="quadraticCurveTo"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);
d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);e.quadraticCurveTo(b,c,d,g)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("quadraticCurveTo")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("quadraticCurveTo")})},"quadraticCurveTo",[]));case "rect":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="rect"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);
d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);e.rect(b,c,d,g)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("rect")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("rect")})},"rect",[]));case "restore":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="restore"});b.__call__=Sk.ffi.functionPy(function(a){e.restore()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("restore")});
b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("restore")})},"restore",[]));case "rotate":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="rotate"});b.__call__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);e.rotate(b)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("rotate")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("rotate")})},"rotate",[]));case "save":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="save"});b.__call__=Sk.ffi.functionPy(function(a){e.save()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("save")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("save")})},"save",[]));case "scale":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="scale"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);
e.scale(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("scale")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("scale")})},"scale",[]));case "setTransform":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setTransform"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g,p,f){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);f=Sk.ffi.remapToJs(f);
e.setTransform(b,c,d,g,p,f)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setTransform")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setTransform")})},"setTransform",[]));case "stroke":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="stroke"});b.__call__=Sk.ffi.functionPy(function(a){e.stroke()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stroke")});b.__repr__=
Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("stroke")})},"stroke",[]));case "strokeRect":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="strokeRect"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);e.strokeRect(b,c,d,g)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("strokeRect")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("strokeRect")})},
"strokeRect",[]));case "strokeText":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="strokeText"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);a=Sk.ffi.remapToJs(g);if("undefined"===typeof a)e.strokeText(b,c,d);else if("number"===typeof a)e.strokeText(b,c,d,a);else throw new Sk.builtin.TypeError("maxWidth");});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("strokeText")});
b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("strokeText")})},"strokeText",[]));case "transform":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="transform"});b.__call__=Sk.ffi.functionPy(function(a,b,c,d,g,p,f){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);g=Sk.ffi.remapToJs(g);p=Sk.ffi.remapToJs(p);f=Sk.ffi.remapToJs(f);e.transform(b,c,d,g,p,f)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("transform")});
b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("transform")})},"transform",[]));case "translate":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="translate"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);e.translate(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("translate")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("translate")})},
"translate",[]))}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "fillStyle":a.fillStyle=c;break;case "font":a.font=c;break;case "lineCap":a.lineCap=c;break;case "lineJoin":a.lineJoin=c;break;case "lineWidth":a.lineWidth=c;break;case "shadowBlur":a.shadowBlur=c;break;case "shadowColor":a.shadowColor=c;break;case "shadowOffsetX":a.shadowOffsetX=c;break;case "shadowOffsetY":a.shadowOffsetY=c;break;case "strokeStyle":a.strokeStyle=c;break;
case "textAlign":a.textAlign=c;break;case "textBaseline":a.textBaseline=c;break;default:throw new Sk.builtin.AssertionError(b+" is not a writeable attribute of CanvasRenderingContext2D");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CanvasRenderingContext2D")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CanvasRenderingContext2D")})},"CanvasRenderingContext2D",[]))});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("getContext")});
c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("getContext")})},"getContext",[]));case "insertBefore":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="insertBefore"});c.__call__=Sk.ffi.functionPy(function(a,c,d){return b(h.insertBefore(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d)))});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("insertBefore")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("insertBefore")})},
"insertBefore",[]));case "removeChild":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="removeChild"});c.__call__=Sk.ffi.functionPy(function(a,c){return b(h.removeChild(Sk.ffi.remapToJs(c)))});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("removeChild")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("removeChild")})},"removeChild",[]));case "setAttribute":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setAttribute"});b.__call__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("setAttribute",arguments,2,2);Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(b),b);h.setAttribute(Sk.builtin.stringToJs(b),Sk.ffi.remapToJs(c))});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setAttribute")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setAttribute")})},"setAttribute",
[]));default:throw Sk.ffi.err.attribute(d).isNotGetableOnType("Node");}});d.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);var d=Sk.ffi.remapToJs(c);switch(b){case "dir":a.dir=d;break;case "id":a.setAttribute(b,d);break;case "height":a.height=d;break;case "innerHTML":Sk.ffi.checkArgType("innerHTML",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(c),c);a.innerHTML=Sk.builtin.stringToJs(c);break;case "width":a.width=d;break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Node");
}});d.getCSS=Sk.ffi.functionPy(function(a,b){return Sk.builtin.stringToPy(a.v.style[b.v])});d.setCSS=Sk.ffi.functionPy(function(a,b,c){a.v.style[b.v]=c.v});d.getAttribute=Sk.ffi.functionPy(function(a,b){var c=a.v.getAttribute(b.v);return c?Sk.builtin.stringToPy(c):null});d.setAttribute=Sk.ffi.functionPy(function(a,b,c){a.v.setAttribute(b.v,c.v)});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(a.v.tagName)});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Node")})},
"Node",[])}}).call(this);(function(){Sk.builtin.defineNumPy=function(a){function b(a,c,d){if(Sk.ffi.isList(a)){a=Sk.ffi.remapToJs(a,!0);d.level+=1;d.level>d.shape.length&&d.shape.push(a.length);for(var e=0,p=a.length;e<p;e++)b(a[e],c,d);d.level-=1}else c.push(a)}function c(a){for(var b=null,c=null,d=null,e=a.length,b=0,c=e-1;b<e/2;b++,c--)d=a[b],a[b]=a[c],a[c]=d}function d(a,b){for(var c=0,d=0,e=a.length;d<e;d++)c+=a[d]*b[d];return c}function e(a){for(var b=1,c=0,d=a.length;c<d;c++)b*=a[c];return b}function f(b){return function(c,
d){var e=Sk.ffi.remapToJs(c);if(Sk.ffi.isInstance(d,"ndarray"))for(var p=e.buffer,f=Sk.ffi.remapToJs(d).buffer,r=[],h=0,k=p.length;h<k;h++)r[h]=b(p[h],f[h]);else for(p=e.buffer,r=[],h=0,k=p.length;h<k;h++)r[h]=b(p[h],d);e=Sk.ffi.tuplePy(e.shape.map(function(a){return Sk.ffi.numberToIntPy(a)}));r=Sk.ffi.listPy(r);return Sk.ffi.callsim(a.ndarray,e,void 0,r)}}function h(b){return function(c,d){for(var e=Sk.ffi.remapToJs(c),p=e.buffer,f=[],r=0,h=p.length;r<h;r++)f[r]=b(d,p[r]);e=Sk.ffi.tuplePy(e.shape.map(function(a){return Sk.ffi.numberToIntPy(a)}));
f=Sk.ffi.listPy(f);return Sk.ffi.callsim(a.ndarray,e,void 0,f)}}function k(b){return function(c){var d=Sk.ffi.remapToJs(c);c=d.buffer.map(function(a){return b(a)});d=Sk.ffi.tuplePy(d.shape.map(function(a){return Sk.ffi.numberToIntPy(a)}));c=Sk.ffi.listPy(c);return Sk.ffi.callsim(a.ndarray,d,void 0,c)}}function q(a,b){for(var c=b.map(function(a){return 0}),d=b.length-1,e=0,f="[",r=0;-1!==e;)c[e]<b[e]?(0!==c[e]&&(f+=", "),e<d?(f+="[",e+=1):(f+=Sk.ffi.remapToJs(Sk.ffh.str(a[r++])),c[e]+=1)):(c[e]=0,
f+="]",e-=1,0<=e&&(c[e]+=1));return f}Sk.ffi.checkFunctionArgs("defineNumPy",arguments,1,1);a.ndarray=Sk.ffi.buildClass(a,function(b,m){m.__init__=Sk.ffi.functionPy(function(a,b,d,e,f,m,n){f={};f.shape=Sk.ffi.remapToJs(b);b=f.shape.slice(0);c(b);m=1;for(var h=n=0,k=b.length;h<k;h++)n=b[h],b[h]=m,m*=n;c(b);f.strides=b;f.dtypePy=d;Sk.ffi.isDefined(e)&&(Sk.ffi.checkArgType("buffer",[Sk.ffi.PyType.LIST],Sk.ffi.isList(e),e),f.buffer=Sk.ffi.remapToJs(e,!0));Sk.ffi.referenceToPy(f,"ndarray",void 0,a)});
m.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "dtype":return d.dtypePy;case "ndim":return Sk.ffi.numberToIntPy(d.shape.length);case "shape":return Sk.ffi.tuplePy(d.shape.map(function(a){return Sk.ffi.numberToIntPy(a)}));case "size":return Sk.ffi.numberToIntPy(e(d.shape));case "strides":return Sk.ffi.tuplePy(d.strides.map(function(a){return Sk.ffi.numberToIntPy(a)}));case "buffer":return Sk.ffi.listPy(d.buffer);case "copy":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"copy",null,a)});c.__call__=Sk.ffi.functionPy(function(b){Sk.ffi.checkMethodArgs("copy",arguments,0,0);var c=Sk.ffi.tuplePy(d.shape.map(function(a){return Sk.ffi.numberToIntPy(a)})),e=d.buffer.map(function(a){return a});return Sk.ffi.callsim(a.ndarray,c,d.dtypePy,Sk.ffi.listPy(e))})},"copy",[]));case "fill":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,
"fill",null,a)});b.__call__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("fill",arguments,1,1);for(var c=0,e=d.buffer.length;c<e;c++)d.dtypePy&&(d.buffer[c]=Sk.misceval.callsim(d.dtypePy,b))})},"fill",[]));case "reshape":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"reshape",null,a)});c.__call__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("reshape",arguments,0,1);return Sk.ffi.callsim(a.ndarray,c,d.dtypePy,
Sk.ffi.listPy(d.buffer))})},"reshape",[]));case "tolist":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(null,"tolist",null,a)});b.__call__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("tolist",arguments,0,0);var b=d.buffer.map(function(a){return a});return Sk.ffi.listPy(b)})},"tolist",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("ndarray");}});m.__getitem__=Sk.ffi.functionPy(function(b,c){var e=Sk.ffi.remapToJs(b);
Sk.ffi.checkMethodArgs("[]",arguments,1,1);if(Sk.ffi.isInt(c)){var f=Sk.ffi.remapToJs(c);if(1<e.shape.length){for(var m=e.strides[0],n=[],h=0,k=f*m,f=(f+1)*m;k<f;k++)n[h++]=e.buffer[k];h=Sk.ffi.listPy(n);e=Sk.ffi.tuplePy(Array.prototype.slice.call(e.shape,1).map(function(a){return Sk.ffi.numberToIntPy(a)}));return Sk.ffi.callsim(a.ndarray,e,void 0,h)}if(0<=f&&f<e.buffer.length)return e.buffer[f];throw new Sk.builtin.IndexError("array index out of range");}if(Sk.ffi.isTuple(c))return n=Sk.ffi.remapToJs(c),
e.buffer[d(e.strides,n)];if(Sk.ffi.isFunction(c)){n=c.indices();k="undefined"!==typeof n[0]?n[0]:0;f="undefined"!==typeof n[1]?n[1]:e.buffer.length;f=f>e.buffer.length?e.buffer.length:f;m="undefined"!==typeof n[2]?n[2]:1;n=[];h=0;if(0<m)for(;k<f;k+=m)n[h++]=e.buffer[k];h=Sk.ffi.listPy(n);e=Sk.ffi.tuplePy([n.length].map(function(a){return Sk.ffi.numberToIntPy(a)}));return Sk.ffi.callsim(a.ndarray,e,void 0,h)}Sk.ffi.checkArgType("index",[Sk.ffi.PyType.INT,Sk.ffi.PyType.TUPLE,Sk.ffi.PyType.FUNCTION],
!1,c)});m.__setitem__=Sk.ffi.functionPy(function(a,b,c){var e=Sk.ffi.remapToJs(a);Sk.ffi.checkMethodArgs("[]",arguments,2,2);if(Sk.ffi.isInt(b)){var f=Sk.ffi.remapToJs(b);if(1<e.shape.length)for(var m=Sk.ffi.remapToJs(c),n=e.strides[0],h=0,k=f*n,f=(f+1)*n;k<f;k++)e.buffer[k]=m.buffer[h++];else if(0<=f&&f<e.buffer.length)e.buffer[f]=c;else throw new Sk.builtin.IndexError("array index out of range");}else Sk.ffi.isTuple(b)?(m=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a),e.buffer[d(e.strides,m)]=c):Sk.ffi.checkArgType("index",
[Sk.ffi.PyType.INT,Sk.ffi.PyType.TUPLE],!1,b)});m.__len__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.ffi.numberToIntPy(a.shape[0])});m.__iter__=Sk.ffi.functionPy(function(a){var b={tp$iter:function(){return b},$obj:Sk.ffi.remapToJs(a),$index:0,tp$iternext:function(){return b.$index>=b.$obj.buffer.length?void 0:b.$obj.buffer[b.$index++]}};return b});m.__add__=Sk.ffi.functionPy(f(Sk.ffh.add));m.__radd__=Sk.ffi.functionPy(h(Sk.ffh.add));m.__sub__=Sk.ffi.functionPy(f(Sk.ffh.sub));m.__rsub__=
Sk.ffi.functionPy(h(Sk.ffh.sub));m.__mul__=Sk.ffi.functionPy(f(Sk.ffh.mul));m.__rmul__=Sk.ffi.functionPy(h(Sk.ffh.mul));m.__div__=Sk.ffi.functionPy(f(Sk.ffh.div));m.__rdiv__=Sk.ffi.functionPy(h(Sk.ffh.div));m.__mod__=Sk.ffi.functionPy(f(Sk.ffh.mod));m.__rmod__=Sk.ffi.functionPy(h(Sk.ffh.mod));m.__or__=Sk.ffi.functionPy(f(Sk.ffh.bitOr));m.__ror__=Sk.ffi.functionPy(h(Sk.ffh.bitOr));m.__xor__=Sk.ffi.functionPy(f(Sk.ffh.bitXor));m.__rxor__=Sk.ffi.functionPy(h(Sk.ffh.bitXor));m.__and__=Sk.ffi.functionPy(f(Sk.ffh.bitAnd));
m.__rand__=Sk.ffi.functionPy(h(Sk.ffh.bitAnd));m.__lshift__=Sk.ffi.functionPy(f(Sk.ffh.lshift));m.__rlshift__=Sk.ffi.functionPy(h(Sk.ffh.lshift));m.__rshift__=Sk.ffi.functionPy(f(Sk.ffh.rshift));m.__rrshift__=Sk.ffi.functionPy(h(Sk.ffh.rshift));m.__pos__=Sk.ffi.functionPy(k(Sk.ffh.positive));m.__neg__=Sk.ffi.functionPy(k(Sk.ffh.negative));m.__exp__=Sk.ffi.functionPy(k(Sk.ffh.exp));m.__sin__=Sk.ffi.functionPy(k(Sk.ffh.sin));m.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(q(a.buffer,
a.shape))});m.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("array("+q(a.buffer,a.shape)+")")})},"ndarray",[]);a.array=Sk.ffi.functionPy(function(c,d,e,f,p,h){Sk.ffi.checkFunctionArgs("array",arguments,1,6);Sk.ffi.checkArgType("object",[Sk.ffi.PyType.LIST],Sk.ffi.isList(c),c);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("copy",[Sk.ffi.PyType.BOOL],Sk.ffi.isBool(e),e);var r=[],k={level:0,shape:[]};b(c,r,k);if(Sk.ffi.isDefined(d)){Sk.ffi.checkArgType("dtype",
[Sk.ffi.PyType.FUNCTION],Sk.ffi.isFunction(d),d);for(var q=0,z=r.length;q<z;q++)r[q]=Sk.misceval.callsim(d,r[q])}k=Sk.ffi.tuplePy(k.shape.map(function(a){return Sk.ffi.numberToFloatPy(a)}));r=Sk.ffi.listPy(r);return Sk.ffi.callsim(a.ndarray,k,d,r)});a.empty=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkFunctionArgs("empty",arguments,1,3)});a.linspace=Sk.ffi.functionPy(function(b,c,d,e,f){Sk.ffi.checkFunctionArgs("linspace(start, stop, num=50, endpoint=True, retstep=False)",arguments,2,5);var h;Sk.ffi.isDefined(d)?
(Sk.ffi.checkArgType("num",[Sk.ffi.PyType.INT],Sk.ffi.isInt(d),d),h=Sk.ffi.remapToJs(d)):(h=50,d=Sk.ffi.numberToIntPy(50));var r;Sk.ffi.isDefined(e)?(Sk.ffi.checkArgType("endpoint",[Sk.ffi.PyType.BOOL],Sk.ffi.isBool(e),e),r=Sk.ffi.remapToJs(e)):r=!0;var k;Sk.ffi.isDefined(f)?(Sk.ffi.checkArgType("retstep",[Sk.ffi.PyType.BOOL],Sk.ffi.isBool(f),f),k=Sk.ffi.remapToJs(f)):k=!1;var q=Sk.ffh.sub(c,b);r=r?Sk.ffh.div(q,Sk.ffh.sub(d,Sk.ffi.numberToIntPy(1))):Sk.ffh.div(q,d);for(var q=[],z=0;z<h;z++)q[z]=Sk.ffh.add(Sk.ffh.mul(Sk.ffi.numberToFloatPy(z),
r),b);h=[];h[0]=d;h=Sk.ffi.tuplePy(h);h=Sk.ffi.callsim(a.ndarray,h,void 0,Sk.ffi.listPy(q));return k?Sk.ffi.tuplePy([h,r]):h});a.zeros=Sk.ffi.functionPy(function(b,c,d){Sk.ffi.checkFunctionArgs("zeros",arguments,1,2);Sk.ffi.checkArgType("shape",[Sk.ffi.PyType.TUPLE],Sk.ffi.isTuple(b),b);for(var f=Sk.ffi.remapToJs(b),f=e(f),p=[],h=Sk.ffi.numberToFloatPy(0),r=0;r<f;r++)p[r]=h;return Sk.ffi.callsim(a.ndarray,b,c,Sk.ffi.listPy(p))})}}).call(this);(function(){Sk.builtin.defineProbeE3=function(a,b){Sk.ffi.checkFunctionArgs("defineProbeE3",arguments,2,2);var c=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG];a.ProbeE3=Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("ProbeE3",arguments,4,4);var m={};m.grade0=b;m.grade1=c;m.grade2=d;m.grade3=e;m.quantity=Sk.builtin.none.none$;Sk.ffi.referenceToPy(m,"ProbeE3",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);
switch(b){case "grade0":return c.grade0;case "grade1":return c.grade1;case "grade2":return c.grade2;case "grade3":return c.grade3;case "position":return c.position;case "quantity":return c.quantity;default:throw Sk.ffi.err.attribute(b).isNotGetableOnType("ProbeE3");}});c.__setattr__=Sk.ffi.functionPy(function(a,c,d){a=Sk.ffi.remapToJs(a);switch(c){case "position":Sk.ffi.checkArgType("position","Euclidean3",Sk.ffi.isInstance(d,"Euclidean3"),d);a.position=d;d=Sk.ffi.remapToJs(d).vector;var e=Sk.ffi.remapToJs(a.grade0);
e.position=d;e=Sk.ffi.remapToJs(a.grade1);e.position=d;var n=Sk.ffi.remapToJs(a.grade2);n.position=d;var m=Sk.ffi.remapToJs(a.grade3);m.position=d;break;case "quantity":Sk.ffi.checkArgType("quantity","Euclidean3",Sk.ffi.isInstance(d,"Euclidean3"),d);m=function(a,c,d){if(-1!==d){var e=1/Math.sqrt(2*(1+d));return new b.Quaternion(-(+e*c),-(-e*a),-0,e*(1+d))}return new b.Quaternion(1,0,0,0)};c=function(a,b){a.scale.set(b,b,b);a.traverse(function(a){a.visible=!0})};var g=function(a){a.traverse(function(a){a.visible=
!1});a.scale.set(1,1,1)},l=Sk.ffi.remapToJs(d),p=l.w,n=l.x,H=l.y,r=l.z,u=l.xy,N=l.yz,z=l.zx,l=l.xyz,e=Sk.ffi.remapToJs(a.grade0),p=Math.abs(p);0!==p?c(e,p):g(e);e=Sk.ffi.remapToJs(a.grade1);0!==n||0!==H||0!==r?(p=Math.sqrt(n*n+H*H+r*r),H=m(n/p,H/p,r/p),e.quaternion.set(H.x,H.y,H.z,H.w),c(e,p)):g(e);n=Sk.ffi.remapToJs(a.grade2);0!==u||0!==N||0!==z?(H=Math.sqrt(u*u+N*N+z*z),r=Math.pow(H,0.5),H=m(N/H,z/H,u/H),n.quaternion.set(H.x,H.y,H.z,H.w),c(n,r)):g(n);m=Sk.ffi.remapToJs(a.grade3);if(0!==l){g=Math.pow(Math.abs(l),
1/3);try{Sk.ffi.sattr(a.grade3,"orientation",Sk.ffi.booleanToPy(0<=("number"===typeof l?l?0>l?-1:1:isNaN(l)?NaN:0:NaN)))}catch(J){}c(m,g)}else g(m);a.quantity=d;break;case "grade0":a.grade0=d;break;case "grade1":a.grade1=d;break;case "grade2":a.grade2=d;break;case "grade3":a.grade3=d;break;default:throw Sk.ffi.err.attribute(c).isNotSetableOnType("ProbeE3");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("ProbeE3")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("ProbeE3")})},
"ProbeE3",[]);a.ProbeBuilderE3=Sk.ffi.buildClass(a,function(b,e){e.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("ProbeBuilderE3",arguments,0,0);Sk.ffi.referenceToPy({segments:12,wireframe:!1},"ProbeBuilderE3",void 0,a)});e.__getattr__=Sk.ffi.functionPy(function(b,d){var e=Sk.ffi.remapToJs(b);switch(d){case "color":return Sk.ffi.callableToPy(a,d,function(a,n){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType(d,[c,Sk.ffi.PyType.STR,"Color"],Sk.ffi.isNum(n)||Sk.builtin.isStringPy(n)||
Sk.ffi.isInstance(n,"Color"),n);e.color=n;return b});case "segments":return Sk.ffi.callableToPy(a,d,function(a,c){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType(d,Sk.ffi.PyType.INT,Sk.ffi.isInt(c),c);e.segments=Sk.ffi.remapToJs(c);return b});case "wireframe":return Sk.ffi.callableToPy(a,d,function(a,c){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType(d,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(c),c);e.wireframe=Sk.ffi.remapToJs(c);return b});case "build":return Sk.ffi.callableToPy(a,
d,function(b){b=["SphereBuilder",Sk.geometry.ARROW_BUILDER,Sk.geometry.VORTEX_BUILDER,Sk.geometry.VOLUME_BUILDER].map(function(b){b=Sk.ffi.callsim(a[b]);e.color&&Sk.ffi.callsim(Sk.ffi.gattr(b,"color"),e.color);Sk.ffi.callsim(Sk.ffi.gattr(b,"normalize"));Sk.ffi.callsim(Sk.ffi.gattr(b,"segments"),Sk.ffi.numberToIntPy(e.segments));Sk.ffi.callsim(Sk.ffi.gattr(b,"wireframe"),Sk.ffi.booleanToPy(e.wireframe));return Sk.ffi.callsim(Sk.ffi.gattr(b,"build"))});return Sk.ffi.callsim(a.ProbeE3,b[0],b[1],b[2],
b[3])});default:throw Sk.ffi.err.attribute(d).isNotGetableOnType("ProbeBuilderE3");}});e.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("ProbeBuilderE3");}});e.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("ProbeBuilderE3")});e.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("ProbeBuilderE3")})},"ProbeBuilderE3",[])}}).call(this);(function(){Sk.builtin.defineEuclidean2=function(a,b){function c(a){return"number"===typeof a}function d(b,c,d,e){return Sk.ffi.callsim(a.Euclidean2,Sk.ffi.numberToFloatPy(b),Sk.ffi.numberToFloatPy(c),Sk.ffi.numberToFloatPy(d),Sk.ffi.numberToFloatPy(e))}function e(a,b,c){var d,e,p,f,r=[];d=function(a,b){var d;if(0!==a){0<=a?0<r.length&&r.push("+"):r.push("-");d=Math.abs(a);if(1===d)return r.push(b);r.push(Sk.builtin.numberToFloatStringJs(d,10,!0));if(b!==k)return r.push(c),r.push(b)}};e=p=0;for(f=
a.length-1;0<=f?p<=f:p>=f;e=0<=f?++p:--p)d(a[e],b[e]);return 0<r.length?r.join(""):Sk.builtin.numberToFloatStringJs(0,10,!0)}function f(a,b,c,e,f,p,h,r,k){var N=+f,z=+p,J=+h,x=-r,s=+(f*N+p*z+h*J-r*x),E=N*s+-0*z+-0*J- -0*x,F=-0*N+z*s- -0*J+-0*x,v=-0*N+-0*z+J*s- -0*x,N=-0*N+-0*z- -0*J+x*s;f=f*E+p*F+h*v-r*N;E/=f;F/=f;v/=f;r=N/f;f=a*E+b*F+c*v-e*r;p=a*F+b*E-c*r+e*v;h=a*v+b*r+c*E-e*F;a=a*r+b*v-c*F+e*E;if("undefined"!==typeof k)k.w=f,k.x=p,k.y=h,k.xy=a;else return d(f,p,h,a)}Sk.ffi.checkFunctionArgs("defineEuclidean2",
arguments,2,2);var h=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],k=Sk.builtin.numberToFloatStringJs(1,10,!0);a.ScalarE2=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("ScalarE2",arguments,1,1);Sk.ffi.checkArgType("w",h,Sk.ffi.isNum(a),a);return d(Sk.ffi.remapToJs(a),0,0,0)});a.VectorE2=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("VectorE2",arguments,2,2);Sk.ffi.checkArgType("x",h,Sk.ffi.isNum(a),a);Sk.ffi.checkArgType("y",h,Sk.ffi.isNum(b),b);return d(0,Sk.ffi.remapToJs(a),
Sk.ffi.remapToJs(b),0)});a.PseudoscalarE2=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("PseudoscalarE2",arguments,1,1);Sk.ffi.checkArgType("xy",h,Sk.ffi.isNum(a),a);return d(0,0,0,Sk.ffi.remapToJs(a))});a.Euclidean2=Sk.ffi.buildClass(a,function(q,n){n.__init__=Sk.ffi.functionPy(function(a,c,d,e,f){Sk.ffi.checkMethodArgs("Euclidean2",arguments,1,4);switch(Sk.ffi.getType(c)){case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:Sk.ffi.checkMethodArgs("Euclidean2",arguments,
4,4);Sk.ffi.checkArgType("w",h,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("x",h,Sk.ffi.isNum(d),d);Sk.ffi.checkArgType("y",h,Sk.ffi.isNum(e),e);Sk.ffi.checkArgType("xy",h,Sk.ffi.isNum(f),f);Sk.ffi.referenceToPy(new b.Euclidean2(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(e),Sk.ffi.remapToJs(f)),"Euclidean2",void 0,a);break;case Sk.ffi.PyType.INSTANCE:Sk.ffi.checkMethodArgs("Euclidean2",arguments,1,1);Sk.ffi.checkArgType("w",h,Sk.ffi.isInstance(c,"Euclidean2"),c);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),
"Euclidean2",void 0,a);break;default:Sk.ffi.checkArgType("w",h,!1,c)}});n.__add__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return d(c.w+e,c.x,c.y,c.xy);if(Sk.ffi.isInstance(b,"Euclidean2"))return d(c.w+e.w,c.x+e.x,c.y+e.y,c.xy+e.xy)});n.__radd__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add",h,Sk.ffi.isNum(b),b);var c=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a);return d(c+e.w,e.x,e.y,e.xy)});n.__iadd__=Sk.ffi.functionPy(function(a,
b){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return c.w+=d,a;if(Sk.ffi.isInstance(b,"Euclidean2"))return c.w+=d.w,c.x+=d.x,c.y+=d.y,c.xy+=d.xy,a});n.__sub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return d(c.w-e,c.x,c.y,c.xy);if(Sk.ffi.isInstance(b,"Euclidean2"))return d(c.w-e.w,c.x-e.x,c.y-e.y,c.xy-e.xy)});n.__rsub__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add",h,Sk.ffi.isNum(b),b);var c=Sk.ffi.remapToJs(b),
e=Sk.ffi.remapToJs(a);return d(c-e.w,-e.x,-e.y,-e.xy)});n.__isub__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);c(e)?d.w-=e:(d.w-=e.w,d.x-=e.x,d.y-=e.y,d.xy-=e.xy);return a});n.__mul__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case "Euclidean2":var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f=c.w,r=c.x,h=c.y,c=c.xy,n=e.w,k=e.x,q=e.y,e=e.xy;return d(f*n+r*k+h*q-c*e,f*k+r*n-h*e+c*q,f*q+r*e+h*n-
c*k,f*e+r*q-h*k+c*n);default:return}case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),d(c.w*e,c.x*e,c.y*e,c.xy*e)}});n.__rmul__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy)});n.__imul__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e))d.w*=e,d.x*=e,d.y*=e,d.xy*=e;else{var f=d.w,r=d.x,h=d.y,n=d.xy,k=e.w,q=e.x,x=e.y,
e=e.xy;d.w=f*k+r*q+h*x-n*e;d.x=f*q+r*k-h*e+n*x;d.y=f*x+r*e+h*k-n*q;d.xy=f*e+r*x-h*q+n*k}return a});n.__div__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return c(b)?f(a.w,a.x,a.y,a.xy,b,0,0,0,void 0):f(a.w,a.x,a.y,a.xy,b.w,b.x,b.y,b.xy,void 0)});n.__rdiv__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return f(b,0,0,0,a.w,a.x,a.y,a.xy,void 0);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" / "+JSON.stringify(a,
null,2));});n.__idiv__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);c(e)?f(d.w,d.x,d.y,d.xy,e,0,0,0,d):f(d.w,d.x,d.y,d.xy,e.w,e.x,e.y,e.xy,d);return a});n.__or__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case "Euclidean2":var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return d(c.w*e.w+c.x*e.x+c.y*e.y-c.xy*e.xy,0,0,0);default:return}case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return c=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),d(c.w*e,0,0,0)}});n.__ror__=Sk.ffi.functionPy(function(a,b){var e=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(b);if(c(f))return d(f*e.w,0,0,0)});n.__xor__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case "Euclidean2":var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f=c.w,r=c.x,h=c.y,n=e.w,k=e.x,q=e.y;return d(f*n,f*k+r*n,f*q+h*n,f*e.xy+r*q-h*k+c.xy*n);default:return}case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return c=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),d(c.w*e,c.x*e,c.y*e,c.xy*e)}});n.__rxor__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy)});n.__ixor__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e))d.w*=e,d.x*=e,d.y*=e,d.xy*=e;else{var f=d.w,r=d.x,h=d.y,n=d.xy,k=e.w,q=e.x,x=e.y,e=e.xy;d.w=f*k;d.x=f*q+r*k;d.y=f*x+h*k;d.xy=f*e+r*x-h*q+n*k}return a});n.__lshift__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case "Euclidean2":var c=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f=c.w,r=c.x,h=c.y,n=e.x,k=e.y,q=e.xy;return d(f*e.w+r*n+h*k-c.xy*q,f*n-h*q,f*k+r*q,f*q);default:return}case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),d(c.w*e,0,0,0)}});n.__rlshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy)});n.__ilshift__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);
if(c(e))d.w*=e,d.x=0,d.y=0,d.xy=0;else{var f=d.w,r=d.x,h=d.y,n=e.x,k=e.y,q=e.xy;d.w=f*e.w+r*n+h*k-d.xy*q;d.x=f*n-h*q;d.y=f*k+r*q;d.xy=f*q}return a});n.__rshift__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case "Euclidean2":var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f=c.x,r=c.y,h=c.xy,n=e.w,k=e.x,q=e.y;return d(c.w*n+f*k+r*q-h*e.xy,+f*n+h*q,+r*n-h*k,h*n);default:return}case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:return c=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),d(c.w*e,-c.x*e,-c.y*e,c.xy*e)}});n.__rrshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,0,0,0)});n.__irshift__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e)){var f=d.w,r=d.x,h=d.y,n=d.xy,k=e,q=0,x=0,s=0;d.w*=e;d.x*=-e;d.y*=-e;d.xy*=e}else f=d.w,r=d.x,h=d.y,n=d.xy,k=e.w,q=e.x,x=e.y,s=e.xy,d.w=f*k+r*q+h*x-n*s,d.x=+r*k+n*x,d.y=+h*k-n*q,d.xy=n*k;return a});n.u$negative=
function(){var a=Sk.ffi.remapToJs(this);return d(-a.w,-a.x,-a.y,-a.xy)};n.u$positive=function(){return this};n.nb$invert=function(){var a=Sk.ffi.remapToJs(this);return d(a.w,a.x,a.y,-a.xy)};n.__getitem__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);switch(b){case 0:return d(a.w,0,0,0);case 1:return d(0,a.x,a.y,0);case 2:return d(0,0,0,a.xy)}});n.__cliffordConjugate__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("cliffordConjugate",arguments,0,0);var b=Sk.ffi.remapToJs(a);
return d(b.w,-b.x,-b.y,-b.xy)});n.__cos__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("cos",arguments,0,0);var b=Sk.ffi.remapToJs(a),c=b.w,e=b.xy,b=Sk.math.cos(c),f=(Math.pow(Math.E,e)+Math.pow(Math.E,-e))/2,c=Sk.math.sin(c),e=(Math.pow(Math.E,e)-Math.pow(Math.E,-e))/2;return d(b*f,0,0,-c*e)});n.__sin__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("sin",arguments,0,0);var b=Sk.ffi.remapToJs(a),c=b.w,e=b.xy,b=Sk.math.cos(c),f=(Math.pow(Math.E,e)+Math.pow(Math.E,-e))/2,c=Sk.math.sin(c),
e=(Math.pow(Math.E,e)-Math.pow(Math.E,-e))/2;return d(c*f,0,0,b*e)});n.__tan__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("tan",arguments,0,0);return Sk.ffh.div(Sk.ffh.sin(a),Sk.ffh.cos(a))});n.__acos__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("acos",arguments,0,0);var b=Sk.ffi.remapToJs(a);return d(Math.acos(b.w),0,0,0)});n.__asin__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("asin",arguments,0,0);var b=Sk.ffi.remapToJs(a);return d(Math.asin(b.w),0,0,0)});n.__atan__=
Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("atan",arguments,0,0);var b=Sk.ffi.remapToJs(a);return d(Math.atan(b.w),0,0,0)});n.__exp__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("exp",arguments,0,0);var b=Sk.ffi.remapToJs(a),c=b.xy,b=Math.exp(b.w),e=Sk.math.cos(c),c=Sk.math.sin(c);return d(b*e,0,0,b*c)});n.__abs__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.ffi.numberToFloatPy(Math.sqrt(a.w*a.w+a.x*a.x+a.y*a.y+a.xy*a.xy))});n.__magnitude__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return d(Math.sqrt(a.w*a.w+a.x*a.x+a.y*a.y+a.xy*a.xy),0,0,0)});n.__quadrance__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return d(a.w*a.w+a.x*a.x+a.y*a.y+a.xy*a.xy,0,0,0)});n.__sqrt__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("sqrt",arguments,0,0);var b=Sk.ffi.remapToJs(a);return d(Math.sqrt(b.w),0,0,0)});n.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Euclidean2("+[a.w,a.x,a.y,a.xy].map(function(a){return String(a)}).join(", ")+
")")});n.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return a.isNaN()?Sk.builtin.stringToPy("NaN"):Sk.builtin.stringToPy(e([a.w,a.x,a.y,a.xy],[k,"e1","e2","I"],"*"))});n.__eq__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return a.w===b.w&&a.x===b.x&&a.y===b.y&&a.xy===b.xy});n.__ne__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return a.w!==b.w||a.x!==b.x||a.y!==b.y||a.xy!==b.xy});n.__getattr__=Sk.ffi.functionPy(function(b,
c){var e=Sk.ffi.remapToJs(b);switch(c){case "w":return Sk.ffi.numberToFloatPy(e.w);case "x":return Sk.ffi.numberToFloatPy(e.x);case "y":return Sk.ffi.numberToFloatPy(e.y);case "xy":return Sk.ffi.numberToFloatPy(e.xy);case "clone":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){});b.__call__=Sk.ffi.functionPy(function(a){return d(e.w,e.x,e.y,e.xy)})},"clone",[]));case "dot":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,
1,1);Sk.ffi.checkArgType("other","Euclidean2",Sk.ffi.isInstance(b,"Euclidean2"),b);var f=Sk.ffi.remapToJs(b);return d(e.x*f.x+e.y*f.y,0,0,0)});case "magnitude":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){});b.__call__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToFloatPy(Math.sqrt(e.w*e.w+e.x*e.x+e.y*e.y-e.xy*e.xy))})},"magnitude",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Euclidean2");}});n.__setattr__=Sk.ffi.functionPy(function(a,
b,c){a=Sk.ffi.remapToJs(a);switch(b){case "w":case "x":case "y":case "xy":Sk.ffi.checkArgType(b,[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],Sk.ffi.isNum(c),c);a[b]=Sk.ffi.remapToJs(c);break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Euclidean2");}})},"Euclidean2",[])}}).call(this);Sk.e3ga=Sk.e3ga||{};Sk.e3ga.EUCLIDEAN_3="Euclidean3";Sk.e3ga.SCALAR_E3="ScalarE3";Sk.e3ga.VECTOR_E3="VectorE3";Sk.e3ga.BIVECTOR_E3="BivectorE3";Sk.e3ga.PSEUDOSCALAR_E3="PseudoscalarE3";
(function(){Sk.builtin.defineEuclidean3=function(a,b,c){function d(a){return"number"===typeof a}function e(a){return Sk.ffi.isInstance(a,Sk.e3ga.EUCLIDEAN_3)}function f(b,c,d,e,f,m,h,n,k,q){goog.asserts.assertBoolean(b,"coordsJsToE3Py(...), pseudo must be a boolean.");b=Sk.ffi.numberToFloatPy(c);d=Sk.ffi.numberToFloatPy(d);e=Sk.ffi.numberToFloatPy(e);f=Sk.ffi.numberToFloatPy(f);m=Sk.ffi.numberToFloatPy(m);h=Sk.ffi.numberToFloatPy(h);n=Sk.ffi.numberToFloatPy(n);k=Sk.ffi.numberToFloatPy(k);q=Sk.ffi.booleanToPy(q);
return Sk.ffi.callsim(a[Sk.e3ga.EUCLIDEAN_3],b,d,e,f,m,h,n,k,q)}function h(a,b){var c,d,e,f,h=[];c=function(a,b){var c;if(0!==a){0<=a?0<h.length&&h.push("+"):h.push("-");c=Math.abs(a);if(1===c)return h.push(b);h.push(Sk.builtin.numberToFloatStringJs(c,10,!0));if(b!==m)return h.push("*"),h.push(b)}};d=e=0;for(f=a.length-1;0<=f?e<=f:e>=f;d=0<=f?++e:--e)c(a[d],b[d]);return 0<h.length?h.join(""):Sk.builtin.numberToFloatStringJs(0,10,!0)}function k(a,b,d,e,f,m,h,n,k,q,s,E,F,v,D,y,B,A){var w=+k,O=+q,K=
+s,R=-E,P=+F,C=-v,I=-D,Q=-y,T=c.bladeASM.mulE3(k,q,s,F,E,D,-v,y,w,O,K,P,R,I,-C,Q,0),S=c.bladeASM.mulE3(k,q,s,F,E,D,-v,y,w,O,K,P,R,I,-C,Q,1),V=c.bladeASM.mulE3(k,q,s,F,E,D,-v,y,w,O,K,P,R,I,-C,Q,2),W=c.bladeASM.mulE3(k,q,s,F,E,D,-v,y,w,O,K,P,R,I,-C,Q,3),L=+T,X=-S,t=-V,M=-W,Y=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,0),U=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,1),Z=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,2),T=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,4),S=
c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,3),V=-c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,6),W=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,5),w=c.bladeASM.mulE3(w,O,K,P,R,I,-C,Q,L,X,t,M,-0,-0,0,0,7);F=c.bladeASM.mulE3(k,q,s,F,E,D,-v,y,Y,U,Z,S,T,W,-V,w,0);k=Y/F;q=U/F;s=Z/F;E=T/F;S/=F;V/=F;W/=F;K=w/F;F=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,0);v=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,1);D=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,2);y=c.bladeASM.mulE3(a,
b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,4);T=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,3);O=-c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,6);w=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,5);a=c.bladeASM.mulE3(a,b,d,f,e,h,-m,n,k,q,s,S,E,W,-V,K,7);b=-O;if("undefined"!==typeof B)B.w=F,B.x=v,B.y=D,B.z=T,B.xy=y,B.yz=w,B.zx=b,B.xyz=a;else return A(!1,F,v,D,T,y,w,b,a)}function q(a,b){switch(b){case 0:return a.w;case 1:return a.x;case 2:return a.y;case 3:return a.z;case 4:return a.xy;case 5:return a.yz;
case 6:return a.zx;case 7:return a.xyz;default:throw Sk.ffi.assertionError(""+b+" is not a valid multivector coordinate index");}}function n(a,b,c,d,e){var f,m,h,n,k,q,E,F,v,D,y,B,A,w,O,K,R,P,C,I;d=b.quaternion.w;f=b.vector.x;m=b.vector.y;h=b.vector.z;n=-b.quaternion.z;k=-b.quaternion.x;q=-b.quaternion.y;b=b.xyz;E=c.quaternion.w;F=c.vector.x;v=c.vector.y;D=c.vector.z;y=-c.quaternion.z;B=-c.quaternion.x;A=-c.quaternion.y;w=c.xyz;c=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,0);O=a(d,f,m,h,n,k,q,b,E,F,v,D,y,
B,A,w,1);K=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,2);R=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,3);P=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,4);C=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,5);I=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,6);a=a(d,f,m,h,n,k,q,b,E,F,v,D,y,B,A,w,7);return e(!1,c,O,K,R,P,C,I,a)}Sk.ffi.checkFunctionArgs("defineEuclidean3",arguments,3,3);Sk.builtin.defineVector3(a,b);Sk.builtin.defineQuaternion(a,b);var m=Sk.builtin.numberToFloatStringJs(1,10,!0);b.Euclidean3=function(a,b,c,d,e){goog.asserts.assertBoolean(a,
"pseudo must be a boolean");if("object"!==typeof b)throw Error("43a75b65-8614-4836-9829-377eaeee7cfe");if("object"!==typeof c)throw Error("89fb1d18-dc26-4149-913d-58f192c161d7");goog.asserts.assertNumber(d,"xyz must be a number");this.vector=b;this.quaternion=c;this._xyz=d;this._pseudo=a;this._mutable="boolean"===typeof e?e:!0};b.Euclidean3.prototype={constructor:b.Euclidean3,get w(){return this.quaternion.w},set w(a){this.checkMutable();this.quaternion.w=a},get x(){return this.vector.x},set x(a){this.checkMutable();
this.vector.x=a},get y(){return this.vector.y},set y(a){this.checkMutable();this.vector.y=a},get z(){return this.vector.z},set z(a){this.checkMutable();this.vector.z=a},get xy(){return-this.quaternion.z},set xy(a){this.checkMutable();this.quaternion.z=-a},get yz(){return-this.quaternion.x},set yz(a){this.checkMutable();this.quaternion.x=-a},get zx(){return-this.quaternion.y},set zx(a){this.checkMutable();this.quaternion.y=-a},get xyz(){return this._xyz},set xyz(a){this.checkMutable();this._xyz=a},
get pseudo(){return this._pseudo},set pseudo(a){this.checkMutable();this._pseudo=a},get mutable(){return this._mutable},set mutable(a){this._mutable=a},checkMutable:function(){if(!this._mutable)throw Sk.ffi.assertionError("Quantity is not mutable");}};a[Sk.e3ga.SCALAR_E3]=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs(Sk.e3ga.SCALAR_E3,arguments,1,2);Sk.ffi.checkArgType("w",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(a),a);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("mutable",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(b),
b);return f(!1,Sk.ffi.numberToJs(a),0,0,0,0,0,0,0,Sk.ffi.remapToJs(b))});a[Sk.e3ga.VECTOR_E3]=Sk.ffi.functionPy(function(a,b,c,d){Sk.ffi.checkFunctionArgs(Sk.e3ga.VECTOR_E3,arguments,3,4);Sk.ffi.checkArgType("x",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(a),a);Sk.ffi.checkArgType("y",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(b),b);Sk.ffi.checkArgType("z",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("mutable",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);var e=Sk.ffi.numberToJs(a),m=Sk.ffi.numberToJs(b),
h=Sk.ffi.numberToJs(c);return f(!1,0,e,m,h,0,0,0,0,Sk.ffi.remapToJs(d))});a[Sk.e3ga.BIVECTOR_E3]=Sk.ffi.functionPy(function(a,b,c,d){Sk.ffi.checkFunctionArgs(Sk.e3ga.BIVECTOR_E3,arguments,3,4);Sk.ffi.checkArgType("xy",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(a),a);Sk.ffi.checkArgType("yz",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(b),b);Sk.ffi.checkArgType("zx",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("mutable",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);a=Sk.ffi.numberToJs(a);b=Sk.ffi.numberToJs(b);
c=Sk.ffi.numberToJs(c);return f(!1,0,0,0,0,a,b,c,0,Sk.ffi.remapToJs(d))});a[Sk.e3ga.PSEUDOSCALAR_E3]=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs(Sk.e3ga.PSEUDOSCALAR_E3,arguments,1,2);Sk.ffi.checkArgType("xyz",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(a),a);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("mutable",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(b),b);a=Sk.ffi.numberToJs(a);return f(!1,0,0,0,0,0,0,0,a,Sk.ffi.remapToJs(b))});a[Sk.e3ga.EUCLIDEAN_3]=Sk.ffi.buildClass(a,function(g,l){l.__init__=Sk.ffi.functionPy(function(a,
c,d,e,f,g,m,l,h,n){Sk.ffi.checkMethodArgs(Sk.e3ga.EUCLIDEAN_3,arguments,1,9);switch(Sk.ffi.getType(c)){case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:Sk.ffi.checkMethodArgs(Sk.e3ga.EUCLIDEAN_3,arguments,8,9);Sk.ffi.checkArgType("w",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("x",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(d),d);Sk.ffi.checkArgType("y",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(e),e);Sk.ffi.checkArgType("z",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(f),f);Sk.ffi.checkArgType("xy",Sk.ffi.PyType.FLOAT,
Sk.ffi.isNum(g),g);Sk.ffi.checkArgType("yz",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(m),m);Sk.ffi.checkArgType("zx",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(l),l);Sk.ffi.checkArgType("xyz",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(h),h);Sk.ffi.isDefined(n)&&Sk.ffi.checkArgType("mutable",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(n),n);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);e=Sk.ffi.remapToJs(e);f=Sk.ffi.remapToJs(f);g=Sk.ffi.remapToJs(g);m=Sk.ffi.remapToJs(m);l=Sk.ffi.remapToJs(l);h=Sk.ffi.remapToJs(h);var k=Sk.ffi.isDefined(n)?
Sk.ffi.remapToJs(n):!0,q=new b.Vector3(d,e,f),D=new b.Quaternion(-m,-l,-g,c);Sk.ffi.referenceToPy(new b.Euclidean3(!1,q,D,h,k),Sk.e3ga.EUCLIDEAN_3,void 0,a);break;case Sk.ffi.PyType.INSTANCE:Sk.ffi.checkMethodArgs(Sk.e3ga.EUCLIDEAN_3,arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),Sk.e3ga.EUCLIDEAN_3,void 0,a);break;default:throw new Sk.builtin.AssertionError("09eaed05-6d9d-4ded-a499-e4c480a9ed68, getType(w) => "+Sk.ffi.getType(c));}});l.__add__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),
d=c.vector,e=c.quaternion,g=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return f(!1,e.w+g,d.x,d.y,d.z,-e.z,-e.x,-e.y,c.xyz);if(Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3))return f(!1,e.w+g.quaternion.w,d.x+g.vector.x,d.y+g.vector.y,d.z+g.vector.z,-(e.z+g.quaternion.z),-(e.x+g.quaternion.x),-(e.y+g.quaternion.y),c.xyz+g.xyz)});l.__radd__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a),e=d.vector,g=d.quaternion;if(Sk.ffi.isNum(b))return f(!1,c+g.w,e.x,e.y,e.z,-g.z,-g.x,-g.y,
d.xyz)});l.__iadd__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.vector,f=c.quaternion,g=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))f.w+=g;else if(e(b)){var m=g.vector,l=g.quaternion;f.w+=l.w;d.x+=m.x;d.y+=m.y;d.z+=m.z;f.z+=l.z;f.x+=l.x;f.y+=l.y;c.xyz+=g.xyz}else return;return a});l.__sub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.vector,e=c.quaternion,g=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return f(!1,e.w-g,d.x,d.y,d.z,-e.z,-e.x,-e.y,c.xyz);if(Sk.ffi.isInstance(b,
Sk.e3ga.EUCLIDEAN_3)){var l=g.vector,m=g.quaternion;return f(!1,e.w-m.w,d.x-l.x,d.y-l.y,d.z-l.z,-(e.z-m.z),-(e.x-m.x),-(e.y-m.y),c.xyz-g.xyz)}throw Sk.ffi.err.operand("other").toOperation("subtract").mustHaveType([Sk.ffi.PyType.FLOAT,Sk.e3ga.EUCLIDEAN_3]);});l.__rsub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a),e=d.vector,g=d.quaternion;if(Sk.ffi.isNum(b))return f(!1,c-g.w,-e.x,-e.y,-e.z,g.z,g.x,g.y,-d.xyz);throw Sk.ffi.err.operand("other").toOperation("subtract").mustHaveType([Sk.ffi.PyType.FLOAT,
Sk.e3ga.EUCLIDEAN_3]);});l.__isub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.vector,f=c.quaternion,g=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))f.w-=g;else if(e(b)){var m=g.vector,l=g.quaternion;f.w-=l.w;d.x-=m.x;d.y-=m.y;d.z-=m.z;f.z-=l.z;f.x-=l.x;f.y-=l.y;c.xyz-=g.xyz}else throw Sk.ffi.err.operand("other").toOperation("subtract").mustHaveType([Sk.ffi.PyType.FLOAT,Sk.e3ga.EUCLIDEAN_3]);return a});l.__mul__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var d=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return n(c.bladeASM.mulE3,d,e,q,f);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:var d=Sk.ffi.remapToJs(a),e=d.vector,g=d.quaternion,l=Sk.ffi.remapToJs(b);return f(!1,g.w*l,e.x*l,e.y*l,e.z*l,-g.z*l,-g.x*l,-g.y*l,d.xyz*l)}});l.__rmul__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=c.vector,e=c.quaternion;if(Sk.ffi.isNum(b)){var g=Sk.ffi.remapToJs(b);return f(!1,g*e.w,g*d.x,g*d.y,g*d.z,-g*e.z,-g*e.x,-g*e.y,g*c.xyz)}});l.__imul__=
Sk.ffi.functionPy(function(a,b){var e=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(b),g=e.w,l=e.x,m=e.y,h=e.z,n=e.xy,k=e.yz,q=e.zx,v=e.xyz,D,y,B,A,w,O,K;d(f)?(D=f,f=K=O=w=A=B=y=0):(D=f.w,y=f.x,B=f.y,A=f.z,w=f.xy,O=f.yz,K=f.zx,f=f.xyz);e.w=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,0);e.x=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,1);e.y=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,2);e.z=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,3);e.xy=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,
O,K,f,4);e.yz=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,5);e.zx=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,6);e.xyz=c.bladeASM.mulE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,7);return a});l.__div__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var c=Sk.ffi.remapToJs(a),d=c.vector,e=c.quaternion,g=Sk.ffi.remapToJs(b),l=g.vector,m=g.quaternion;return k(e.w,d.x,d.y,-e.z,d.z,e.y,-e.x,c.xyz,m.w,l.x,l.y,-m.z,
l.z,m.y,-m.x,g.xyz,void 0,f);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return c=Sk.ffi.remapToJs(a),d=c.vector,e=c.quaternion,g=Sk.ffi.remapToJs(b),k(e.w,d.x,d.y,-e.z,d.z,e.y,-e.x,c.xyz,g,0,0,0,0,0,0,0,void 0,f)}});l.__rdiv__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(d(b))return k(b,0,0,0,0,0,0,0,a.w,a.x,a.y,a.xy,a.z,-a.zx,a.yz,a.xyz,void 0,f);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" / "+JSON.stringify(a,null,2));});
l.__idiv__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);d(e)?k(c.w,c.x,c.y,c.xy,c.z,-c.zx,c.yz,c.xyz,e,0,0,0,0,0,0,0,c,f):k(c.w,c.x,c.y,c.xy,c.z,-c.zx,c.yz,c.xyz,e.w,e.x,e.y,e.xy,e.z,-e.zx,e.yz,e.xyz,c,f);return a});l.__or__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return f(!1,c.w*d.w+c.x*d.x+c.y*d.y+c.z*d.z-c.xy*d.xy-c.yz*
d.yz-c.zx*d.zx-c.xyz*d.xyz,0,0,0,0,0,0,0);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b),f(!1,c.w*d,0,0,0,0,0,0,0)}});l.__xor__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return n(c.bladeASM.extE3,d,e,q,f);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return d=Sk.ffi.remapToJs(a),
e=Sk.ffi.remapToJs(b),f(!1,d.w*e,d.x*e,d.y*e,d.z*e,d.xy*e,d.yz*e,d.zx*e,d.xyz*e)}});l.__rxor__=Sk.ffi.functionPy(function(a,b){if(Sk.ffi.isNum(b)){var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a);return f(!1,c*d.w,c*d.x,c*d.y,c*d.z,c*d.xy,c*d.yz,c*d.zx,c*d.xyz)}});l.__ixor__=Sk.ffi.functionPy(function(a,b){var e=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(b),g=e.w,l=e.x,m=e.y,h=e.z,n=e.xy,k=e.yz,q=e.zx,v=e.xyz,D,y,B,A,w,O,K;d(f)?(D=f,f=K=O=w=A=B=y=0):(D=f.w,y=f.x,B=f.y,A=f.z,w=f.xy,O=f.yz,K=f.zx,f=f.xyz);
e.w=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,0);e.x=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,1);e.y=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,2);e.z=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,3);e.xy=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,4);e.yz=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,5);e.zx=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,6);e.xyz=c.bladeASM.extE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,7);return a});l.__lshift__=Sk.ffi.functionPy(function(a,
b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return n(c.bladeASM.lcoE3,d,e,q,f);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f(!1,d.w*e,0,0,0,0,0,0,0)}});l.__rlshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(d(b))return f(!1,b*a.w,b*a.x,b*a.y,b*a.z,b*a.xy,b*a.yz,b*a.zx,b*a.xyz)});
l.__ilshift__=Sk.ffi.functionPy(function(a,b){var e=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(b),g=e.w,l=e.x,m=e.y,h=e.z,n=e.xy,k=e.yz,q=e.zx,v=e.xyz,D,y,B,A,w,O,K;d(f)?(D=f,f=K=O=w=A=B=y=0):(D=f.w,y=f.x,B=f.y,A=f.z,w=f.xy,O=f.yz,K=f.zx,f=f.xyz);e.w=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,0);e.x=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,1);e.y=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,2);e.z=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,3);e.xy=c.bladeASM.lcoE3(g,l,m,h,n,k,
q,v,D,y,B,A,w,O,K,f,4);e.yz=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,5);e.zx=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,6);e.xyz=c.bladeASM.lcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,7);return a});l.__rshift__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return n(c.bladeASM.rcoE3,d,e,q,f);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return d=
Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b),f(!1,d.w*e,d.x*e,d.y*e,d.z*e,d.xy*e,d.yz*e,d.zx*e,d.xyz*e)}});l.__rrshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(d(b))return f(!1,b*a.w,0,0,0,0,0,0,0)});l.__irshift__=Sk.ffi.functionPy(function(a,b){var e=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(b),g=e.w,l=e.x,m=e.y,h=e.z,n=e.xy,k=e.yz,q=e.zx,v=e.xyz,D,y,B,A,w,O,K;d(f)?(D=f,f=K=O=w=A=B=y=0):(D=f.w,y=f.x,B=f.y,A=f.z,w=f.xy,O=f.yz,K=f.zx,f=f.xyz);e.w=c.bladeASM.rcoE3(g,
l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,0);e.x=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,1);e.y=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,2);e.z=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,3);e.xy=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,4);e.yz=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,5);e.zx=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,6);e.xyz=c.bladeASM.rcoE3(g,l,m,h,n,k,q,v,D,y,B,A,w,O,K,f,7);return a});l.__pow__=Sk.ffi.functionPy(function(a,b){switch(Sk.ffi.getType(b)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(b)){case Sk.e3ga.EUCLIDEAN_3:var c=
Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return f(!1,Math.pow(c.w,d.w),0,0,0,0,0,0,0);default:return}case Sk.ffi.PyType.INT:case Sk.ffi.PyType.FLOAT:return c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b),f(!1,Math.pow(c.w,d),0,0,0,0,0,0,0)}});l.__len__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToIntPy(8)});l.__pos__=Sk.ffi.functionPy(function(a){return a});l.__neg__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b=a.vector,c=a.quaternion;return f(!1,-c.w,-b.x,-b.y,-b.z,c.z,c.x,c.y,-a.xyz)});
l.__invert__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b=a.vector,c=a.quaternion;return f(!1,c.w,b.x,b.y,b.z,c.z,c.x,c.y,-a.xyz)});l.__eq__=Sk.ffi.functionPy(function(a,b){if(Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3)){var c=Sk.ffi.remapToJs(a),d=c.vector,e=c.quaternion,f=Sk.ffi.remapToJs(b),g=f.quaternion;return d.equals(f.vector)&&e.equals(g)&&c.xyz===f.xyz}return Sk.ffi.bool.False});l.__ne__=Sk.ffi.functionPy(function(a,b){if(Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3)){var c=Sk.ffi.remapToJs(a),
d=c.vector,e=c.quaternion,f=Sk.ffi.remapToJs(b),g=f.quaternion;return!d.equals(f.vector)||!e.equals(g)||c.xyz!==f.xyz}return Sk.ffi.bool.True});l.__getitem__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("[]",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);var c=Sk.ffi.remapToJs(b),d=Sk.ffi.remapToJs(a),e=d.vector,g=d.quaternion;switch(c){case 0:return f(!1,g.w,0,0,0,0,0,0,0);case 1:return f(!1,0,e.x,e.y,e.z,0,0,0,0);case 2:return f(!1,0,0,0,0,-g.z,-g.x,-g.y,
0);case 3:return f(!1,0,0,0,0,0,0,0,d.xyz)}});l.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=d.vector,g=d.quaternion;switch(c){case "w":return Sk.ffi.numberToFloatPy(d.w);case "x":return Sk.ffi.numberToFloatPy(d.x);case "y":return Sk.ffi.numberToFloatPy(d.y);case "z":return Sk.ffi.numberToFloatPy(d.z);case "xy":return Sk.ffi.numberToFloatPy(d.xy);case "yz":return Sk.ffi.numberToFloatPy(d.yz);case "zx":return Sk.ffi.numberToFloatPy(d.zx);case "xyz":return Sk.ffi.numberToFloatPy(d.xyz);
case "mutable":return Sk.ffi.booleanToPy(d.mutable);case "vector":return Sk.ffi.callsim(a.Vector3,Sk.ffi.referenceToPy(d.vector,"Vector3"));case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(d.quaternion,"Quaternion"));case "add":return Sk.ffi.callableToPy(a,c,function(a,f){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(f,Sk.e3ga.EUCLIDEAN_3),f);var l=Sk.ffi.remapToJs(f);g.w+=l.quaternion.w;e.x+=l.vector.x;e.y+=l.vector.y;
e.z+=l.vector.z;g.x+=l.quaternion.x;g.y+=l.quaternion.y;g.z+=l.quaternion.z;d.xyz+=l.xyz;return b});case "applyMatrix3":return Sk.ffi.callableToPy(a,c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("m",Sk.three.MATRIX_3,Sk.ffi.isInstance(d,Sk.three.MATRIX_3),d);e[c](Sk.ffi.remapToJs(d));return b});case "applyMatrix4":return Sk.ffi.callableToPy(a,c,function(a,d){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("m",Sk.three.MATRIX_4,Sk.ffi.isInstance(d,Sk.three.MATRIX_4),
d);e[c](Sk.ffi.remapToJs(d));return b});case "sub":return Sk.ffi.callableToPy(a,c,function(a,f){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(f,Sk.e3ga.EUCLIDEAN_3),f);var l=Sk.ffi.remapToJs(f);g.w-=l.quaternion.w;e.x-=l.vector.x;e.y-=l.vector.y;e.z-=l.vector.z;g.x-=l.quaternion.x;g.y-=l.quaternion.y;g.z-=l.quaternion.z;d.xyz-=l.xyz;return b});case "constantify":return Sk.ffi.callableToPy(a,"constantify",function(a){Sk.ffi.checkMethodArgs("constantify",
arguments,0,0);d.mutable=!1;return b});case "copy":return Sk.ffi.callableToPy(a,c,function(a,f){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(f,Sk.e3ga.EUCLIDEAN_3),f);var l=Sk.ffi.remapToJs(f);g.w=l.quaternion.w;e.x=l.vector.x;e.y=l.vector.y;e.z=l.vector.z;g.x=l.quaternion.x;g.y=l.quaternion.y;g.z=l.quaternion.z;d.xyz=l.xyz;return b});case "cross":return Sk.ffi.callableToPy(a,"cross",function(a,b){Sk.ffi.checkMethodArgs("cross",arguments,
1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3),b);var c=Sk.ffi.remapToJs(b),e=d.w,g=d.x,p=d.y,l=d.z,m=d.xy,h=d.yz,n=d.zx,k=c.w,q=c.x,H=c.y,u=c.z,R=c.xy,P=c.yz,C=c.zx;return f(!0,e*k+g*P+p*C+l*R+m*u+h*q+n*H,e*q+g*k+p*u-l*H,e*H+p*k+l*q-g*u,e*u+l*k+g*H-p*q,e*R+m*k,e*P+h*k,e*C+n*k,e*c.xyz+d.xyz*k)});case "distanceTo":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(b,
Sk.e3ga.EUCLIDEAN_3),b);var d=Sk.ffi.remapToJs(b);return Sk.ffi.numberToFloatPy(e.distanceTo(d.vector))});case "distanceToSquared":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3),b);var d=Sk.ffi.remapToJs(b);return Sk.ffi.numberToFloatPy(e.distanceToSquared(d.vector))});case "divideScalar":return Sk.ffi.callableToPy(a,c,function(a,f){Sk.ffi.checkMethodArgs(c,arguments,1,1);
Sk.ffi.checkArgType("s",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(f),f);var l=Sk.ffi.remapToJs(f);g.w/=l;e.x/=l;e.y/=l;e.z/=l;g.x/=l;g.y/=l;g.z/=l;d.xyz/=l;return b});case "dot":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs("dot",arguments,1,1);Sk.ffi.checkArgType("other",Sk.e3ga.EUCLIDEAN_3,Sk.ffi.isInstance(b,Sk.e3ga.EUCLIDEAN_3),b);var c=Sk.ffi.remapToJs(b),e=d.w,g=d.x,p=d.y,l=d.z,m=d.xy,h=d.yz,n=d.zx,k=d.xyz,q=c.w,H=c.x,u=c.y,R=c.z,P=c.xy,C=c.yz,I=c.zx,c=c.xyz;return f(!1,e*q+g*H+
p*u+l*R-m*P-h*C-n*I-k*c,l*I-p*P-R*n+u*m,g*P-l*C-H*m+R*h,p*C-g*I-u*h+H*n,l*c+R*k,g*c+H*k,p*c+u*k,k*q+c*e)});case "multiplyScalar":return Sk.ffi.callableToPy(a,c,function(a,f){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("s",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(f),f);var l=Sk.ffi.remapToJs(f);g.w*=l;e.x*=l;e.y*=l;e.z*=l;g.x*=l;g.y*=l;g.z*=l;d.xyz*=l;return b});case "setX":return Sk.ffi.callableToPy(a,"setX",function(a,c){Sk.ffi.checkMethodArgs("setX",arguments,1,1);Sk.ffi.checkArgType("x",
Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);d.x=Sk.ffi.remapToJs(c);return b});case "setY":return Sk.ffi.callableToPy(a,"setY",function(a,c){Sk.ffi.checkMethodArgs("setY",arguments,1,1);Sk.ffi.checkArgType("y",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);d.y=Sk.ffi.remapToJs(c);return b});case "setZ":return Sk.ffi.callableToPy(a,"setZ",function(a,c){Sk.ffi.checkMethodArgs("setZ",arguments,1,1);Sk.ffi.checkArgType("z",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);d.z=Sk.ffi.remapToJs(c);return b});case "getComponent":return Sk.ffi.callableToPy(a,
"getComponent",function(a,b){Sk.ffi.checkMethodArgs("getComponent",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(b),b);var c=Sk.ffi.remapToJs(b);return Sk.ffi.numberToFloatPy(e.getComponent(c))});case "setComponent":return Sk.ffi.callableToPy(a,"setComponent",function(a,c,d){Sk.ffi.checkMethodArgs("setComponent",arguments,1,1);Sk.ffi.checkArgType("index",Sk.ffi.PyType.INT,Sk.ffi.isInt(c),c);Sk.ffi.checkArgType("value",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(d),d);var f=Sk.ffi.remapToJs(c),
g=Sk.ffi.remapToJs(d);e.setComponent(f,g);return b});case "set":return Sk.ffi.callableToPy(a,"set",function(a,c,d,f){Sk.ffi.checkMethodArgs("set",arguments,3,3);Sk.ffi.checkArgType("x",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("y",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(d),d);Sk.ffi.checkArgType("z",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(f),f);var g=Sk.ffi.remapToJs(c),l=Sk.ffi.remapToJs(d),m=Sk.ffi.remapToJs(f);e.set(g,l,m);return b});case "clone":return Sk.ffi.callableToPy(a,"clone",function(a){Sk.ffi.checkMethodArgs("clone",
arguments,0,0);return f(!1,g.w,e.x,e.y,e.z,-g.z,-g.x,-g.y,d.xyz)});case "magnitude":return Sk.ffi.callableToPy(a,"magnitude",function(a){Sk.ffi.checkMethodArgs("magnitude",arguments,0,0);return Sk.ffi.numberToFloatPy(e.length())});case "normalize":return Sk.ffi.callableToPy(a,"normalize",function(a){Sk.ffi.checkMethodArgs("normalize",arguments,0,0);e.normalize();return b});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.e3ga.EUCLIDEAN_3);}});l.__setattr__=Sk.ffi.functionPy(function(a,
b,c){Sk.ffi.checkArgType("self",Sk.e3ga.EUCLIDEAN_3,e(a),a);a=Sk.ffi.remapToJs(a);switch(b){case "w":case "x":case "y":case "z":case "xy":case "yz":case "zx":case "xyz":Sk.ffi.checkArgType(b,Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);try{a[b]=Sk.ffi.remapToJs(c)}catch(d){throw Sk.ffi.assertionError(d.message);}break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.e3ga.EUCLIDEAN_3);}});l.__cliffordConjugate__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("cliffordConjugate",arguments,
0,0);var b=Sk.ffi.remapToJs(a);return f(!1,b.w,-b.x,-b.y,-b.z,-b.xy,-b.yz,-b.zx,b.xyz)});l.__cos__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("cos",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Sk.math.cos(b.w),0,0,0,0,0,0,0)});l.__sin__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("sin",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Sk.math.sin(b.w),0,0,0,0,0,0,0)});l.__tan__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("tan",arguments,0,0);return Sk.ffh.div(Sk.ffh.sin(a),
Sk.ffh.cos(a))});l.__acos__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("acos",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Math.acos(b.w),0,0,0,0,0,0,0)});l.__asin__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("asin",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Math.asin(b.w),0,0,0,0,0,0,0)});l.__atan__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("atan",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Math.atan(b.w),0,0,0,0,0,0,0)});l.__exp__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("exp",
arguments,0,0);var b=Sk.ffi.remapToJs(a).quaternion,c=-b.z,d=-b.x,b=-b.y;if(0===c&&0===d){var e=Sk.math.cos(b),g=Sk.math.sin(b);return f(!1,e,0,0,0,0,0,g,0)}if(0===d&&0===b)return e=Sk.math.cos(c),g=Sk.math.sin(c),f(!1,e,0,0,0,g,0,0,0);if(0===b&&0===c)return e=Sk.math.cos(d),g=Sk.math.sin(d),f(!1,e,0,0,0,0,g,0,0);var l=Math.sqrt(c*c+d*d+b*b),e=Sk.math.cos(l),g=Sk.math.sin(l),g=g/l;return f(!1,e,0,0,0,g*c,g*d,g*b,0)});l.__abs__=Sk.ffi.functionPy(function(a){return Sk.ffi.gattr(Sk.ffh.sqrt(Sk.ffh.quadrance(a)),
"w")});l.__magnitude__=Sk.ffi.functionPy(function(a){return Sk.ffh.sqrt(Sk.ffh.quadrance(a))});l.__quadrance__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);a=b.w;var c=b.x,d=b.y,e=b.z,g=b.xy,l=b.yz,m=b.zx,b=b.xyz;return f(!1,a*a+c*c+d*d+e*e+g*g+l*l+m*m+b*b,0,0,0,0,0,0,0)});l.__sqrt__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("sqrt",arguments,0,0);var b=Sk.ffi.remapToJs(a);return f(!1,Math.sqrt(b.w),0,0,0,0,0,0,0)});l.__repr__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a),
c=b.vector,d=b.quaternion;a=d.w;var e=c.x,f=c.y,c=c.z,g=-d.z,l=-d.x,d=-d.y,b=b.xyz,m=0!==a,h=0!==e||0!=f||0!==c,n=0!==g||0!==l||0!==d,k=0!==b;if(!m||h||n||k){if(m||!h||n||k){if(m||h||!n||k){if(m||h||n||!k)return a=[a,e,f,c,g,l,d,b],Sk.builtin.stringToPy(Sk.e3ga.EUCLIDEAN_3+"("+a.join(", ")+")");a=[b];return Sk.builtin.stringToPy(Sk.e3ga.PSEUDOSCALAR_E3+"("+a.join(", ")+")")}a=[g,l,d];return Sk.builtin.stringToPy(Sk.e3ga.BIVECTOR_E3+"("+a.join(", ")+")")}a=[e,f,c];return Sk.builtin.stringToPy(Sk.e3ga.VECTOR_E3+
"("+a.join(", ")+")")}a=[a];return Sk.builtin.stringToPy(Sk.e3ga.SCALAR_E3+"("+a.join(", ")+")")});l.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("__str__",arguments,0,0);Sk.ffi.checkFunctionArgs("str",arguments,1,1);Sk.ffi.checkArgType("self",Sk.e3ga.EUCLIDEAN_3,e(a),a);var b=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(h([b.w,b.x,b.y,b.z,b.xy,b.yz,b.zx,b.xyz],[m,"e1","e2","e3","e12","e23","e31","I"]))})},Sk.e3ga.EUCLIDEAN_3,[])}}).call(this);(function(){Sk.builtin.defineLorentzian=function(a,b){function c(a){return"number"===typeof a}function d(b,c,d,e){return Sk.ffi.callsim(a.Lorentzian,Sk.ffi.numberToFloatPy(b),Sk.ffi.numberToFloatPy(c),Sk.ffi.numberToFloatPy(d),Sk.ffi.numberToFloatPy(e))}function e(a,b,c){var d,e,f,h,k;f=[];d=function(a,b){var d;if(0!==a){0<=a?0<f.length&&f.push("+"):f.push("-");d=Math.abs(a);if(1===d)return f.push(b);f.push(d.toString());if("1"!==b)return f.push(c),f.push(b)}};e=h=0;for(k=a.length-1;0<=k?h<=k:h>=
k;e=0<=k?++h:--h)d(a[e],b[e]);return 0<f.length?f.join(""):"0"}function f(a,b,c,e,f,h,k,q,N){var z=+f,J=+h,x=+k,s=-q,E=+(f*z+h*J+k*x-q*s),F=z*E+-0*J+-0*x- -0*s,v=-0*z+J*E- -0*x+-0*s,D=-0*z+-0*J+x*E- -0*s,z=-0*z+-0*J- -0*x+s*E;f=f*F+h*v+k*D-q*z;F/=f;v/=f;D/=f;q=z/f;f=a*F+b*v+c*D-e*q;h=a*v+b*F-c*q+e*D;k=a*D+b*q+c*F-e*v;a=a*q+b*D-c*v+e*F;if("undefined"!==typeof N)N.w=f,N.x=h,N.y=k,N.xy=a;else return d(f,h,k,a)}Sk.ffi.checkFunctionArgs("defineLorentzian",arguments,2,2);Sk.builtin.defineUnits(a,b);var h=
[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],k=["Lorentzian",h],q=function(a){return Sk.ffi.isInstance(a,"Lorentzian")};a.ScalarL4=Sk.ffi.functionPy(function(b){Sk.ffi.checkFunctionArgs("ScalarL4",arguments,1,1);var c=Sk.ffi.numberToFloatPy(0);return Sk.ffi.callsim(a.Lorentzian,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c)});a.VectorL4=Sk.ffi.functionPy(function(b,c,d,e){Sk.ffi.checkFunctionArgs("VectorL4",arguments,4,4);var f=Sk.ffi.numberToFloatPy(0);return Sk.ffi.callsim(a.Lorentzian,f,b,c,f,
d,f,f,f,e,f,f,f,f,f,f,f)});a.PseudoscalarE2=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("PseudoscalarE2",arguments,1,1);Sk.ffi.checkArgType("xy",h,Sk.ffi.isNum(a),a);return d(0,0,0,Sk.ffi.remapToJs(a))});a.Lorentzian=Sk.ffi.buildClass(a,function(b,m){m.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,m,h,k,n,s,E,F,v,D,y,B){Sk.ffi.checkMethodArgs("Lorentzian",arguments,1,16);if(q(b))Sk.ffi.checkMethodArgs("Lorentzian",arguments,1,1),Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Lorentzian",void 0,
a);else{Sk.ffi.checkMethodArgs("Lorentzian",arguments,16,16);var A={};A[0]=b;A[1]=c;A[2]=d;A[3]=e;A[4]=f;A[5]=m;A[6]=h;A[7]=k;A[8]=n;A[9]=s;A[10]=E;A[11]=F;A[12]=v;A[13]=D;A[14]=y;A[15]=B;Sk.ffi.referenceToPy(A,"Lorentzian",void 0,a)}});m.__add__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c);if(q(c)){var f=Sk.ffi.numberToFloatPy(0),m=Sk.ffh.add(d[0],e[0]),h=Sk.ffh.add(d[1],e[1]),n=Sk.ffh.add(d[2],e[2]),J=f,x=Sk.ffh.add(d[4],e[4]),s=f,E=f,F=f,d=Sk.ffh.add(d[8],e[8]);
return Sk.ffi.callsim(a.Lorentzian,m,h,n,J,x,s,E,F,d,f,f,f,f,f,f,f)}if(Sk.ffi.isNum(c))return f=Sk.ffi.numberToFloatPy(0),m=Sk.ffh.add(d[0],e),h=d[1],n=d[2],x=d[4],d=d[8],Sk.ffi.callsim(a.Lorentzian,m,h,n,f,x,f,f,f,d,f,f,f,f,f,f,f);Sk.ffi.checkRhsOperandType("add",k,!1,c)});m.__radd__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkLhsOperandType("add",k,Sk.ffi.isNum(c),c);var d=Sk.ffi.remapToJs(c),e=Sk.ffi.remapToJs(b),f=Sk.ffi.numberToFloatPy(0),m;try{m=Sk.ffh.add(d,e[0])}catch(h){m=Sk.ffh.add(e[0],
d)}return Sk.ffi.callsim(a.Lorentzian,m,e[1],e[2],f,e[4],f,f,f,e[8],f,f,f,f,f,f,f)});m.__iadd__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return c.w+=d,a;if(q(b))return c.w+=d.w,c.x+=d.x,c.y+=d.y,c.xy+=d.xy,a;Sk.ffi.checkRhsOperandType("add",k,Sk.ffi.isNum(b),b)});m.__sub__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(Sk.ffi.isNum(b))return d(c.w-e,c.x,c.y,c.xy);if(q(b))return d(c.w-e.w,c.x-e.x,c.y-e.y,
c.xy-e.xy);Sk.ffi.checkRhsOperandType("subtract",k,Sk.ffi.isNum(b),b)});m.__rsub__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add",k,Sk.ffi.isNum(b),b);var c=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(a);return d(c-e.w,-e.x,-e.y,-e.xy)});m.__isub__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);c(e)?d.w-=e:(d.w-=e.w,d.x-=e.x,d.y-=e.y,d.xy-=e.xy);return a});m.__mul__=Sk.ffi.functionPy(function(b,c){function d(a){for(var b=Sk.ffi.numberToIntPy(0),c=0;c<
a.length;c++)b=Sk.ffh.add(b,a[c]);return b}function e(a){return a.map(function(a){var b=a[0];a=Sk.ffh.mul(f[a[1]],m[a[2]]);return 0<b?a:Sk.ffh.negative(a)})}var f=Sk.ffi.remapToJs(b),m=Sk.ffi.remapToJs(c);if(q(c)){Sk.ffi.numberToFloatPy(0);var h=d(e([[1,0,0],[1,1,1],[1,2,2],[-1,3,3],[1,4,4],[-1,5,5],[-1,6,6],[-1,7,7],[1,8,8],[-1,9,9],[-1,10,10],[1,11,11],[-1,12,12],[1,13,13],[1,14,14],[-1,15,15]])),n=d(e([[1,1,0],[1,0,1],[1,3,2],[-1,2,3],[1,5,4],[-1,4,5],[-1,7,6],[-1,6,7],[-1,9,8],[1,8,9],[-1,11,
10]])),J=d(e([[1,2,0],[-1,3,1],[1,0,2]])),x=d(e([[1,3,0],[-1,2,1],[1,1,2],[1,0,3],[1,7,4],[1,6,5],[-1,5,6],[1,4,7],[-1,11,8],[-1,10,9],[1,9,10],[-1,8,11],[-1,15,12],[-1,14,13],[1,13,14],[1,12,15]])),s=d(e([[1,4,0]])),E=d(e([[1,5,0]])),F=d(e([[1,6,0]])),v=d(e([[1,7,0]])),D=d(e([[1,8,0]])),y=d(e([[1,9,0]])),B=d(e([[1,10,0]])),A=d(e([[1,11,0]])),w=d(e([[1,12,0]])),O=d(e([[1,13,0]])),K=d(e([[1,14,0]])),R=d(e([[1,15,0]]));return Sk.ffi.callsim(a.Lorentzian,h,n,J,x,s,E,F,v,D,y,B,A,w,O,K,R)}if(Sk.ffi.isNum(c))return h=
Sk.ffh.add(f[0],m),n=Sk.ffh.add(f[1],m),J=Sk.ffh.add(f[2],m),x=Sk.ffh.add(f[3],m),s=Sk.ffh.add(f[4],m),E=Sk.ffh.add(f[5],m),F=Sk.ffh.add(f[6],m),v=Sk.ffh.add(f[7],m),D=Sk.ffh.add(f[8],m),y=Sk.ffh.add(f[9],m),B=Sk.ffh.add(f[10],m),A=Sk.ffh.add(f[11],m),w=Sk.ffh.add(f[12],m),O=Sk.ffh.add(f[13],m),K=Sk.ffh.add(f[14],m),R=Sk.ffh.add(f[15],m),Sk.ffi.callsim(a.Lorentzian,h,n,J,x,s,E,F,v,D,y,B,A,w,O,K,R);Sk.ffi.checkRhsOperandType("multiply",k,!1,c)});m.__rmul__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);
a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" * "+JSON.stringify(a,null,2));});m.__imul__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e))d.w*=e,d.x*=e,d.y*=e,d.xy*=e;else{var f=d.w,m=d.x,h=d.y,k=d.xy,n=e.w,q=e.x,s=e.y,e=e.xy;d.w=f*n+m*q+h*s-k*e;d.x=f*q+m*n-h*e+k*s;d.y=f*s+m*e+h*n-k*q;d.xy=f*e+m*s-h*q+k*n}return a});m.__div__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);
b=Sk.ffi.remapToJs(b);return c(b)?f(a.w,a.x,a.y,a.xy,b,0,0,0,void 0):f(a.w,a.x,a.y,a.xy,b.w,b.x,b.y,b.xy,void 0)});m.__rdiv__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return f(b,0,0,0,a.w,a.x,a.y,a.xy,void 0);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" / "+JSON.stringify(a,null,2));});m.__idiv__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);c(e)?f(d.w,d.x,d.y,d.xy,e,0,0,0,d):f(d.w,d.x,d.y,d.xy,e.w,e.x,
e.y,e.xy,d);return a});m.__xor__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);if(c(b))return d(a.w*b,a.x*b,a.y*b,a.xy*b);var e=a.w,f=a.x,m=a.y,h=b.w,k=b.x,n=b.y;return d(e*h,e*k+f*h,e*n+m*h,e*b.xy+f*n-m*k+a.xy*h)});m.__rxor__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" ^ "+JSON.stringify(a,null,2));});m.__ixor__=Sk.ffi.functionPy(function(a,
b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e))d.w*=e,d.x*=e,d.y*=e,d.xy*=e;else{var f=d.w,m=d.x,h=d.y,k=d.xy,n=e.w,q=e.x,s=e.y,e=e.xy;d.w=f*n;d.x=f*q+m*n;d.y=f*s+h*n;d.xy=f*e+m*s-h*q+k*n}return a});m.__lshift__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);if(c(b))return d(a.w*b,0,0,0);var e=a.w,f=a.x,m=a.y,h=b.x,k=b.y,n=b.xy;return d(e*b.w+f*h+m*k-a.xy*n,e*h-m*n,e*k+f*n,e*n)});m.__rlshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);
if(c(b))return d(b*a.w,b*a.x,b*a.y,b*a.xy);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" << "+JSON.stringify(a,null,2));});m.__ilshift__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e))d.w*=e,d.x=0,d.y=0,d.xy=0;else{var f=d.w,m=d.x,h=d.y,n=e.x,k=e.y,q=e.xy;d.w=f*e.w+m*n+h*k-d.xy*q;d.x=f*n-h*q;d.y=f*k+m*q;d.xy=f*q}return a});m.__rshift__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);if(c(b))return d(a.w*b,-a.x*
b,-a.y*b,a.xy*b);var e=a.x,f=a.y,m=a.xy,h=b.w,n=b.x,k=b.y;return d(a.w*h+e*n+f*k-m*b.xy,+e*h+m*k,+f*h-m*n,m*h)});m.__rrshift__=Sk.ffi.functionPy(function(a,b){b=Sk.ffi.remapToJs(b);a=Sk.ffi.remapToJs(a);if(c(b))return d(b*a.w,0,0,0);throw new Sk.builtin.AssertionError(""+JSON.stringify(b,null,2)+" >> "+JSON.stringify(a,null,2));});m.__irshift__=Sk.ffi.functionPy(function(a,b){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);if(c(e)){var f=d.w,m=d.x,h=d.y,n=d.xy,k=e,q=0,s=0,E=0;d.w*=e;d.x*=-e;d.y*=
-e;d.xy*=e}else f=d.w,m=d.x,h=d.y,n=d.xy,k=e.w,q=e.x,s=e.y,E=e.xy,d.w=f*k+m*q+h*s-n*E,d.x=+m*k+n*s,d.y=+h*k-n*q,d.xy=n*k;return a});m.u$negative=function(){var a=Sk.ffi.remapToJs(this);return d(-a.w,-a.x,-a.y,-a.xy)};m.u$positive=function(){return this};m.nb$invert=function(){var a=Sk.ffi.remapToJs(this);return d(a.w,a.x,a.y,-a.xy)};m.__getitem__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);switch(b){case 0:return d(a.w,0,0,0);case 1:return d(0,a.x,a.y,0);case 2:return d(0,
0,0,a.xy)}});m.__abs__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.ffi.numberToFloatPy(Math.sqrt(a.w*a.w+a.x*a.x+a.y*a.y-a.xy*a.xy))});m.__exp__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);a=Math.exp(b.w);var c=Sk.math.cos(b.xy),b=Sk.math.sin(b.xy);return d(a*c,0,0,a*b)});m.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Lorentzian("+[a.w,a.x,a.y,a.xy].map(function(a){return String(a)}).join(", ")+")")});m.__str__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);return a.isNaN()?Sk.builtin.stringToPy("NaN"):Sk.builtin.stringToPy(e([a.w,a.x,a.y,a.xy],["1","i","j","I"],"*"))});m.__eq__=Sk.ffi.functionPy(function(a,b){return Sk.ffi.bool.True});m.__ne__=Sk.ffi.functionPy(function(a,b){a=Sk.ffi.remapToJs(a);b=Sk.ffi.remapToJs(b);return a.w!==b.w||a.x!==b.x||a.y!==b.y||a.xy!==b.xy});m.__getattr__=Sk.ffi.functionPy(function(b,c){var e=Sk.ffi.remapToJs(b);switch(c){case "w":return e[0];case "x":return e[1];case "y":return e[2];case "xy":return e[3];
case "yx":return Sk.ffh.negative(e[3]);case "z":return e[4];case "xz":return e[5];case "zx":return Sk.ffh.negative(e[5]);case "yz":return e[6];case "zy":return Sk.ffh.negative(e[6]);case "xyz":return e[7];case "t":return e[8];case "xt":return e[9];case "tx":return Sk.ffh.negative(e[9]);case "yt":return e[10];case "ty":return Sk.ffh.negative(e[10]);case "xyt":return e[11];case "zt":return e[12];case "tz":return Sk.ffh.negative(e[12]);case "xzt":return e[13];case "zxt":return Sk.ffh.negative(e[13]);
case "yzt":return e[14];case "xyzt":return e[15];case "clone":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){});b.__call__=Sk.ffi.functionPy(function(a){return d(e.w,e.x,e.y,e.xy)})},"clone",[]));case "magnitude":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){});b.__call__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToFloatPy(Math.sqrt(e.w*e.w+e.x*e.x+e.y*e.y-e.xy*e.xy))})},"magnitude",[]));case "quadrance":return Sk.ffi.callableToPy(a,
c,function(a){a=Sk.ffh.mul(e[0],e[0]);a=Sk.ffh.add(a,Sk.ffh.mul(e[1],e[1]));a=Sk.ffh.add(a,Sk.ffh.mul(e[2],e[2]));a=Sk.ffh.add(a,Sk.ffh.mul(e[4],e[4]));return a=Sk.ffh.sub(a,Sk.ffh.mul(e[8],e[8]))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Lorentzian");}});m.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);switch(b){case "w":case "x":case "y":case "xy":Sk.ffi.checkArgType(b,[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],Sk.ffi.isNum(c),c);a[b]=Sk.ffi.remapToJs(c);
break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Lorentzian");}})},"Lorentzian",[])}}).call(this);Sk.symbolic=Sk.symbolic||{};Sk.symbolic.VARIABLE="Variable";
(function(){Sk.builtin.defineSymbolic=function(a,b){Sk.ffi.checkFunctionArgs("defineSymbolic",arguments,2,2);Sk.symbolic.treeGetAttr=function(a,b,e){b=Sk.ffi.remapToJs(b);switch(e){case "childAxis":return Sk.ffi.listPy(b[e]);case "uuid":return Sk.builtin.stringToPy(b[e]);default:throw Sk.ffi.err.attribute(e).isNotGetableOnType(a);}};Sk.symbolic.treeSetAttr=function(a,b,e,f){Sk.ffi.remapToJs(b);switch(e){default:throw Sk.ffi.err.attribute(e).isNotSetableOnType(a);}};a.Environment=Sk.ffi.buildClass(a,
function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Environment",arguments,0,2);var d={bindings:{}};"undefined"===typeof b||Sk.ffi.isNone(b)||(Sk.ffi.checkArgType("parent","Environment",Sk.ffi.isInstance(b,"Environment"),b),d.parent=b);if("undefined"!==typeof c&&!Sk.ffi.isNone(c)){Sk.ffi.checkArgType("binding","Binding",Sk.ffi.isInstance(c,"Binding"),c);var q=Sk.ffi.gattr(c,"name");Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(q),q);var n=Sk.ffi.gattr(c,
"expr");d.bindings[Sk.ffi.remapToJs(q)]=n}Sk.ffi.referenceToPy(d,"Environment",void 0,a)});d.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Environment,b,c)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "lookup":return Sk.ffi.callableToPy(a,"lookup",function(a,b){Sk.ffi.checkMethodArgs("lookup",arguments,1,1);Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(b),b);var c=Sk.ffi.remapToJs(b);
return"undefined"!==typeof d.bindings[c]?d.bindings[c]:"undefined"!==typeof d.parent?Sk.ffi.callsim(Sk.ffi.gattr(d.parent,"lookup"),b):Sk.builtin.none.none$});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Environment");}});d.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Environment()")});d.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Environment")})},"Environment",[]);a.Variable=Sk.ffi.buildClass(a,function(b,
d){d.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("Variable",arguments,1,1);Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(b),b);var c={};c.name=b;c.uuid=THREE.Math.generateUUID();c.childAxis=[];Sk.ffi.referenceToPy(c,"Variable",void 0,a)});d.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Add,b,c)});d.__radd__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Add,
c,b)});d.__sub__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("-",arguments,1,1);return Sk.ffi.callsim(a.Subtract,b,c)});d.__mul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("*",arguments,1,1);return Sk.ffi.callsim(a.Multiply,b,c)});d.__rmul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("*",arguments,1,1);return Sk.ffi.callsim(a.Multiply,c,b)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "evaluate":return Sk.ffi.callableToPy(a,
"evaluate",function(a,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);Sk.ffi.checkArgType("env","Environment",Sk.ffi.isInstance(c,"Environment"),c);var f=Sk.ffi.gattr(c,"lookup"),f=Sk.ffi.callsim(f,d.name);return Sk.ffi.isNone(f)?b:f});default:return Sk.symbolic.treeGetAttr("Variable",b,c)}});d.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy('Variable("'+Sk.ffi.remapToJs(a.name)+'")')});d.__str__=Sk.ffi.functionPy(function(a){return Sk.ffi.remapToJs(a).name})},
"Variable",[]);a.TreeWalker=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("TreeWalker",arguments,1,1);var c={ancestorAxis:[]};c.contextNode=b;c.childAxis=Sk.ffi.gattr(c.contextNode,"childAxis");Sk.ffi.referenceToPy(c,"TreeWalker",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "ancestorAxis":return Sk.ffi.listPy(d[c]);case "contextNode":return d[c];case "moveToFirstChild":return Sk.ffi.callableToPy(a,
c,function(a){a=Sk.ffi.remapToJs(d.childAxis);return 0<a.length?(d.ancestorAxis.push(d.contextNode),d.contextNode=a[0],d.childAxis=Sk.ffi.gattr(d.contextNode,"childAxis"),Sk.ffi.booleanToPy(!0)):Sk.ffi.booleanToPy(!1)});case "moveToLastChild":return Sk.ffi.callableToPy(a,c,function(a){a=Sk.ffi.remapToJs(d.childAxis);return 0<a.length?(d.ancestorAxis.push(d.contextNode),d.contextNode=a[a.length-1],d.childAxis=Sk.ffi.gattr(d.contextNode,"childAxis"),Sk.ffi.booleanToPy(!0)):Sk.ffi.booleanToPy(!1)});
case "moveToParent":return Sk.ffi.callableToPy(a,c,function(a){Sk.ffi.remapToJs(d.childAxis);return 0<d.ancestorAxis.length?(a=d.ancestorAxis.pop(),d.contextNode=a,d.childAxis=Sk.ffi.gattr(d.contextNode,"childAxis"),Sk.ffi.booleanToPy(!0)):Sk.ffi.booleanToPy(!1)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("TreeWalker");}});d.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("TreeWalker()")});d.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);
return Sk.builtin.stringToPy("TreeWalker")})},"TreeWalker",[]);a.Binding=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Binding",arguments,2,2);Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(b),b);var d={};d.name=b;d.expr=c;Sk.ffi.referenceToPy(d,"Binding",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "name":return c.name;case "expr":return c.expr;default:throw Sk.ffi.err.attribute(b).isNotGetableOnType("Binding");
}});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=['"'+Sk.ffi.remapToJs(a.name)+'"',Sk.ffi.remapToJs(Sk.ffh.repr(a.expr))].join(", ");return Sk.builtin.stringToPy("Binding("+a+")")});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[Sk.ffi.remapToJs(a.name),Sk.ffi.remapToJs(Sk.ffh.str(a.expr))].join(" => ");return Sk.builtin.stringToPy(a)})},"Binding",[]);a.Add=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Add",
arguments,2,2);var d={};d.lhs=b;d.rhs=c;d.uuid=THREE.Math.generateUUID();d.childAxis=[b,c];Sk.ffi.referenceToPy(d,"Add",void 0,a)});d.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Add,b,c)});d.__sub__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("-",arguments,1,1);return Sk.ffi.callsim(a.Subtract,b,c)});d.__mul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("*",arguments,1,1);return Sk.ffi.callsim(a.Multiply,b,c)});d.__getattr__=
Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "className":return Sk.builtin.stringToPy("Add");case "lhs":case "rhs":return d[c];case "evaluate":return Sk.ffi.callableToPy(a,"evaluate",function(a,b){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);Sk.ffi.checkArgType("env","Environment",Sk.ffi.isInstance(b,"Environment"),b);var c=Sk.ffh.evaluate(d.lhs,b),e=Sk.ffh.evaluate(d.rhs,b);return Sk.ffh.add(c,e)});default:return Sk.symbolic.treeGetAttr("Add",b,c)}});d.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);a=[a.lhs,a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy("Add("+a+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.lhs,a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(" + ");return Sk.builtin.stringToPy("("+a+")")})},"Add",[]);a.Subtract=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Subtract",arguments,2,2);var d={};d.lhs=
b;d.rhs=c;d.uuid=THREE.Math.generateUUID();d.childAxis=[b,c];Sk.ffi.referenceToPy(d,"Subtract",void 0,a)});d.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Add,b,c)});d.__mul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("*",arguments,1,1);return Sk.ffi.callsim(a.Multiply,b,c)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "evaluate":return Sk.ffi.callableToPy(a,"evaluate",function(a,b){Sk.ffi.checkMethodArgs("evaluate",
arguments,1,1);Sk.ffi.checkArgType("env","Environment",Sk.ffi.isInstance(b,"Environment"),b);var c=Sk.ffh.evaluate(d.lhs,b),e=Sk.ffh.evaluate(d.rhs,b);return Sk.ffh.sub(c,e)});default:return Sk.symbolic.treeGetAttr("Subtract",b,c)}});d.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.lhs,a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy("Subtract("+a+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.lhs,
a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(" - ");return Sk.builtin.stringToPy("("+a+")")})},"Subtract",[]);a.Multiply=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Multiply",arguments,2,2);var d={};d.lhs=b;d.rhs=c;d.uuid=THREE.Math.generateUUID();d.childAxis=[b,c];Sk.ffi.referenceToPy(d,"Multiply",void 0,a)});d.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("+",arguments,1,1);return Sk.ffi.callsim(a.Add,
b,c)});d.__mul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkMethodArgs("*",arguments,1,1);return Sk.ffi.callsim(a.Multiply,b,c)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "className":return Sk.builtin.stringToPy("Multiply");case "lhs":case "rhs":return d[c];case "evaluate":return Sk.ffi.callableToPy(a,"evaluate",function(a,b){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);Sk.ffi.checkArgType("env","Environment",Sk.ffi.isInstance(b,"Environment"),b);
var c=Sk.ffh.evaluate(d.lhs,b),e=Sk.ffh.evaluate(d.rhs,b);return Sk.ffh.mul(c,e)});default:return Sk.symbolic.treeGetAttr("Multiply",b,c)}});d.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.lhs,a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy("Multiply("+a+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.lhs,a.rhs].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(" * ");return Sk.builtin.stringToPy("("+
a+")")})},"Multiply",[]);a.PointE2=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("PointE2",arguments,2,2);var d={};d.x=b;d.y=c;Sk.ffi.referenceToPy(d,"PointE2",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "evaluate":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);Sk.ffi.checkArgType("env","Environment",Sk.ffi.isInstance(c,"Environment"),
c);var e=Sk.ffh.evaluate(d.x,c),f=Sk.ffh.evaluate(d.y,c);return Sk.ffi.callsim(a.PointE2,e,f)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("PointE2");}});d.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.x,a.y].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))}).join(", ");return Sk.builtin.stringToPy("PointE2("+a+")")});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[a.x,a.y].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))}).join(", ");
return Sk.builtin.stringToPy("["+a+"]")})},"PointE2",[]);a.Commute=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("Commute",arguments,0,0);Sk.ffi.referenceToPy({},"Commute",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(c,"rhs");Sk.ffi.checkMethodArgs("evaluate",
arguments,1,1);return Sk.ffi.callsim(a[d],f,e)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Commute");}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Commute")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Commute")})},"Commute",[]);a.DistribL=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("DistribL",arguments,0,0);Sk.ffi.referenceToPy({},"DistribL",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,
c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(c,"rhs"),g=Sk.ffi.remapToJs(Sk.ffi.gattr(f,"className")),l=Sk.ffi.gattr(f,"lhs"),f=Sk.ffi.gattr(f,"rhs"),l=Sk.ffi.callsim(a[d],e,l),d=Sk.ffi.callsim(a[d],e,f);return Sk.ffi.callsim(a[g],l,d)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("DistribL");
}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("DistribL")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("DistribL")})},"DistribL",[]);a.DistribR=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("DistribR",arguments,0,0);Sk.ffi.referenceToPy({},"DistribR",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,
c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.remapToJs(Sk.ffi.gattr(e,"className")),g=Sk.ffi.gattr(e,"lhs"),e=Sk.ffi.gattr(e,"rhs"),l=Sk.ffi.gattr(c,"rhs");return Sk.ffi.callsim(a[f],Sk.ffi.callsim(a[d],g,l),Sk.ffi.callsim(a[d],e,l))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("DistribR");}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("DistribR")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("DistribR")})},
"DistribR",[]);a.FactorL=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("FactorL",arguments,0,0);Sk.ffi.referenceToPy({},"FactorL",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(c,"rhs"),g=Sk.ffi.gattr(e,
"lhs"),l=Sk.ffi.gattr(e,"rhs"),g=Sk.ffi.gattr(f,"lhs"),p=Sk.ffi.gattr(f,"rhs"),e=Sk.ffi.remapToJs(Sk.ffi.gattr(e,"className"));Sk.ffi.remapToJs(Sk.ffi.gattr(f,"className"));return Sk.ffi.callsim(a[e],g,Sk.ffi.callsim(a[d],l,p))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("FactorL");}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("FactorL")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("FactorL")})},"FactorL",[]);a.FactorR=Sk.ffi.buildClass(a,
function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("FactorR",arguments,0,0);Sk.ffi.referenceToPy({},"FactorR",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(c,"rhs"),g=Sk.ffi.gattr(e,"lhs"),l=Sk.ffi.gattr(e,"rhs"),p=Sk.ffi.gattr(f,
"lhs"),l=Sk.ffi.gattr(f,"rhs"),e=Sk.ffi.remapToJs(Sk.ffi.gattr(e,"className"));Sk.ffi.remapToJs(Sk.ffi.gattr(f,"className"));return Sk.ffi.callsim(a[e],Sk.ffi.callsim(a[d],g,p),l)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("FactorR");}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("FactorR")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("FactorR")})},"FactorR",[]);a.AssocL=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("AssocL",
arguments,0,0);Sk.ffi.referenceToPy({},"AssocL",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(c,"rhs"),g=Sk.ffi.gattr(f,"lhs"),f=Sk.ffi.gattr(f,"rhs");return Sk.ffi.callsim(a[d],Sk.ffi.callsim(a[d],e,g),f)});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("AssocL");
}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("AssocL")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("AssocL")})},"AssocL",[]);a.AssocR=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("AssocR",arguments,0,0);Sk.ffi.referenceToPy({},"AssocR",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(b,c){Sk.ffi.remapToJs(b);switch(c){case "execute":return Sk.ffi.callableToPy(a,"evaluate",function(b,c){Sk.ffi.checkMethodArgs("evaluate",
arguments,1,1);var d=Sk.ffi.remapToJs(Sk.ffi.gattr(c,"className")),e=Sk.ffi.gattr(c,"lhs"),f=Sk.ffi.gattr(e,"lhs"),e=Sk.ffi.gattr(e,"rhs"),g=Sk.ffi.gattr(c,"rhs");return Sk.ffi.callsim(a[d],f,Sk.ffi.callsim(a[d],e,g))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("AssocR");}});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("AssocR")});d.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("AssocR")})},"AssocR",[])}}).call(this);Sk.units=Sk.units||{};
(function(){Sk.builtin.defineUnits=function(a,b){Sk.ffi.checkFunctionArgs("defineUnits",arguments,2,2);a.yocto=Sk.ffi.numberToFloatPy(1E-24);a.zepto=Sk.ffi.numberToFloatPy(1E-21);a.atto=Sk.ffi.numberToFloatPy(1E-18);a.femto=Sk.ffi.numberToFloatPy(1E-15);a.pico=Sk.ffi.numberToFloatPy(1E-12);a.nano=Sk.ffi.numberToFloatPy(1E-9);a.micro=Sk.ffi.numberToFloatPy(1E-6);a.milli=Sk.ffi.numberToFloatPy(0.001);a.centi=Sk.ffi.numberToFloatPy(0.01);a.deci=Sk.ffi.numberToFloatPy(0.1);a.deka=Sk.ffi.numberToFloatPy(10);
a.hecto=Sk.ffi.numberToFloatPy(100);a.kilo=Sk.ffi.numberToFloatPy(1E3);a.mega=Sk.ffi.numberToFloatPy(1E6);a.giga=Sk.ffi.numberToFloatPy(1E9);a.tera=Sk.ffi.numberToFloatPy(1E12);a.peta=Sk.ffi.numberToFloatPy(1E15);a.exa=Sk.ffi.numberToFloatPy(1E18);a.zetta=Sk.ffi.numberToFloatPy(1E21);a.yotta=Sk.ffi.numberToFloatPy(1E24);var c=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],d=function(a){return Sk.ffi.isInstance(a,"Measure")},e=function(a){return Sk.ffi.isInstance(a,"Unit")},f=function(a){return Sk.ffi.isNum(a)?
!0:Sk.ffi.isInstance(a,"Euclidean3")?!0:Sk.ffi.isInstance(a,"Euclidean2")?!0:Sk.ffi.isInstance(a,"complex")?!0:Sk.ffi.isInstance(a,"Rational")?!0:Sk.ffi.isInstance(a,"Fraction")?!0:!1};Sk.builtin.defineFractions(a,"Rational",function(a,c){return new b.Rational(a,c)});a.Dimensions=Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a,c,d,e,f,h,k,r){Sk.ffi.checkMethodArgs("Dimensions",arguments,1,7);Sk.ffi.checkArgType("M","Rational",Sk.ffi.isInstance(c,"Rational")||Sk.ffi.isInstance(c,
"Dimensions"),c);switch(Sk.ffi.typeName(c)){case "Rational":Sk.ffi.checkMethodArgs("Dimensions",arguments,7,7);Sk.ffi.checkArgType("L","Rational",Sk.ffi.isInstance(d,"Rational"),d);Sk.ffi.checkArgType("T","Rational",Sk.ffi.isInstance(e,"Rational"),e);Sk.ffi.checkArgType("Q","Rational",Sk.ffi.isInstance(f,"Rational"),f);Sk.ffi.checkArgType("temperature","Rational",Sk.ffi.isInstance(h,"Rational"),h);Sk.ffi.checkArgType("amount","Rational",Sk.ffi.isInstance(k,"Rational"),k);Sk.ffi.checkArgType("intensity",
"Rational",Sk.ffi.isInstance(r,"Rational"),r);Sk.ffi.referenceToPy(new b.Dimensions(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(e),Sk.ffi.remapToJs(f),Sk.ffi.remapToJs(h),Sk.ffi.remapToJs(k),Sk.ffi.remapToJs(r)),"Dimensions",void 0,a);break;case "Dimensions":Sk.ffi.checkMethodArgs("Dimensions",arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Dimensions",void 0,a);break;default:throw Sk.ffi.err.argument("M").inFunction("Dimensions").mustHaveType(["Rational","Dimensions"]);}});
d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "M":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.M,"Rational"));case "L":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.L,"Rational"));case "T":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.T,"Rational"));case "Q":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.Q,"Rational"));case "temperature":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.temperature,"Rational"));
case "amount":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.amount,"Rational"));case "intensity":return Sk.ffi.callsim(a.Rational,Sk.ffi.referenceToPy(d.intensity,"Rational"))}});d.__mul__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkRhsOperandType("multiply","Dimensions",Sk.ffi.isInstance(c,"Dimensions"),c);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),d=d.mul(e);return Sk.ffi.callsim(a.Dimensions,Sk.ffi.referenceToPy(d.M,"Rational"),Sk.ffi.referenceToPy(d.L,"Rational"),Sk.ffi.referenceToPy(d.T,
"Rational"),Sk.ffi.referenceToPy(d.Q,"Rational"),Sk.ffi.referenceToPy(d.temperature,"Rational"),Sk.ffi.referenceToPy(d.amount,"Rational"),Sk.ffi.referenceToPy(d.intensity,"Rational"))});d.__div__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),d=d.div(e);return Sk.ffi.callsim(a.Dimensions,Sk.ffi.referenceToPy(d.M,"Rational"),Sk.ffi.referenceToPy(d.L,"Rational"),Sk.ffi.referenceToPy(d.T,"Rational"),Sk.ffi.referenceToPy(d.Q,"Rational"),Sk.ffi.referenceToPy(d.temperature,
"Rational"),Sk.ffi.referenceToPy(d.amount,"Rational"),Sk.ffi.referenceToPy(d.intensity,"Rational"))});d.__pow__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkFunctionArgs("**",arguments,2,2);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),d=d.pow(e);return Sk.ffi.callsim(a.Dimensions,Sk.ffi.referenceToPy(d.M,"Rational"),Sk.ffi.referenceToPy(d.L,"Rational"),Sk.ffi.referenceToPy(d.T,"Rational"),Sk.ffi.referenceToPy(d.Q,"Rational"),Sk.ffi.referenceToPy(d.temperature,"Rational"),Sk.ffi.referenceToPy(d.amount,
"Rational"),Sk.ffi.referenceToPy(d.intensity,"Rational"))});d.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)});d.__repr__=Sk.ffi.functionPy(function(a){var b="M L T Q temperature amount intensity".split(" ").map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffi.callsim(a.__repr__,a))});return Sk.builtin.stringToPy("Dimensions("+b.join(" , ")+")")})},"Dimensions",[]);a.Unit=Sk.ffi.buildClass(a,function(f,k){k.__init__=
Sk.ffi.functionPy(function(a,c,d,e,f){Sk.ffi.checkMethodArgs("Unit",arguments,1,4);var h={};h.name=Sk.ffi.remapToJs(f);switch(Sk.ffi.getType(c)){case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:Sk.ffi.checkMethodArgs("Unit",arguments,3,4);var k=Sk.ffi.remapToJs(c),r=Sk.ffi.remapToJs(d),u=Sk.ffi.remapToJs(e);Sk.ffi.referenceToPy(new b.Unit(k,r,u),"Unit",h,a);break;case Sk.ffi.PyType.INSTANCE:Sk.ffi.checkMethodArgs("Unit",arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),
"Unit",h,a);break;default:throw Error("Unit (__init__) "+Sk.ffi.getType(c));}});k.__getattr__=Sk.ffi.functionPy(function(c,d){var f=Sk.ffi.remapToJs(c);switch(d){case "scale":return Sk.ffi.numberToFloatPy(f.scale);case "dimensions":return Sk.ffi.callsim(a.Dimensions,Sk.ffi.referenceToPy(f.dimensions,"Dimensions"));case "labels":return Sk.ffi.remapToPy(f.labels);case "name":return c.custom.name?Sk.builtin.stringToPy(c.custom.name):Sk.builtin.none.none$;case "compatible":return Sk.ffi.callableToPy(a,
"compatible",function(a,b){Sk.ffi.checkMethodArgs("compatible",arguments,1,1);Sk.ffi.checkArgType("other","Unit",e(b),b);var d=Sk.ffi.remapToJs(b);try{f.compatible(d)}catch(h){throw Sk.ffi.assertionError(h.message);}return c});case "cos":return Sk.ffi.callableToPy(a,"cos",function(c){Sk.ffi.checkMethodArgs("cos",arguments,0,0);var d=f.dimensions,e=f.labels,d=new b.Unit(Sk.math.cos(f.scale),d,e);return Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(d,"Unit"))});case "sin":return Sk.ffi.callableToPy(a,
"sin",function(c){Sk.ffi.checkMethodArgs("sin",arguments,0,0);var d=f.dimensions,e=f.labels,d=new b.Unit(Sk.math.sin(f.scale),d,e);return Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(d,"Unit"))});default:throw Sk.ffi.err.attribute(d).isNotGetableOnType("Unit");}});k.__add__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c);try{var f=d.add(e);return Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(f.scale),Sk.ffi.referenceToPy(f.dimensions,"Dimensions"),Sk.ffi.remapToPy(f.labels))}catch(h){throw Sk.ffi.assertionError(h.message);
}});k.__sub__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c);try{var f=d.sub(e);return Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(f.scale),Sk.ffi.referenceToPy(f.dimensions,"Dimensions"),Sk.ffi.remapToPy(f.labels))}catch(h){throw Sk.ffi.assertionError(h.message);}});k.__or__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);if(d(c)){var f=Sk.ffi.gattr(c,"quantity"),g=Sk.ffi.gattr(c,"uom");return Sk.ffi.callsim(a.Measure,f,Sk.ffh.mul(b,g))}return Sk.ffi.isNum(c)||
e(c)?Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(f.mul(Sk.ffi.remapToJs(c)),"Unit")):Sk.ffi.callsim(a.Measure,c,b)});k.__ror__=Sk.ffi.functionPy(function(b,c){return Sk.ffi.callsim(a.Measure,c,b)});k.__mul__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);if(d(c)){var f=Sk.ffi.gattr(c,"quantity"),g=Sk.ffi.gattr(c,"uom");return Sk.ffi.callsim(a.Measure,f,Sk.ffh.mul(b,g))}return Sk.ffi.isNum(c)||e(c)?Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(f.mul(Sk.ffi.remapToJs(c)),"Unit")):Sk.ffi.callsim(a.Measure,
c,b)});k.__rmul__=Sk.ffi.functionPy(function(b,d){Sk.ffi.checkLhsOperandType("multiply",c,Sk.ffi.isNum(d),d);var e=Sk.ffi.remapToJs(d),f=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(e*f.scale),Sk.ffi.referenceToPy(f.dimensions,"Dimensions"),Sk.ffi.remapToPy(f.labels))});k.__div__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);if(d(c)){var f=Sk.ffi.gattr(c,"quantity"),g=Sk.ffi.gattr(c,"uom");return Sk.ffi.callsim(a.Measure,Sk.ffh.div(Sk.ffi.numberToFloatPy(1),
f),Sk.ffh.div(b,g))}return Sk.ffi.isNum(c)||e(c)?Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(f.div(Sk.ffi.remapToJs(c)),"Unit")):Sk.ffi.callsim(a.Measure,c,b)});k.__rdiv__=Sk.ffi.functionPy(function(b,d){Sk.ffi.checkLhsOperandType("multiply",c,Sk.ffi.isNum(d),d);var e=Sk.ffi.remapToJs(d),f=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(f.inverse().mul(e),"Unit"))});k.__pow__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),d=d.pow(e);return Sk.ffi.callsim(a.Unit,
Sk.ffi.numberToFloatPy(d.scale),Sk.ffi.referenceToPy(d.dimensions,"Dimensions"),Sk.ffi.remapToPy(d.labels))});k.__abs__=Sk.ffi.functionPy(function(b){b=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(Math.abs(b.scale)),Sk.ffi.referenceToPy(b.dimensions,"Dimensions"),Sk.ffi.remapToPy(b.labels))});k.__magnitude__=Sk.ffi.functionPy(function(b){b=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(Math.abs(b.scale)),Sk.ffi.referenceToPy(b.dimensions,"Dimensions"),
Sk.ffi.remapToPy(b.labels))});k.__quadrance__=Sk.ffi.functionPy(function(b){b=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(b.pow(2),"Unit"))});k.__sqrt__=Sk.ffi.functionPy(function(b){b=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(b.pow(0.5),"Unit"))});k.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);for(var b=[[-1,1,-3,1,2,1,2,1,0,1,0,1,0,1,"F/m"],[-1,1,-2,1,1,1,2,1,0,1,0,1,0,1,"S"],[-1,1,-2,1,2,1,2,1,0,1,0,1,0,1,"F"],[-1,1,3,1,-2,1,
0,1,0,1,0,1,0,1,"N\u00b7m ** 2/kg ** 2"],[0,1,0,1,-1,1,0,1,0,1,0,1,0,1,"Hz"],[0,1,0,1,-1,1,1,1,0,1,0,1,0,1,"A"],[0,1,1,1,-2,1,0,1,0,1,0,1,0,1,"m/s ** 2"],[0,1,1,1,-1,1,0,1,0,1,0,1,0,1,"m/s"],[1,1,1,1,-1,1,0,1,0,1,0,1,0,1,"kg\u00b7m/s"],[1,1,-1,1,-2,1,0,1,0,1,0,1,0,1,"Pa"],[1,1,-1,1,-1,1,0,1,0,1,0,1,0,1,"Pa\u00b7s"],[1,1,0,1,-3,1,0,1,0,1,0,1,0,1,"W/m ** 2"],[1,1,0,1,-2,1,0,1,0,1,0,1,0,1,"N/m"],[1,1,0,1,-1,1,-1,1,0,1,0,1,0,1,"T"],[1,1,1,1,-3,1,0,1,-1,1,0,1,0,1,"W/(m\u00b7K)"],[1,1,1,1,-2,1,-1,1,0,1,
0,1,0,1,"V/m"],[1,1,1,1,-2,1,0,1,0,1,0,1,0,1,"N"],[1,1,1,1,0,1,-2,1,0,1,0,1,0,1,"H/m"],[1,1,2,1,-2,1,0,1,-1,1,0,1,0,1,"J/K"],[0,1,2,1,-2,1,0,1,-1,1,0,1,0,1,"J/(kg\u00b7K)"],[1,1,2,1,-2,1,0,1,-1,1,-1,1,0,1,"J/(mol\u00b7K)"],[1,1,2,1,-2,1,0,1,0,1,-1,1,0,1,"J/mol"],[1,1,2,1,-2,1,0,1,0,1,0,1,0,1,"J"],[1,1,2,1,-1,1,0,1,0,1,0,1,0,1,"J\u00b7s"],[1,1,2,1,-3,1,0,1,0,1,0,1,0,1,"W"],[1,1,2,1,-2,1,-1,1,0,1,0,1,0,1,"V"],[1,1,2,1,-1,1,-2,1,0,1,0,1,0,1,"\u03a9"],[1,1,2,1,0,1,-2,1,0,1,0,1,0,1,"H"],[1,1,2,1,-1,1,
-1,1,0,1,0,1,0,1,"Wb"]],c=a.dimensions.M,d=a.dimensions.L,e=a.dimensions.T,f=a.dimensions.Q,h=a.dimensions.temperature,k=a.dimensions.amount,u=a.dimensions.intensity,N=0,z=b.length;N<z;N++){var J=b[N];if(c.numer===J[0]&&c.denom===J[1]&&d.numer===J[2]&&d.denom===J[3]&&e.numer===J[4]&&e.denom===J[5]&&f.numer===J[6]&&f.denom===J[7]&&h.numer===J[8]&&h.denom===J[9]&&k.numer===J[10]&&k.denom===J[11]&&u.numer===J[12]&&u.denom===J[13])return 1!==a.scale?Sk.builtin.stringToPy(a.scale+" * "+J[14]):Sk.builtin.stringToPy(J[14])}return Sk.builtin.stringToPy(""+
a)});k.__repr__=Sk.ffi.functionPy(function(a){var b=[{name:"dimensions",kind:"__repr__"}].map(function(b){return{value:Sk.ffi.gattr(a,b.name),prop:b}}).map(function(a){return Sk.ffi.remapToJs(Sk.ffi.callsim(a.value[a.prop.kind],a.value))}),c=Sk.ffi.remapToJs(a),d=""+c.scale,b=b[0],c="["+c.labels.map(function(a){return"'"+a+"'"}).join(" , ")+"]";return Sk.builtin.stringToPy("Unit("+[d,b,c].join(" , ")+")")})},"Unit",[]);a.Measure=Sk.ffi.buildClass(a,function(b,k){var q=function(b){return function(c,
e){var h=Sk.ffi.remapToJs(c);if(d(e)){var k=Sk.ffi.remapToJs(e);return Sk.ffi.callsim(a.Measure,b(h.qtyPy,k.qtyPy),Sk.ffh.mul(h.uomPy,k.uomPy))}if(f(e)&&(k=b(h.qtyPy,e),"undefined"!==typeof k))return Sk.ffi.callsim(a.Measure,k,h.uomPy)}},n=function(b){return function(c,d){if(f(d)){var e=b(d,Sk.ffi.gattr(c,"quantity"));if("undefined"!==typeof e)return Sk.ffi.callsim(a.Measure,e,Sk.ffi.gattr(c,"uom"))}}};k.__init__=Sk.ffi.functionPy(function(b,c,d){Sk.ffi.checkMethodArgs("Measure",arguments,1,2);if("Measure"===
Sk.ffi.typeName(c))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Measure",c.custom,b);else{var e=Sk.ffi.gattr(d,"scale");if(1===Sk.ffi.remapToJs(e)){var f={};f.qtyPy=c;f.uomPy=d}else f={},f.qtyPy=Sk.ffh.mul(c,e),f.uomPy=Sk.ffi.callsim(a.Unit,Sk.ffi.numberToFloatPy(1),Sk.ffi.gattr(d,"dimensions"),Sk.ffi.gattr(d,"labels"),Sk.ffi.gattr(d,"name"));Sk.ffi.referenceToPy(f,"Measure",void 0,b)}});k.__getattr__=Sk.ffi.functionPy(function(b,c){var e=Sk.ffi.remapToJs(b);switch(c){case "quantity":return e.qtyPy;
case "uom":return e.uomPy;case "exp":return Sk.ffi.callableToPy(a,"exp",function(b){Sk.ffi.checkMethodArgs("exp",arguments,0,0);return Sk.ffi.callsim(a.Measure,Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"exp")),e.uomPy)});case "magnitude":return Sk.ffi.callableToPy(a,"magnitude",function(b){Sk.ffi.checkMethodArgs("magnitude",arguments,0,0);return Sk.ffi.callsim(a.Measure,Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"magnitude")),e.uomPy)});case "cross":return Sk.ffi.callableToPy(a,"exp",function(b,c){Sk.ffi.checkMethodArgs("cross",
arguments,1,1);if(d(c)){var f=Sk.ffi.remapToJs(c),g=Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"cross"),f.qtyPy);return Sk.ffi.callsim(a.Measure,g,Sk.ffh.mul(e.uomPy,f.uomPy))}g=Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"cross"),c);return Sk.ffi.callsim(a.Measure,g,e.uomPy)});case "dot":return Sk.ffi.callableToPy(a,"exp",function(b,c){Sk.ffi.checkMethodArgs("dot",arguments,1,1);if(d(c)){var f=Sk.ffi.remapToJs(c),g=Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"dot"),f.qtyPy);return Sk.ffi.callsim(a.Measure,g,Sk.ffh.mul(e.uomPy,
f.uomPy))}g=Sk.ffi.callsim(Sk.ffi.gattr(e.qtyPy,"dot"),c);return Sk.ffi.callsim(a.Measure,g,e.uomPy)})}});k.__add__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkArgType("other","Measure",d(c),c);var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(c),h=Sk.ffh.add(e.qtyPy,f.qtyPy),e=Sk.ffi.callsim(Sk.ffi.gattr(e.uomPy,"compatible"),f.uomPy);return Sk.ffi.callsim(a.Measure,h,e)});k.__sub__=Sk.ffi.functionPy(function(b,c){Sk.ffi.checkArgType("other","Measure",d(c),c);var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(c);
return Sk.ffi.callsim(a.Measure,Sk.ffh.sub(e.qtyPy,f.qtyPy),Sk.ffi.callsim(Sk.ffi.gattr(e.uomPy,"compatible"),f.uomPy))});k.__mod__=Sk.ffi.functionPy(q(Sk.ffh.mod));k.__rmod__=Sk.ffi.functionPy(n(Sk.ffh.mod));k.__mul__=Sk.ffi.functionPy(q(Sk.ffh.mul));k.__rmul__=Sk.ffi.functionPy(n(Sk.ffh.mul));k.__div__=Sk.ffi.functionPy(function(b,c){var f=Sk.ffi.remapToJs(b);if(d(c)){var h=Sk.ffi.remapToJs(c);return Sk.ffi.callsim(a.Measure,Sk.ffh.div(f.qtyPy,h.qtyPy),Sk.ffh.div(f.uomPy,h.uomPy))}return e(c)?Sk.ffi.callsim(a.Measure,
f.qtyPy,Sk.ffh.div(f.uomPy,c)):Sk.ffi.callsim(a.Measure,Sk.ffh.div(f.qtyPy,c),f.uomPy)});k.__rdiv__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);return Sk.ffi.callsim(a.Measure,Sk.ffh.div(c,d.qtyPy),Sk.ffh.div(Sk.ffi.numberToFloatPy(1),d.uomPy))});k.__or__=Sk.ffi.functionPy(q(Sk.ffh.bitOr));k.__ror__=Sk.ffi.functionPy(n(Sk.ffh.bitOr));k.__xor__=Sk.ffi.functionPy(q(Sk.ffh.bitXor));k.__rxor__=Sk.ffi.functionPy(n(Sk.ffh.bitXor));k.__and__=Sk.ffi.functionPy(q(Sk.ffh.bitAnd));k.__rand__=Sk.ffi.functionPy(n(Sk.ffh.bitAnd));
k.__lshift__=Sk.ffi.functionPy(q(Sk.ffh.lshift));k.__rlshift__=Sk.ffi.functionPy(n(Sk.ffh.lshift));k.__rshift__=Sk.ffi.functionPy(q(Sk.ffh.rshift));k.__rrshift__=Sk.ffi.functionPy(n(Sk.ffh.rshift));k.__pow__=Sk.ffi.functionPy(function(b,e){var f=d(e);Sk.ffi.checkArgType("other",["Measure",c],Sk.ffi.isNum(e)||f,e);var h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(e),n=Sk.ffh.pow(h.qtyPy,f?k.qtyPy:e),f=Sk.ffh.pow(h.uomPy,f?k.uomPy:e);return Sk.ffi.callsim(a.Measure,n,f)});k.__pos__=Sk.ffi.functionPy(function(b){var c=
Sk.ffh.positive(Sk.ffi.gattr(b,"quantity"));b=Sk.ffi.gattr(b,"uom");return Sk.ffi.callsim(a.Measure,c,b)});k.__neg__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.negative(Sk.ffi.gattr(b,"quantity"));b=Sk.ffi.gattr(b,"uom");return Sk.ffi.callsim(a.Measure,c,b)});k.__invert__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.invert(Sk.ffi.gattr(b,"quantity"));b=Sk.ffi.gattr(b,"uom");return Sk.ffi.callsim(a.Measure,c,b)});k.__cos__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");if(!Sk.ffi.remapToJs(c).dimensions.dimensionless())throw new Sk.builtin.TypeError("Argument to cos function must be an angle.");
b=Sk.ffh.cos(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.dimensionless,"uom"))});k.__sin__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");if(!Sk.ffi.remapToJs(c).dimensions.dimensionless())throw new Sk.builtin.TypeError("Argument to sin function must be an angle.");b=Sk.ffh.sin(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.dimensionless,"uom"))});k.__tan__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");if(!Sk.ffi.remapToJs(c).dimensions.dimensionless())throw new Sk.builtin.TypeError("Argument to tan function must be an angle.");
b=Sk.ffh.tan(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.dimensionless,"uom"))});k.__acos__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");Sk.ffi.remapToJs(c);b=Sk.ffh.acos(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.radian,"uom"))});k.__asin__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");Sk.ffi.remapToJs(c);b=Sk.ffh.asin(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.radian,"uom"))});
k.__atan__=Sk.ffi.functionPy(function(b){var c=Sk.ffi.gattr(b,"uom");Sk.ffi.remapToJs(c);b=Sk.ffh.atan(Sk.ffi.gattr(b,"quantity"));return Sk.ffi.callsim(a.Measure,b,Sk.ffi.gattr(a.radian,"uom"))});k.__exp__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.exp(Sk.ffi.gattr(b,"quantity"));b=Sk.ffi.gattr(b,"uom");return Sk.ffi.callsim(a.Measure,c,b)});k.__abs__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.abs(Sk.ffi.gattr(b,"quantity"));b=Sk.ffh.abs(Sk.ffi.gattr(b,"uom"));return Sk.ffi.callsim(a.Measure,c,b)});
k.__magnitude__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.magnitude(Sk.ffi.gattr(b,"quantity"));b=Sk.ffh.magnitude(Sk.ffi.gattr(b,"uom"));return Sk.ffi.callsim(a.Measure,c,b)});k.__quadrance__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.quadrance(Sk.ffi.gattr(b,"quantity"));b=Sk.ffh.quadrance(Sk.ffi.gattr(b,"uom"));return Sk.ffi.callsim(a.Measure,c,b)});k.__sqrt__=Sk.ffi.functionPy(function(b){var c=Sk.ffh.sqrt(Sk.ffi.gattr(b,"quantity"));b=Sk.ffh.sqrt(Sk.ffi.gattr(b,"uom"));return Sk.ffi.callsim(a.Measure,
c,b)});k.__str__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);a=Sk.ffi.remapToJs(Sk.ffh.str(b.qtyPy));b=Sk.ffi.remapToJs(Sk.ffh.str(b.uomPy));return Sk.builtin.stringToPy((""+a+" "+b).trim())});k.__repr__=Sk.ffi.functionPy(function(a){var b=Sk.ffi.remapToJs(a);a=Sk.ffi.remapToJs(Sk.ffh.repr(b.qtyPy));b=Sk.ffi.remapToJs(Sk.ffh.repr(b.uomPy));return Sk.builtin.stringToPy("Measure("+a+", "+b+")")})},"Measure",[]);(function(){function c(b){b=Sk.ffi.callsim(a.Unit,Sk.ffi.referenceToPy(b,"Unit"));
return Sk.ffi.callsim(a.Measure,d,b)}var d=Sk.ffi.numberToFloatPy(1);a.dimensionless=c(b.UNIT_DIMLESS);a.kilogram=c(b.UNIT_KILOGRAM);a.meter=c(b.UNIT_METER);a.second=c(b.UNIT_SECOND);a.ampere=c(b.UNIT_AMPERE);a.kelvin=c(b.UNIT_KELVIN);a.mole=c(b.UNIT_MOLE);a.candela=c(b.UNIT_CANDELA);a.coulomb=c(b.UNIT_COULOMB);a.gram=Sk.ffh.mul(a.milli,a.kilogram);a.cm=Sk.ffh.mul(a.centi,a.meter);a.newton=Sk.ffh.div(Sk.ffh.mul(a.kilogram,a.meter),Sk.ffh.mul(a.second,a.second));a.joule=Sk.ffh.mul(a.newton,a.meter);
a.swirl=Sk.ffh.mul(a.joule,a.second);a.watt=Sk.ffh.div(a.joule,a.second);a.volt=Sk.ffh.div(a.joule,a.coulomb);a.tesla=Sk.ffh.div(a.swirl,Sk.ffh.mul(a.coulomb,Sk.ffh.mul(a.meter,a.meter)))})()}}).call(this);(function(){Sk.stdlib.defineEight=function(a,b){Sk.ffi.checkFunctionArgs("defineEight",arguments,2,2);Sk.builtin.defineNode(a);a.mesh=Sk.ffi.functionPy(function(a){Sk.ffi.checkFunctionArgs("mesh(geometry)",arguments,1,1);var b=Sk.ffi.remapToJs(a);return Sk.ffi.remapToPy(EIGHT.mesh(b))});a.perspectiveCamera=Sk.ffi.functionPy(function(a,b,e,f){Sk.ffi.checkFunctionArgs("perspectiveCamera(fov, aspect, near, far)",arguments,4,4);var h=Sk.ffi.remapToJs(a),k=Sk.ffi.remapToJs(b),q=Sk.ffi.remapToJs(e),n=Sk.ffi.remapToJs(f);
return Sk.ffi.remapToPy(EIGHT.perspectiveCamera(h,k,q,n))});a.scene=Sk.ffi.functionPy(function(){Sk.ffi.checkFunctionArgs("scene()",arguments,0,0);return Sk.ffi.remapToPy(EIGHT.scene())});a.boxGeometry=Sk.ffi.functionPy(function(){Sk.ffi.checkFunctionArgs("boxGeometry()",arguments,0,0);return Sk.ffi.remapToPy(EIGHT.boxGeometry())});a.prismGeometry=Sk.ffi.functionPy(function(){Sk.ffi.checkFunctionArgs("prismGeometry()",arguments,0,0);return Sk.ffi.remapToPy(EIGHT.prismGeometry())});a.webGLContextMonitor=
Sk.ffi.functionPy(function(a,b,e){Sk.ffi.checkFunctionArgs("webGLContextMonitor(canvas, contextLoss, contextGain)",arguments,3,3);var f=Sk.ffi.remapToJs(a),h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(e);return Sk.ffi.remapToPy(EIGHT.webGLContextMonitor(f,h,k))});a.webGLRenderer=Sk.ffi.functionPy(function(){Sk.ffi.checkFunctionArgs("webGLRenderer()",arguments,0,0);return Sk.ffi.remapToPy(EIGHT.webGLRenderer())});a.windowAnimationRunner=Sk.ffi.functionPy(function(a,b,e,f,h){Sk.ffi.checkFunctionArgs("windowAnimationRunner(tick, terminate, setUp, tearDown[, window])",
arguments,4,5);var k=Sk.ffi.remapToJs(a),q=Sk.ffi.remapToJs(b),n=Sk.ffi.remapToJs(e),m=Sk.ffi.remapToJs(f),g=Sk.ffi.remapToJs(h);return Sk.ffi.remapToPy(EIGHT.windowAnimationRunner(k,q,n,m,g))});a.workbench3D=Sk.ffi.functionPy(function(a,b,e,f){Sk.ffi.checkFunctionArgs("webGLContextMonitor(canvas, renderer, camera[, window])",arguments,3,4);var h=Sk.ffi.remapToJs(a),k=Sk.ffi.remapToJs(b),q=Sk.ffi.remapToJs(e),n=Sk.ffi.remapToJs(f);return Sk.ffi.remapToPy(EIGHT.workbench3D(h,k,q,n))});a.vectorE3=Sk.ffi.functionPy(function(a,
b,e){Sk.ffi.checkFunctionArgs("vectorE3(x, y, z)",arguments,3,3);var f=Sk.ffi.remapToJs(a),h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(e);return Sk.ffi.remapToPy(EIGHT.vectorE3(f,h,k))});a.bivectorE3=Sk.ffi.functionPy(function(a,b,e){Sk.ffi.checkFunctionArgs("bivectorE3(xy, yz, zx)",arguments,3,3);var f=Sk.ffi.remapToJs(a),h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(e);return Sk.ffi.remapToPy(EIGHT.bivectorE3(f,h,k))})}}).call(this);Sk.three=Sk.three||{};Sk.three.FACE_3="Face3";Sk.three.MATERIAL="Material";Sk.three.MATRIX_3="Matrix3";Sk.three.MATRIX_4="Matrix4";Sk.three.MESH="Mesh";Sk.three.OBJECT_3D="Object3D";Sk.three.PARTICLE_SYSTEM="ParticleSystem";Sk.three.PARTICLE_SYSTEM_MATERIAL="ParticleSystemMaterial";Sk.three.ARROW_GEOMETRY="ArrowGeometry";Sk.three.VORTEX_GEOMETRY="VortexGeometry";
Sk.three.cardinal=function(a,b,c){function d(a){return"number"===typeof a?a?0>a?-1:1:isNaN(a)?NaN:0:NaN}var e=Math.abs(a),f=Math.abs(b),h=Math.abs(c);return e>=f?e>=h?new THREE.Vector3(d(a),0,0):new THREE.Vector3(0,0,d(c)):f>=h?new THREE.Vector3(0,d(b),0):new THREE.Vector3(0,0,d(c))};goog.exportSymbol("Sk.three.cardinal",Sk.three.cardinal);
Sk.three.vector3Cycle=function(a,b,c,d){switch(d%3){case 0:return new THREE.Vector3(a,b,c);case 1:return new THREE.Vector3(c,a,b);case 2:return new THREE.Vector3(b,c,a)}};goog.exportSymbol("Sk.three.vector3Cycle",Sk.three.vector3Cycle);
(function(){Sk.stdlib.defineThree=function(a,b){function c(a){return"boolean"===typeof a}function d(a){return"number"===typeof a}function e(a){return"string"===typeof a}function f(a){return"undefined"!==typeof a}function h(a){return Sk.ffi.isInstance(a,"Euclidean3")}function k(b){b=new THREE.Euclidean3(!1,new THREE.Vector3(0,0,0),b,0);return Sk.ffi.callsim(a.Euclidean3,Sk.ffi.referenceToPy(b,"Euclidean3"))}function q(a,b,c,d,e){Sk.ffi.checkArgType("target",a,Sk.ffi.isInstance(b,a),b);e=e||c;Sk.ffi.checkArgType(e,
"Euclidean3",h(d),d);a=Sk.ffi.gattr(d,"quaternion");Sk.ffi.checkArgType(e,"Quaternion",Sk.ffi.isInstance(a,"Quaternion"),a);b=Sk.ffi.remapToJs(b)[c];c=Sk.ffi.remapToJs(a);b.set(c.x,c.y,c.z,c.w)}function n(b){b=new THREE.Euclidean3(!1,b,new THREE.Quaternion(0,0,0,0),0);return Sk.ffi.callsim(a.Euclidean3,Sk.ffi.referenceToPy(b,"Euclidean3"))}function m(a,b){if(f(b)){Sk.ffi.checkArgType(a,"Euclidean3",h(b),b);var c=Sk.ffi.gattr(b,"vector");Sk.ffi.checkArgType(a,"Vector3",Sk.ffi.isInstance(c,"Vector3"),
c);return Sk.ffi.remapToJs(c)}}function g(a,b,c,d){a[b]=m(d||b,c)}function l(b){if("object"!==typeof b)throw Sk.ffi.assertionError("target must be an object.");if("function"!==typeof b.add)throw Sk.ffi.assertionError("target must have an 'add' function.");return Sk.ffi.callableToPy(a,"add",function(a,c){var d=Sk.ffi.remapToJs(c);b.add(d)})}function p(b){return Sk.ffi.callableToPy(a,"lookAt",function(a,c){Sk.ffi.checkMethodArgs("lookAt",arguments,1,1);Sk.ffi.checkArgType("vector","Euclidean3",h(c),
c);var d=Sk.ffi.gattr(c,"vector");Sk.ffi.checkArgType("vector","Vector3",Sk.ffi.isInstance(d,"Vector3"),d);Sk.ffi.remapToJs(b).lookAt(Sk.ffi.remapToJs(d));return b})}function H(b){if("object"!==typeof b)throw Sk.ffi.assertionError("target must be an object.");if("function"!==typeof b.remove)throw Sk.ffi.assertionError("target must have a 'remove' function.");return Sk.ffi.callableToPy(a,"add",function(a,c){var d=Sk.ffi.remapToJs(c);b.remove(d)})}function r(b){return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(c,d){d.__init__=Sk.ffi.functionPy(function(c){var d={};d.append=Sk.ffi.callableToPy(a,"append",function(a,c){b.push(m("vector",c))});Sk.ffi.referenceToPy(b,"vertices",d,c)});d.__getattr__=Sk.ffi.functionPy(function(a,b){Sk.ffi.remapToJs(a);switch(b){case "append":return a.custom.append}});d.__getitem__=Sk.ffi.functionPy(function(a,c){var d=Sk.ffi.remapToJs(c);return n(b[d])});d.mp$length=function(){return b.length};d.__str__=Sk.ffi.functionPy(function(a){return Sk.ffh.str(Sk.ffi.listPy(b.map(function(a){return n(a)})))});
d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("vertices")})},"vertices",[]))}function u(b){return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(b,"faces",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(c,d){switch(d){case "append":return Sk.ffi.callableToPy(a,"append",function(a,c){b.push(Sk.ffi.remapToJs(c))})}});d.__getitem__=Sk.ffi.functionPy(function(a,c){var d=Sk.ffi.remapToJs(c);return N(b[d])});d.mp$length=
function(){return b.length};d.__str__=Sk.ffi.functionPy(function(a){return Sk.ffh.str(Sk.ffi.listPy(b.map(function(a){return N(a)})))});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("faces")})},"faces",[]))}function N(b){return Sk.ffi.callsim(a[Sk.three.FACE_3],Sk.ffi.referenceToPy(b,Sk.three.FACE_3))}function z(b){return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(b,"Color"))}function J(b){return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(c,d){d.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.referenceToPy(b,
"colors",void 0,a)});d.__getattr__=Sk.ffi.functionPy(function(c,d){switch(d){case "append":return Sk.ffi.callableToPy(a,"append",function(a,c){b.push(Sk.ffi.remapToJs(c))})}});d.__getitem__=Sk.ffi.functionPy(function(a,c){var d=Sk.ffi.remapToJs(c);return z(b[d])});d.mp$length=function(){return b.length};d.__str__=Sk.ffi.functionPy(function(a){return Sk.ffh.str(Sk.ffi.listPy(b.map(function(a){return z(a)})))});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("colors")})},"vertices",
[]))}function x(b,c,d){var e=Sk.ffi.remapToJs(b);switch(c){case "aspect":return Sk.ffi.numberToFloatPy(e.aspect);case "position":return n(e.position);case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(e.quaternion,"Quaternion"));case "rotation":return n(e.rotation);case "eulerOrder":return Sk.builtin.stringToPy(e.eulerOrder);case "scale":return n(e.scale);case "up":return n(e.up);case "useQuaternion":return e.useQuaternion;case "lookAt":return p(b);case "updateProjectionMatrix":return Sk.ffi.callsim(Sk.ffi.buildClass(a,
function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="updateProjectionMatrix"});b.__call__=Sk.ffi.functionPy(function(a){e[c]()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")})},"updateProjectionMatrix",[]));default:throw Sk.ffi.err.attribute(c).isNotSetableOnType(d);}}function s(a,b,c,d){a=Sk.ffi.remapToJs(a);var f=Sk.ffi.remapToJs(c);switch(b){case "position":case "rotation":case "scale":case "up":g(a,
b,c);break;case "quaternion":a.quaternion=f;break;case "eulerOrder":if(e(f))a.eulerOrder=f;else throw Error(b+" must be a string");break;case "useQuaternion":a.useQuaternion=f;break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(d);}}function E(b,c,d){var e=Sk.ffi.remapToJs(c);switch(d){case "id":return Sk.ffi.numberToIntPy(e.id);case "name":return Sk.builtin.stringToPy(e.name);case "uuid":return Sk.builtin.stringToPy(e.uuid);case "faces":return u(e.faces);case "colors":return J(e.colors);
case "vertices":return r(e.vertices);case "radius":return Sk.ffi.numberToFloatPy(e.radius);case "width":return Sk.ffi.numberToFloatPy(e.width);case "depth":case "height":return Sk.ffi.numberToFloatPy(e.height);case "applyMatrix":return Sk.ffi.callableToPy(a,d,function(a,b){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType("matrix",Sk.three.MATRIX_4,Sk.ffi.isInstance(b,Sk.three.MATRIX_4),b);e.applyMatrix(Sk.ffi.remapToJs(b))});case "computeFaceNormals":return Sk.ffi.callableToPy(a,d,function(a){Sk.ffi.checkMethodArgs(d,
arguments,0,0);e.computeFaceNormals()});default:throw Sk.ffi.err.attribute(d).isNotGetableOnType(b);}}function F(a,b,c,d){b=Sk.ffi.remapToJs(b);switch(c){case "name":Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);b.name=Sk.builtin.stringToJs(d);break;default:throw Sk.ffi.err.attribute(c).isNotSetableOnType(a);}}function v(b,c,d){var e=Sk.ffi.remapToJs(c);switch(d){case "color":return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(e.color,"Color"));default:return Sk.three.object3DGetAttr(b,
c,d)}}function D(a,b,c,d){var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(d);switch(c){case "color":e.color=new THREE.Color(f);break;default:return Sk.three.object3DSetAttr(a,b,c,d)}}function y(b,c,d){c=Sk.ffi.remapToJs(c);switch(d){case "emissive":case "color":return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(c[d],"Color"));case "id":return Sk.ffi.numberToIntPy(c.id);case "opacity":case "overdraw":return Sk.ffi.numberToFloatPy(c.opacity);case "name":case "uuid":return Sk.builtin.stringToPy(c[d]);case "needsUpdate":case "transparent":case "visible":return Sk.ffi.booleanToPy(c[d]);
default:throw Sk.ffi.err.attribute(d).isNotGetableOnType(b);}}function B(a,b,c,d){b=Sk.ffi.remapToJs(b);switch(c){case "name":Sk.ffi.checkArgType(c,Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);b[c]=Sk.builtin.stringToJs(d);break;case "overdraw":Sk.ffi.checkArgType(c,Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(d),d);b[c]=Sk.ffi.remapToJs(d);break;case "needsUpdate":case "transparent":case "visible":Sk.ffi.checkArgType(c,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);b[c]=Sk.ffi.remapToJs(d);break;default:throw Sk.ffi.err.attribute(c).isNotSetableOnType(a);
}}Sk.ffi.checkFunctionArgs("defineThree",arguments,2,2);Sk.builtin.defineNode(a);var A=Sk.ffi.PyType.INT,w=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG];Sk.stdlib.CylinderGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);this.radiusTop=a=void 0!==a?a:20;this.radiusBottom=b=void 0!==b?b:20;this.height=c=void 0!==c?c:100;this.radialSegments=d=d||8;this.heightSegments=e=e||1;this.openEnded=f=void 0!==f?f:!1;var h=c/2,k=Sk.stdlib.direction(g.x,g.y,g.z);Sk.stdlib.orientation(g.x,
g.y,g.z);var n,m=[],l=[];for(n=0;n<=e;n++){var p=[],q=[],r=n/e,s=-r*c+h,u=r*(b-a)+a;for(g=0;g<d;g++){var v=g/d,w=2*v*Math.PI,w=Sk.three.vector3Cycle(s,u*Math.cos(w),u*Math.sin(w),k);this.vertices.push(w);p.push(this.vertices.length-1);q.push(new THREE.Vector2(v,1-r))}m.push(p);l.push(q)}c=(b-a)/c;for(g=0;g<d;g++)for(r=(g+0)%d,s=(g+1)%d,0!==a?(p=this.vertices[m[0][r]].clone(),q=this.vertices[m[0][s]].clone()):(p=this.vertices[m[1][r]].clone(),q=this.vertices[m[1][s]].clone()),n=p.getComponent((k+2)%
3),u=p.getComponent((k+1)%3),p.setComponent((k+0)%3,Math.sqrt(n*n+u*u)*c),p.normalize(),n=q.getComponent((k+2)%3),u=q.getComponent((k+1)%3),q.setComponent((k+0)%3,Math.sqrt(n*n+u*u)*c),q.normalize(),n=0;n<e;n++){var u=m[n][r],v=m[n+1][r],w=m[n+1][s],z=m[n][s],x=p.clone(),y=p.clone(),A=q.clone(),E=q.clone(),D=l[n][r].clone(),B=l[n+1][r].clone(),H=l[n+1][s].clone(),F=l[n][s].clone();this.faces.push(new THREE.Face3(u,v,z,[x,y,E]));this.faceVertexUvs[0].push([D,B,F]);this.faces.push(new THREE.Face3(v,
w,z,[y,A,E]));this.faceVertexUvs[0].push([B,H,F])}if(!1===f&&0<a)for(this.vertices.push(Sk.three.vector3Cycle(+h,0,0,k)),g=0;g<d;g++)r=(g+0)%d,s=(g+1)%d,u=m[0][r],v=m[0][s],w=this.vertices.length-1,x=Sk.three.vector3Cycle(1,0,0,k),y=Sk.three.vector3Cycle(1,0,0,k),A=Sk.three.vector3Cycle(1,0,0,k),D=l[0][r].clone(),B=l[0][s].clone(),H=new THREE.Vector2(B.u,0),this.faces.push(new THREE.Face3(u,v,w,[x,y,A])),this.faceVertexUvs[0].push([D,B,H]);if(!1===f&&0<b)for(this.vertices.push(Sk.three.vector3Cycle(-h,
0,0,k)),g=0;g<d;g++)r=(g+0)%d,s=(g+1)%d,u=m[e][s],v=m[e][r],w=this.vertices.length-1,x=Sk.three.vector3Cycle(-1,0,0,k),y=Sk.three.vector3Cycle(-1,0,0,k),A=Sk.three.vector3Cycle(-1,0,0,k),D=l[e][s].clone(),B=l[e][r].clone(),H=new THREE.Vector2(B.u,1),this.faces.push(new THREE.Face3(u,v,w,[x,y,A])),this.faceVertexUvs[0].push([D,B,H]);this.computeFaceNormals()};Sk.stdlib.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);Sk.stdlib.PlaneGeometry=function(a,b,c,d){THREE.Geometry.call(this);
this.width=a;this.height=b;this.widthSegments=c||1;this.heightSegments=d||1;var e=a/2,f=b/2;c=this.widthSegments;d=this.heightSegments;var g=c+1,h=d+1,k=this.width/c,n=this.height/d,m=new THREE.Vector3(0,0,1);for(a=0;a<h;a++)for(b=0;b<g;b++)this.vertices.push(new THREE.Vector3(b*k-e,-(a*n-f),0));for(a=0;a<d;a++)for(b=0;b<c;b++){var l=b+g*a,e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,k=new THREE.Vector2(b/c,1-a/d),n=new THREE.Vector2(b/c,1-(a+1)/d),p=new THREE.Vector2((b+1)/c,1-(a+1)/d),q=new THREE.Vector2((b+
1)/c,1-a/d),l=new THREE.Face3(l,e,h);l.normal.copy(m);l.vertexNormals.push(m.clone(),m.clone(),m.clone());this.faces.push(l);this.faceVertexUvs[0].push([k,n,q]);l=new THREE.Face3(e,f,h);l.normal.copy(m);l.vertexNormals.push(m.clone(),m.clone(),m.clone());this.faces.push(l);this.faceVertexUvs[0].push([n.clone(),p,q.clone()])}};Sk.stdlib.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);Sk.three.RevolutionGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);c=c||12;d=d||0;e=e||2*Math.PI;
var g=1E-4>Math.abs(2*Math.PI-Math.abs(e-d))?c:c+1,h=1/c,k=(e-d)*h;e=0;for(var n=g;e<n;e++)for(var m=(d+e*k)/2,l=Math.cos(m),m=Math.sin(m),p=new THREE.Quaternion(b.x*m,b.y*m,b.z*m,l),l=0,m=a.length;l<m;l++){var q=a[l],q=new THREE.Vector3(q.x,q.y,q.z);q.applyQuaternion(p);f&&q.applyQuaternion(f);this.vertices.push(q)}b=1/(a.length-1);d=a.length;g*=d;e=0;for(n=c;e<n;e++)for(l=0,m=a.length-1;l<m;l++){c=l+d*e;f=(c+d)%g;var k=(c+1+d)%g,p=(c+1)%g,q=e*h,r=l*b,s=q+h,u=r+b;this.faces.push(new THREE.Face3(p,
f,c%g));this.faceVertexUvs[0].push([new THREE.Vector2(q,r),new THREE.Vector2(s,r),new THREE.Vector2(q,u)]);this.faces.push(new THREE.Face3(p,k,f));this.faceVertexUvs[0].push([new THREE.Vector2(s,r),new THREE.Vector2(s,u),new THREE.Vector2(q,u)])}this.computeFaceNormals();this.computeVertexNormals()};Sk.three.RevolutionGeometry.prototype=Object.create(THREE.Geometry.prototype);Sk.three.ArrowGeometry=function(a,b,c,d,e,f,g,h){a=a||1;b=b||new THREE.Quaternion(0,0,0,1);d=(d||1)*a;e=(e||0.01)*a;f=(f||
0.08)*a;g=(g||0.2)*a;h=h||new THREE.Vector3(0,0,1);var k=d-g,n=d/2;a=function(a){var b;b=a.x?2:a.y?1:0;var c=0<a.x?1:0>a.x?-1:0<a.y?1:0>a.y?-1:0<a.z?1:0>a.z?-1:0,d=(b+0)%3,g=(b+1)%3,C=(b+2)%3;b=[[0,0,n*c],[f,0,(k-n)*c],[e,0,(k-n)*c],[e,0,-n*c],[0,0,-n*c]].map(function(a){return new THREE.Vector3(a[d],a[g],a[C])});a=new THREE.Quaternion(a.x,a.y,a.z,0);return{points:b,generator:a}}(h);Sk.three.RevolutionGeometry.call(this,a.points,a.generator,c,0,2*Math.PI,b)};Sk.three.ArrowGeometry.prototype=Object.create(Sk.three.RevolutionGeometry.prototype);
Sk.stdlib.TorusGeometry=function(a,b,c,d,e){THREE.Geometry.call(this);this.radius=a||100;this.tube=b||40;this.radialSegments=c||8;this.tubularSegments=d||6;this.arc=e||2*Math.PI;e=new THREE.Vector3;a=[];b=[];for(c=0;c<=this.radialSegments;c++)for(d=0;d<=this.tubularSegments;d++){var f=d/this.tubularSegments*this.arc,g=2*c/this.radialSegments*Math.PI;e.x=this.radius*Math.cos(f);e.y=this.radius*Math.sin(f);var h=new THREE.Vector3;h.x=(this.radius+this.tube*Math.cos(g))*Math.cos(f);h.y=(this.radius+
this.tube*Math.cos(g))*Math.sin(f);h.z=this.tube*Math.sin(g);this.vertices.push(h);a.push(new THREE.Vector2(d/this.tubularSegments,c/this.radialSegments));b.push(h.clone().sub(e).normalize())}for(c=1;c<=this.radialSegments;c++)for(d=1;d<=this.tubularSegments;d++){e=(this.tubularSegments+1)*c+d-1;var f=(this.tubularSegments+1)*(c-1)+d-1,g=(this.tubularSegments+1)*(c-1)+d,h=(this.tubularSegments+1)*c+d,k=new THREE.Face3(e,f,h,[b[e],b[f],b[h]]);k.normal.add(b[e]);k.normal.add(b[f]);k.normal.add(b[h]);
k.normal.normalize();this.faces.push(k);this.faceVertexUvs[0].push([a[e].clone(),a[f].clone(),a[h].clone()]);k=new THREE.Face3(f,g,h,[b[f],b[g],b[h]]);k.normal.add(b[f]);k.normal.add(b[g]);k.normal.add(b[h]);k.normal.normalize();this.faces.push(k);this.faceVertexUvs[0].push([a[f].clone(),a[g].clone(),a[h].clone()])}};Sk.stdlib.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);Sk.three.VortexGeometry=function(a,b,c,d,e,f,g){function h(a,b){var c=b%k;return c===k-1?h(a,b-1):l*((b-c)/k+
c*p)}THREE.Geometry.call(this);var k=9;this.radius=a||1;this.radiusCone=b||0.08;this.radiusShaft=c||0.01;this.lengthCone=d||0.2;this.lengthShaft=e||0.8;f=f||6;this.circleSegments=f*k;this.radialSegments=g||8;g=2*Math.PI;var n=this.radius,m=new THREE.Vector3;a=[];d=[];var l=g/f,p=this.lengthShaft/(this.lengthCone+this.lengthShaft)/(k-2);for(f=0;f<=this.radialSegments;f++){e=g*f/this.radialSegments;var q=Math.cos(e),r=Math.sin(e);for(e=0;e<=this.circleSegments;e++){var s=h(this.circleSegments,e),u=
Math.cos(s),s=Math.sin(s);m.x=n*u;m.y=n*s;var v=new THREE.Vector3,w=e%k===k-1?b:c;v.x=(n+w*q)*u;v.y=(n+w*q)*s;v.z=w*r;this.vertices.push(v);a.push(new THREE.Vector2(e/this.circleSegments,f/this.radialSegments));d.push(v.clone().sub(m).normalize())}}for(f=1;f<=this.radialSegments;f++)for(e=1;e<=this.circleSegments;e++)b=(this.circleSegments+1)*f+e-1,c=(this.circleSegments+1)*(f-1)+e-1,g=(this.circleSegments+1)*(f-1)+e,n=(this.circleSegments+1)*f+e,m=new THREE.Face3(b,c,n,[d[b],d[c],d[n]]),m.normal.add(d[b]),
m.normal.add(d[c]),m.normal.add(d[n]),m.normal.normalize(),this.faces.push(m),this.faceVertexUvs[0].push([a[b].clone(),a[c].clone(),a[n].clone()]),m=new THREE.Face3(c,g,n,[d[c],d[g],d[n]]),m.normal.add(d[c]),m.normal.add(d[g]),m.normal.add(d[n]),m.normal.normalize(),this.faces.push(m),this.faceVertexUvs[0].push([a[c].clone(),a[g].clone(),a[n].clone()])};Sk.three.VortexGeometry.prototype=Object.create(THREE.Geometry.prototype);var O=function(a){return Sk.ffi.isInstance(a)&&"Geometry"==Sk.ffi.typeName(a).match("Geometry$")?
!0:Sk.ffi.isObjectPy(a)?!0:!1},K=function(a){return Sk.ffi.isInstance(a)&&Sk.ffi.typeName(a).match(Sk.three.MATERIAL+"$")==Sk.three.MATERIAL?!0:Sk.ffi.isObjectPy(a)?!0:!1};Sk.builtin.defineEuclidean3(a,THREE,b);a.Scene=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.isUndefined(b)?(Sk.ffi.checkMethodArgs("Scene",arguments,0,0),Sk.ffi.referenceToPy(new THREE.Scene,"Scene",void 0,a)):Sk.ffi.isInstance(b,"Scene")?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Scene",void 0,
a):Sk.ffi.checkMethodArgs("Scene",arguments,0,0)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "children":return Sk.ffi.listPy(d.children.map(function(b){return Sk.ffi.callsim(a[Sk.three.OBJECT_3D],Sk.ffi.referenceToPy(b,Sk.three.OBJECT_3D))}));case "position":return n(d.position);case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(d.quaternion,"Quaternion"));case "rotation":return n(d.rotation);case "eulerOrder":return Sk.builtin.stringToPy(d.eulerOrder);
case "scale":return n(d.scale);case "up":return n(d.up);case "useQuaternion":return d.useQuaternion;case "lookAt":return p(b);case "add":return l(d);case "remove":return H(d)}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);var d=Sk.ffi.remapToJs(c);switch(b){case "position":case "rotation":case "scale":case "up":g(a,b,c);break;case "quaternion":a.quaternion=d;break;case "eulerOrder":if(e(d))a.eulerOrder=d;else throw Error(b+" must be a string");break;case "useQuaternion":a.useQuaternion=
d;break;default:throw Error(b+" is not a write attribute of Scene");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Scene")})},"Scene",[]);a.CanvasRenderer=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.CanvasRenderer(c),"CanvasRenderer",void 0,a)});d.setSize=Sk.ffi.functionPy(function(a,b,c){a.v.setSize(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(c))});d.__getattr__=Sk.ffi.functionPy(function(b,
c){var d=Sk.ffi.remapToJs(b);switch(c){case "autoClear":return d.autoClear;case "gammaInput":return d.gammaInput;case "gammaOutput":return d.gammaOutput;case "sortObjects":return d.sortObjects;case "canvas":case "domElement":return Sk.ffi.callsim(a.Node,Sk.ffi.referenceToPy(d.domElement,"Node"));case "render":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="render"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);
d.render(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("render")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("render")})},"render",[]));case "getClearColor":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="getClearColor"});c.__call__=Sk.ffi.functionPy(function(b){return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(d.getClearColor(),"Color"))});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("getClearColor")});
c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("getClearColor")})},"getClearColor",[]));case "setClearColor":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setClearColor"});b.__call__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d.setClearColor(b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setClearColor")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setClearColor")})},
"setClearColor",[]));case "setSize":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setSize"});b.__call__=Sk.ffi.functionPy(function(a,b,c,e){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);d.setSize(b,c,e)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setSize")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setSize")})},"setSize",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("CanvasRenderer");
}});d.__setattr__=Sk.ffi.functionPy(function(a,b,d){a=Sk.ffi.remapToJs(a);d=Sk.ffi.remapToJs(d);switch(b){case "autoClear":if(c(d))a.autoClear=d;else throw new Sk.builtin.TypeError("'autoClear' attribute must be a <type 'bool'>.");break;case "gammaInput":if(c(d))a.gammaInput=d;else throw new Sk.builtin.TypeError("'gammaInput' attribute must be a <type 'bool'>.");break;case "gammaOutput":if(c(d))a.gammaOutput=d;else throw new Sk.builtin.TypeError("'gammaOutput' attribute must be a <type 'bool'>.");
break;case "sortObjects":if(c(d))a.sortObjects=d;else throw new Sk.builtin.TypeError("'sortObjects' attribute must be a <type 'bool'>.");break;case "size":b=Sk.ffi.remapToJs(d[0]);d=Sk.ffi.remapToJs(d[1]);a.setSize(b,d);break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("CanvasRenderer");}});d.__str__=Sk.ffi.functionPy(function(a){a=a.v;var b={};b.autoClear=a.autoClear;b.gammaInput=a.gammaInput;b.gammaOutput=a.gammaOutput;return Sk.builtin.stringToPy("CanvasRenderer("+JSON.stringify(b)+
")")});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CanvasRenderer("+[{autoClear:a.v.autoClear}].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"CanvasRenderer",[]);a.WebGLRenderer=Sk.ffi.buildClass(a,function(b,d){d.__init__=Sk.ffi.functionPy(function(a,b){0<Sk.ffi.checkMethodArgs("WebGLRenderer",arguments,0,1)&&Sk.ffi.checkArgType("parameters",[Sk.ffi.PyType.OBJECT,Sk.ffi.PyType.DICT],Sk.ffi.isObjectPy(b)||Sk.ffi.isDict(b),b);var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.WebGLRenderer(c),
"WebGLRenderer",void 0,a)});d.setSize=Sk.ffi.functionPy(function(a,b,c){a.v.setSize(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(c))});d.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "autoClear":return Sk.ffi.booleanToPy(d.autoClear);case "autoClearColor":return Sk.ffi.booleanToPy(d.autoClearColor);case "gammaInput":return Sk.ffi.booleanToPy(d.gammaInput);case "gammaOutput":return Sk.ffi.booleanToPy(d.gammaOutput);case "sortObjects":return d.sortObjects;case "canvas":case "domElement":return Sk.ffi.callsim(a.Node,
Sk.ffi.referenceToPy(d.domElement,"Node"));case "render":return Sk.ffi.callableToPy(a,"render",function(a,b,c){Sk.ffi.checkMethodArgs("render",arguments,2,2);var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(c);return Sk.ffi.remapToPy(d.render(e,f))});case "getClearColor":return Sk.ffi.callableToPy(a,"getClearColor",function(b){Sk.ffi.checkMethodArgs("getClearColor",arguments,0,0);return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(d.getClearColor(),"Color"))});case "setClearColor":return Sk.ffi.callableToPy(a,
"setClearColor",function(a,b,c){Sk.ffi.checkMethodArgs("setClearColor",arguments,2,2);Sk.ffi.checkArgType("color",["Color",Sk.ffi.PyType.INT],Sk.ffi.isInstance(b,"Color")||Sk.ffi.isInt(b),b);Sk.ffi.checkArgType("alpha",w,Sk.ffi.isNum(c),c);var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(c);return Sk.ffi.remapToPy(d.setClearColor(e,f))});case "setSize":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setSize"});b.__call__=Sk.ffi.functionPy(function(a,
b,c,e){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);d.setSize(b,c,e)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setSize")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setSize")})},"setSize",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("WebGLRenderer");}});d.__setattr__=Sk.ffi.functionPy(function(a,b,d){a=Sk.ffi.remapToJs(a);var e=Sk.ffi.remapToJs(d);switch(b){case "autoClear":if(c(e))a.autoClear=e;else throw new Sk.builtin.TypeError("'autoClear' attribute must be a <type 'bool'>.");
break;case "autoClearColor":Sk.ffi.checkArgType("autoClearColor",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);a.autoClearColor=Sk.ffi.remapToJs(d);break;case "gammaInput":if(c(e))a.gammaInput=e;else throw new Sk.builtin.TypeError("'gammaInput' attribute must be a <type 'bool'>.");break;case "gammaOutput":if(c(e))a.gammaOutput=e;else throw new Sk.builtin.TypeError("'gammaOutput' attribute must be a <type 'bool'>.");break;case "sortObjects":if(c(e))a.sortObjects=e;else throw new Sk.builtin.TypeError("'sortObjects' attribute must be a <type 'bool'>.");
break;case "size":b=Sk.ffi.remapToJs(e[0]);d=Sk.ffi.remapToJs(e[1]);a.setSize(b,d);break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("WebGLRenderer");}});d.__str__=Sk.ffi.functionPy(function(a){a=a.v;var b={};b.autoClear=a.autoClear;b.gammaInput=a.gammaInput;b.gammaOutput=a.gammaOutput;return Sk.builtin.stringToPy("WebGLRenderer("+JSON.stringify(b)+")")});d.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("WebGLRenderer("+[{autoClear:a.v.autoClear}].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"WebGLRenderer",[]);a.Color=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.isUndefined(b)?Sk.ffi.referenceToPy(new THREE.Color,"Color",void 0,a):Sk.ffi.isInt(b)||Sk.builtin.isStringPy(b)?Sk.ffi.referenceToPy(new THREE.Color(c),"Color",void 0,a):Sk.ffi.isInstance(b,"Color")?Sk.ffi.referenceToPy(c,"Color",void 0,a):Sk.ffi.checkArgType("value",[Sk.ffi.PyType.INT,Sk.ffi.PyType.STR,"Color"],!1,c)});c.__getattr__=Sk.ffi.functionPy(function(b,
c){var d=Sk.ffi.remapToJs(b);switch(c){case "r":return Sk.ffi.numberToIntPy(d.r);case "g":return Sk.ffi.numberToIntPy(d.g);case "b":return Sk.ffi.numberToIntPy(d.b);case "getHex":return Sk.ffi.callableToPy(a,c,function(a){return Sk.ffi.numberToIntPy(d.getHex())});case "getHexString":return Sk.ffi.callableToPy(a,"getHexString",function(a){return Sk.builtin.stringToPy(d.getHexString())});case "setHex":return Sk.ffi.callableToPy(a,c,function(a,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("hex",
Sk.ffi.PyType.INT,Sk.ffi.isInt(e),e);d.setHex(Sk.ffi.remapToJs(e));return b});case "setRGB":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setRGB"});c.__call__=Sk.ffi.functionPy(function(a,c,e,f){a=Sk.ffi.remapToJs(c);e=Sk.ffi.remapToJs(e);f=Sk.ffi.remapToJs(f);d.setRGB(a,e,f);return b});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setRGB")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setRGB")})},
"setRGB",[]));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Color");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);switch(b){case "r":case "g":case "b":Sk.ffi.checkArgType(b,[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT],Sk.ffi.isFloat(c)||Sk.ffi.isInt(c),c);a.r=Sk.ffi.remapToJs(c);break;default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Color");}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.r=a.r;b.g=a.g;b.b=a.b;return Sk.builtin.stringToPy("Color("+
JSON.stringify(b)+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Color("+[a.r,a.g,a.b].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"Color",[]);a.PerspectiveCamera=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("PerspectiveCamera",arguments,0,4);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("fov",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("aspect",
Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("near",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("far",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(e),e);var f=Sk.ffi.remapToJs(b),g=Sk.ffi.remapToJs(c),h=Sk.ffi.remapToJs(d),k=Sk.ffi.remapToJs(e);Sk.ffi.referenceToPy(new THREE.PerspectiveCamera(f,g,h,k),"PerspectiveCamera",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "aspect":return Sk.ffi.numberToFloatPy(d.aspect);
case "position":return n(d.position);case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(d.quaternion,"Quaternion"));case "rotation":return n(d.rotation);case "eulerOrder":return Sk.builtin.stringToPy(d.eulerOrder);case "scale":return n(d.scale);case "up":return n(d.up);case "useQuaternion":return d.useQuaternion;case "lookAt":return p(b);case "updateProjectionMatrix":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="updateProjectionMatrix"});
b.__call__=Sk.ffi.functionPy(function(a){d[c]()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")})},"updateProjectionMatrix",[]));default:return x(b,c,"PerspectiveCamera")}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(c);switch(b){case "aspect":d.aspect=f;break;case "position":case "rotation":case "scale":case "up":g(d,
b,c);break;case "quaternion":d.quaternion=f;break;case "eulerOrder":if(e(f))d.eulerOrder=f;else throw Error(b+" must be a string");break;case "useQuaternion":d.useQuaternion=f;break;default:return s(a,b,c,"PerspectiveCamera")}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.fov=a.fov;b.aspect=a.aspect;b.near=a.near;b.far=a.far;return Sk.builtin.stringToPy("PerspectiveCamera("+JSON.stringify(b)+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("PerspectiveCamera("+
[a.fov,a.aspect,a.near,a.far].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"PerspectiveCamera",[]);a.OrthographicCamera=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,g){Sk.ffi.checkMethodArgs("OrthographicCamera",arguments,0,6);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("left",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("right",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("top",
Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("bottom",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);Sk.ffi.isDefined(f)&&Sk.ffi.checkArgType("near",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(f),f);Sk.ffi.isDefined(g)&&Sk.ffi.checkArgType("far",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(g),g);var h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(c),n=Sk.ffi.remapToJs(d),m=Sk.ffi.remapToJs(e),l=Sk.ffi.remapToJs(f),p=Sk.ffi.remapToJs(g);Sk.ffi.referenceToPy(new THREE.OrthographicCamera(h,k,n,
m,l,p),"OrthographicCamera",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "aspect":return Sk.ffi.numberToFloatPy(d.aspect);case "position":return n(d.position);case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(d.quaternion,"Quaternion"));case "rotation":return n(d.rotation);case "eulerOrder":return Sk.builtin.stringToPy(d.eulerOrder);case "scale":return n(d.scale);case "up":return n(d.up);case "useQuaternion":return d.useQuaternion;
case "lookAt":return p(b);case "updateProjectionMatrix":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="updateProjectionMatrix"});b.__call__=Sk.ffi.functionPy(function(a){d[c]()});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("updateProjectionMatrix")})},"updateProjectionMatrix",[]));default:return x(b,c,"OrthographicCamera")}});
c.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a),f=Sk.ffi.remapToJs(c);switch(b){case "left":d.left=f;break;case "right":d.right=f;break;case "top":d.top=f;break;case "bottom":d.bottom=f;break;case "position":case "rotation":case "scale":case "up":g(d,b,c);break;case "quaternion":d.quaternion=f;break;case "eulerOrder":if(e(f))d.eulerOrder=f;else throw Error(b+" must be a string");break;case "useQuaternion":d.useQuaternion=f;break;default:return s(a,b,c,"OrthographicCamera")}});
c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("OrthographicCamera("+[a.left,a.right,a.top,a.bottom,a.near,a.far].map(function(a){return JSON.stringify(a)}).join(", ")+")")});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("OrthographicCamera")})},"OrthographicCamera",[]);a[Sk.three.ARROW_GEOMETRY]=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,g,h,k){Sk.ffi.checkMethodArgs(Sk.three.ARROW_GEOMETRY,
arguments,0,8);var n,m,l,p;if(Sk.ffi.isDefined(b)){if(Sk.ffi.isInstance(b,Sk.three.ARROW_GEOMETRY)){Sk.ffi.checkMethodArgs(Sk.three.ARROW_GEOMETRY,arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),Sk.three.ARROW_GEOMETRY,void 0,a);return}Sk.ffi.checkArgType("scale",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b);n=Sk.ffi.remapToJs(b)}else n=1;Sk.ffi.isDefined(c)&&!Sk.ffi.isNone(c)?(Sk.ffi.checkArgType("attitude","Euclidean3",Sk.ffi.isInstance(c,"Euclidean3"),c),m=Sk.ffi.remapToJs(c).quaternion):m=
new THREE.Quaternion(0,0,0,1);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("segments",A,Sk.ffi.isInt(d),d);Sk.ffi.isDefined(e)?(Sk.ffi.checkArgType("length",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e),l=Sk.ffi.remapToJs(e)*n):l=n;Sk.ffi.isDefined(k)?(Sk.ffi.checkArgType("axis","Euclidean3",Sk.ffi.isInstance(k,"Euclidean3"),k),p=Sk.ffi.remapToJs(k).vector):p=new THREE.Vector3(0,0,1);var q=Sk.ffi.remapToJs(d);f=(Sk.ffi.remapToJs(f)||0.01)*n;g=(Sk.ffi.remapToJs(g)||0.08)*n;h=(Sk.ffi.remapToJs(h)||0.2)*n;var r=
l-h,P=l/2;n=function(a){var b;b=a.x?2:a.y?1:0;var c=0<a.x?1:0>a.x?-1:0<a.y?1:0>a.y?-1:0<a.z?1:0>a.z?-1:0,d=(b+0)%3,e=(b+1)%3,h=(b+2)%3;b=[[0,0,P*c],[g,0,(r-P)*c],[f,0,(r-P)*c],[f,0,-P*c],[0,0,-P*c]].map(function(a){return new THREE.Vector3(a[d],a[e],a[h])});a=new THREE.Quaternion(a.x,a.y,a.z,0);return{points:b,generator:a}}(p);Sk.ffi.referenceToPy(new Sk.three.RevolutionGeometry(n.points,n.generator,q,0,2*Math.PI,m),Sk.three.ARROW_GEOMETRY,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E(Sk.three.ARROW_GEOMETRY,
a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F(Sk.three.ARROW_GEOMETRY,a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=[].map(function(b){return[b,Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy(Sk.three.ARROW_GEOMETRY+"("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.ARROW_GEOMETRY+"("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},Sk.three.ARROW_GEOMETRY,
[]);a.CircleGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("CircleGeometry",arguments,0,4);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("radius",w,Sk.ffi.isNum(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("segments",A,Sk.ffi.isInt(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("thetaStart",w,Sk.ffi.isNum(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("thetaLength",w,Sk.ffi.isNum(e),e);Sk.ffi.referenceToPy(new THREE.CircleGeometry(Sk.ffi.remapToJs(b),
Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(e)),"CircleGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E("CircleGeometry",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("CircleGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CircleGeometry("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("CircleGeometry("+[].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"CircleGeometry",[]);a.BoxGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,g){Sk.ffi.checkMethodArgs("BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments)",arguments,3,6);Sk.ffi.checkArgType("width",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(b),b);Sk.ffi.checkArgType("height",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("depth",Sk.ffi.PyType.FLOAT,Sk.ffi.isNum(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("widthSegments",
A,Sk.ffi.isInt(e),e);Sk.ffi.isDefined(f)&&Sk.ffi.checkArgType("heightSegments",A,Sk.ffi.isInt(f),f);Sk.ffi.isDefined(g)&&Sk.ffi.checkArgType("depthSegments",A,Sk.ffi.isInt(g),g);var h=Sk.ffi.remapToJs(b),k=Sk.ffi.remapToJs(c),n=Sk.ffi.remapToJs(d),m=Sk.ffi.remapToJs(e),l=Sk.ffi.remapToJs(f),p=Sk.ffi.remapToJs(g);Sk.ffi.referenceToPy(new THREE.BoxGeometry(h,k,n,m,l,p),"BoxGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "width":case "height":case "depth":return Sk.ffi.numberToFloatPy(c[b]);
case "widthSegments":case "heightSegments":case "depthSegments":return Sk.ffi.numberToIntPy(c[b]);default:return E("BoxGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("BoxGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.width=a.width;b.height=a.height;b.depth=a.depth;return Sk.builtin.stringToPy("BoxGeometry("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("BoxGeometry("+
[a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"BoxGeometry",[]);a.CubeGeometry=a.BoxGeometry;a.CylinderGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,g,h){if(Sk.ffi.isInstance(b,"CylinderGeometry"))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"CylinderGeometry",void 0,a);else{Sk.ffi.checkMethodArgs("CylinderGeometry",arguments,0,7);Sk.ffi.checkArgType("radiusTop",w,
Sk.ffi.isNum(b)||Sk.ffi.isUndefined(b),b);Sk.ffi.checkArgType("radiusBottom",w,Sk.ffi.isNum(c)||Sk.ffi.isUndefined(c),c);Sk.ffi.checkArgType("height",w,Sk.ffi.isNum(d)||Sk.ffi.isUndefined(d),d);Sk.ffi.checkArgType("radialSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(e)||Sk.ffi.isUndefined(e),e);Sk.ffi.checkArgType("heightSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(f)||Sk.ffi.isUndefined(f),f);Sk.ffi.checkArgType("openEnded",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(g)||Sk.ffi.isUndefined(g),g);var k=Sk.ffi.remapToJs(b),
n=Sk.ffi.remapToJs(c),m=Sk.ffi.remapToJs(d),l=Sk.ffi.remapToJs(e),p=Sk.ffi.remapToJs(f),q=Sk.ffi.remapToJs(g),r;Sk.ffi.isDefined(h)?(Sk.ffi.checkArgType("axis","Euclidean3",Sk.ffi.isInstance(h,"Euclidean3"),h),r=Sk.ffi.remapToJs(h).vector):r=new THREE.Vector3(0,0,1);Sk.ffi.referenceToPy(new Sk.stdlib.CylinderGeometry(k,n,m,l,p,q,r),"CylinderGeometry",void 0,a)}});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radiusTop":return Sk.ffi.numberToFloatPy(c.radiusTop);
case "radiusBottom":return Sk.ffi.numberToFloatPy(c.radiusBottom);case "height":return Sk.ffi.numberToFloatPy(c.height);case "radialSegments":return Sk.ffi.numberToIntPy(c.radialSegments);case "heightSegments":return Sk.ffi.numberToIntPy(c.heightSegments);case "openEnded":return Sk.ffi.booleanToPy(c.openEnded);default:return E("CylinderGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("CylinderGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);
var b={};b.radiusTop=a.radiusTop;b.radiusBottom=a.radiusBottom;b.height=a.height;b.openEnded=a.openEnded;return Sk.builtin.stringToPy("CylinderGeometry("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("CylinderGeometry("+[a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"CylinderGeometry",[]);a.LatheGeometry=Sk.ffi.buildClass(a,function(a,
b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("LatheGeometry",arguments,1,4);var f=Sk.ffi.remapToJs(b).map(function(a){return new THREE.Vector3(a.x,a.y,a.z)}),g=new THREE.Quaternion(0,0,1,0);Sk.ffi.referenceToPy(new Sk.three.RevolutionGeometry(f,g,Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(e)),"LatheGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E("LatheGeometry",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("LatheGeometry",
a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("LatheGeometry("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("LatheGeometry("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"LatheGeometry",[]);a.IcosahedronGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("IcosahedronGeometry",arguments,0,2);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("radius",
w,Sk.ffi.isNum(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("detail",A,Sk.ffi.isInt(c),c);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c);Sk.ffi.referenceToPy(new THREE.IcosahedronGeometry(d,e),"IcosahedronGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);case "detail":return Sk.ffi.numberToIntPy(c.detail);default:throw Sk.ffi.err.attribute(b).isNotGetableOnType("IcosahedronGeometry");}});
b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("IcosahedronGeometry");}});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.radius=a.radius;b.detail=a.detail;return Sk.builtin.stringToPy("IcosahedronGeometry("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("IcosahedronGeometry("+[a.radius,a.detail].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"IcosahedronGeometry",[]);a.OctahedronGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("OctahedronGeometry",arguments,0,2);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("radius",w,Sk.ffi.isNum(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("detail",A,Sk.ffi.isInt(c),c);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),f=new THREE.OctahedronGeometry(d,e);f.radius=d;f.detail=e;Sk.ffi.referenceToPy(f,"OctahedronGeometry",void 0,a)});b.__getattr__=
Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);case "detail":return Sk.ffi.numberToIntPy(c.detail);default:throw Sk.ffi.err.attribute(b).isNotGetableOnType("OctahedronGeometry");}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("OctahedronGeometry");}});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.radius=a.radius;b.detail=a.detail;
return Sk.builtin.stringToPy("OctahedronGeometry("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("OctahedronGeometry("+[a.radius,a.detail].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"OctahedronGeometry",[]);a.PlaneGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("PlaneGeometry",arguments,2,4);Sk.ffi.checkArgType("width",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),
b);Sk.ffi.checkArgType("depth",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);f(d)&&Sk.ffi.checkArgType("widthSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(d),d);f(e)&&Sk.ffi.checkArgType("heightSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(e),e);var g=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(c),k=Sk.ffi.remapToJs(d),n=Sk.ffi.remapToJs(e);Sk.ffi.referenceToPy(new Sk.stdlib.PlaneGeometry(g,h,k,n),"PlaneGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E("PlaneGeometry",a,b)});b.__setattr__=
Sk.ffi.functionPy(function(a,b,c){return F("PlaneGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["width","height"].map(function(b){return[b,Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy("PlaneGeometry("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["width","height"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("PlaneGeometry("+
b.join(", ")+")")})},"PlaneGeometry",[]);a.RevolutionGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f,g){Sk.ffi.checkMethodArgs("RevolutionGeometry",arguments,2,5);Sk.ffi.checkArgType("points",Sk.ffi.PyType.LIST,Sk.ffi.isList(b),b);Sk.ffi.checkArgType("generator","Euclidean3",Sk.ffi.isInstance(c,"Euclidean3"),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("segments",Sk.ffi.PyType.INT,Sk.ffi.isInt(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("phiStart",w,
Sk.ffi.isNum(e),e);Sk.ffi.isDefined(f)&&Sk.ffi.checkArgType("phiLength",w,Sk.ffi.isNum(f),f);Sk.ffi.isDefined(g)&&Sk.ffi.checkArgType("attitude","Euclidean3",Sk.ffi.isInstance(g,"Euclidean3"),g);var h=Sk.ffi.remapToJs(b).map(function(a){return new THREE.Vector3(a.x,a.y,a.z)}),k=Sk.ffi.remapToJs(g),k=Sk.ffi.remapToJs(g)?Sk.ffi.remapToJs(g).quaternion:void 0;Sk.ffi.referenceToPy(new Sk.three.RevolutionGeometry(h,Sk.ffi.remapToJs(c).quaternion,Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(e),Sk.ffi.remapToJs(f),
k),"RevolutionGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){Sk.ffi.remapToJs(a);switch(b){default:return E("RevolutionGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:return F("RevolutionGeometry",a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("RevolutionGeometry("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("RevolutionGeometry("+
[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"RevolutionGeometry",[]);a.SphereGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,g,h,k){if(Sk.ffi.isDefined(b)){if(Sk.ffi.isInstance(b,"SphereGeometry")){Sk.ffi.checkMethodArgs("SphereGeometry",arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"SphereGeometry",void 0,a);return}Sk.ffi.checkArgType("radius",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b)}f(c)&&Sk.ffi.checkArgType("widthSegments",
Sk.ffi.PyType.INT,Sk.ffi.isInt(c),c);f(d)&&Sk.ffi.checkArgType("heightSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(d),d);f(e)&&Sk.ffi.checkArgType("phiStart",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);f(g)&&Sk.ffi.checkArgType("phiLength",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(g),g);f(h)&&Sk.ffi.checkArgType("thetaStart",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(h),h);f(k)&&Sk.ffi.checkArgType("thetaLength",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(k),k);var n=Sk.ffi.remapToJs(b),m=Sk.ffi.remapToJs(c),l=Sk.ffi.remapToJs(d),
p=Sk.ffi.remapToJs(e),q=Sk.ffi.remapToJs(g),r=Sk.ffi.remapToJs(h),P=Sk.ffi.remapToJs(k);Sk.ffi.referenceToPy(new THREE.SphereGeometry(n,m,l,p,q,r,P),"SphereGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);case "widthSegments":return Sk.ffi.numberToIntPy(c.widthSegments);case "heightSegments":return Sk.ffi.numberToIntPy(c.heightSegments);case "phiStart":return Sk.ffi.numberToFloatPy(c.phiStart);
case "phiLength":return Sk.ffi.numberToFloatPy(c.phiLength);case "thetaStart":return Sk.ffi.numberToFloatPy(c.thetaStart);case "thetaLength":return Sk.ffi.numberToFloatPy(c.thetaLength);default:return E("SphereGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:return F("SphereGeometry",a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b="radius widthSegments heightSegments phiStart phiLength thetaStart thetaLength".split(" ").map(function(b){return[b,
Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy("SphereGeometry("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("SphereGeometry("+[a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"SphereGeometry",[]);a.TetrahedronGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,
b,c){Sk.ffi.checkMethodArgs("TetrahedronGeometry",arguments,2,2);Sk.ffi.checkArgType("radius",w,Sk.ffi.isNum(b),b);Sk.ffi.checkArgType("detail",A,Sk.ffi.isInt(c),c);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c),f=new THREE.TetrahedronGeometry(d,e);f.radius=d;f.detail=e;Sk.ffi.referenceToPy(f,"TetrahedronGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);case "detail":return Sk.ffi.numberToIntPy(c.detail);
default:return E("TetrahedronGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("TetrahedronGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.radius=a.radius;b.detail=a.detail;return Sk.builtin.stringToPy("TetrahedronGeometry("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("TetrahedronGeometry("+[a.radius,a.detail].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"TetrahedronGeometry",[]);a.TextGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);a.v=new THREE.TextGeometry(b,c)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E("TextGeometry",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("TextGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("TextGeometry("+JSON.stringify({})+")")});b.__repr__=
Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("TextGeometry("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"TextGeometry",[]);a.TorusGeometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,f){Sk.ffi.checkMethodArgs("TorusGeometry",arguments,0,5);Sk.ffi.isDefined(b)&&Sk.ffi.checkArgType("radius",w,Sk.ffi.isNum(b),b);Sk.ffi.isDefined(c)&&Sk.ffi.checkArgType("tube",w,Sk.ffi.isNum(c),c);Sk.ffi.isDefined(d)&&Sk.ffi.checkArgType("radialSegments",
A,Sk.ffi.isInt(d),d);Sk.ffi.isDefined(e)&&Sk.ffi.checkArgType("tubularSegments",A,Sk.ffi.isInt(e),e);Sk.ffi.isDefined(f)&&Sk.ffi.checkArgType("arc",w,Sk.ffi.isNum(f),f);var g=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(c),k=Sk.ffi.remapToJs(d),n=Sk.ffi.remapToJs(e),m=Sk.ffi.remapToJs(f),g=new Sk.stdlib.TorusGeometry(g,h,k,n,m);Sk.ffi.referenceToPy(g,"TorusGeometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);
case "tube":return Sk.ffi.numberToFloatPy(c.tube);case "radialSegments":return Sk.ffi.numberToIntPy(c.radialSegments);case "tubularSegments":return Sk.ffi.numberToIntPy(c.tubularSegments);case "arc":return Sk.ffi.numberToFloatPy(c.arc);default:return E("TorusGeometry",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("TorusGeometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["radius","tube","radialSegments","tubularSegments","arc"].map(function(b){return[b,
Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy("TorusGeometry("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["radius","tube","radialSegments","tubularSegments","arc"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("TorusGeometry("+b.join(", ")+")")})},"TorusGeometry",[]);a[Sk.three.VORTEX_GEOMETRY]=Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a,b,c,d,e,g,h,k){Sk.ffi.checkMethodArgs(Sk.three.VORTEX_GEOMETRY+"(radius, radiusCone, radiusShaft, lengthCone, lengthShaft, arrowSegments, radialSegments)",arguments,7,7);Sk.ffi.checkArgType("radius",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b);Sk.ffi.checkArgType("radiusCone",w,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("radiusShaft",w,Sk.ffi.isNum(d),d);var n=Sk.ffi.remapToJs(b),m=Sk.ffi.remapToJs(c),l=Sk.ffi.remapToJs(d),p=Sk.ffi.remapToJs(e),q=Sk.ffi.remapToJs(g);f(h)&&Sk.ffi.checkArgType("widthSegments",
Sk.ffi.PyType.INT,Sk.ffi.isInt(h),h);f(k)&&Sk.ffi.checkArgType("heightSegments",Sk.ffi.PyType.INT,Sk.ffi.isInt(k),k);var r=Sk.ffi.remapToJs(h),P=Sk.ffi.remapToJs(k),n=new Sk.three.VortexGeometry(n,m,l,p,q,r,P);Sk.ffi.referenceToPy(n,Sk.three.VORTEX_GEOMETRY,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "radius":return Sk.ffi.numberToFloatPy(c.radius);case "radiusCone":return Sk.ffi.numberToFloatPy(c.radiusCone);case "radiusShaft":return Sk.ffi.numberToFloatPy(c.radiusShaft);
case "widthSegments":return Sk.ffi.numberToIntPy(c.widthSegments);case "depthSegments":case "heightSegments":return Sk.ffi.numberToIntPy(c.heightSegments);default:return E(Sk.three.VORTEX_GEOMETRY,a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F(Sk.three.VORTEX_GEOMETRY,a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["radius","radiusCone","radiusShaft"].map(function(b){return[b,Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy(Sk.three.VORTEX_GEOMETRY+
"("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["radius","radiusCone","radiusShaft"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy(Sk.three.VORTEX_GEOMETRY+"("+b.join(", ")+")")})},Sk.three.VORTEX_GEOMETRY,[]);a.Geometry=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){f(b)?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Geometry",void 0,a):Sk.ffi.referenceToPy(new THREE.Geometry,
"Geometry",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return E("Geometry",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return F("Geometry",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Geometry("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Geometry("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"Geometry",[]);Sk.three.object3DGetAttr=
function(b,c,d){var e=Sk.ffi.remapToJs(c);switch(d){case "id":return Sk.ffi.numberToIntPy(e[d]);case "name":case "uuid":case "eulerOrder":return Sk.builtin.stringToPy(e[d]);case "attitude":return k(e.quaternion);case "position":case "rotation":case "scale":case "up":return n(e[d]);case "matrixWorld":return Sk.ffi.callsim(a[Sk.three.MATRIX_4],Sk.ffi.referenceToPy(e[d],Sk.three.MATRIX_4));case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(e.quaternion,"Quaternion"));case "useQuaternion":case "visible":return Sk.ffi.booleanToPy(e[d]);
case "charge":case "mass":case "momentum":case "velocity":var f=e[d];if(h(f))return f;throw Sk.ffi.err.attribute(d).isNotGetableOnType(b);case "geometry":return Sk.ffi.callsim(a.Geometry,Sk.ffi.referenceToPy(e.geometry,"Geometry"));case "material":return Sk.ffi.callsim(a[Sk.three.MATERIAL],Sk.ffi.referenceToPy(e.material,Sk.three.MATERIAL));case "add":return l(e);case "remove":return H(e);case "traverse":return Sk.ffi.callableToPy(a,d,function(b,f){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType("callback",
Sk.ffi.PyType.FUNCTION,Sk.ffi.isFunction(f),f);e[d](function(b){b=Sk.ffi.callsim(a[Sk.three.OBJECT_3D],Sk.ffi.referenceToPy(b,Sk.three.OBJECT_3D));return Sk.ffi.remapToJs(Sk.ffi.callsim(f,b))});return c});default:throw Sk.ffi.err.attribute(d).isNotGetableOnType(b);}};Sk.three.object3DSetAttr=function(a,b,c,d){var e=Sk.ffi.remapToJs(b);switch(c){case "attitude":q(a,b,"quaternion",d,c);break;case "position":case "rotation":case "scale":case "up":g(e,c,d);break;case "quaternion":Sk.ffi.checkArgType(c,
"Quaternion",Sk.ffi.isInstance(d,"Quaternion"),d);e[c]=Sk.ffi.remapToJs(d);break;case "eulerOrder":Sk.ffi.checkArgType(c,Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);e[c]=Sk.builtin.stringToJs(d);break;case "useQuaternion":case "visible":Sk.ffi.checkArgType(c,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),d);e[c]=Sk.ffi.remapToJs(d);break;case "charge":case "mass":case "momentum":case "velocity":Sk.ffi.checkArgType(c,"Euclidean3",h(d),d);e[c]=d;break;default:throw Sk.ffi.err.attribute(c).isNotSetableOnType(a);
}};a[Sk.three.OBJECT_3D]=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){var c=f(b)?Sk.ffi.remapToJs(b):new THREE.Object3D;Sk.ffi.referenceToPy(c,Sk.three.OBJECT_3D,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return Sk.three.object3DGetAttr(Sk.three.OBJECT_3D,a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return Sk.three.object3DSetAttr(Sk.three.OBJECT_3D,a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.OBJECT_3D+
"("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.OBJECT_3D+"("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},Sk.three.OBJECT_3D,[]);a.AmbientLight=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.AmbientLight(c),"AmbientLight",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return v("AmbientLight",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,
b,c){return D("AmbientLight",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;return Sk.builtin.stringToPy("AmbientLight("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=[Sk.ffi.remapToJs(a).color];return Sk.builtin.stringToPy("AmbientLight("+a.map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"AmbientLight",[]);a.DirectionalLight=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("DirectionalLight",
arguments,1,2);Sk.ffi.checkArgType("intensity",w,Sk.ffi.isNum(c)||Sk.ffi.isUndefined(c),c);var d=Sk.ffi.remapToJs(b),e=Sk.ffi.remapToJs(c);Sk.ffi.referenceToPy(new THREE.DirectionalLight(d,e),"DirectionalLight",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "intensity":return Sk.ffi.numberToFloatPy(c.intensity);default:return v("DirectionalLight",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(c);
switch(b){case "intensity":Sk.ffi.checkArgType("intensity",w,Sk.ffi.isNum(c),c);d.intensity=e;break;default:return D("DirectionalLight",a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;b.intensity=a.intensity;b.distance=a.distance;return Sk.builtin.stringToPy("DirectionalLight("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("DirectionalLight("+[a.color,a.intensity,a.distance].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"DirectionalLight",[]);a.PointLight=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c,d){Sk.ffi.checkMethodArgs("PointLight",arguments,1,3);Sk.ffi.checkArgType("color",["Color",Sk.ffi.PyType.INT],Sk.ffi.isInstance(b,"Color")||Sk.ffi.isInt(b),b);Sk.ffi.checkArgType("intensity",w,Sk.ffi.isNum(c)||Sk.ffi.isUndefined(c),c);Sk.ffi.checkArgType("distance",w,Sk.ffi.isNum(d)||Sk.ffi.isUndefined(d),d);var e=Sk.ffi.remapToJs(b),f=Sk.ffi.remapToJs(c),g=Sk.ffi.remapToJs(d);
Sk.ffi.referenceToPy(new THREE.PointLight(e,f,g),"PointLight",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){switch(b){case "distance":return Sk.ffi.numberToFloatPy(Sk.ffi.remapToJs(a).distance);case "intensity":return Sk.ffi.numberToFloatPy(Sk.ffi.remapToJs(a).intensity);default:return v("PointLight",a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){case "distance":Sk.ffi.checkArgType("distance",w,Sk.ffi.isNum(c),c);Sk.ffi.remapToJs(a).distance=Sk.ffi.remapToJs(c);break;
case "intensity":Sk.ffi.checkArgType("intensity",w,Sk.ffi.isNum(c),c);Sk.ffi.remapToJs(a).intensity=Sk.ffi.remapToJs(c);break;default:return D("PointLight",a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;b.intensity=a.intensity;b.distance=a.distance;return Sk.builtin.stringToPy("PointLight("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("PointLight("+[a.color,a.intensity,a.distance].map(function(a){return JSON.stringify(a)}).join(", ")+
")")})},"PointLight",[]);a.Line=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d){b=Sk.ffi.remapToJs(b);c=Sk.ffi.remapToJs(c);d=Sk.ffi.remapToJs(d);a.v=new THREE.Line(b,c,d)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "position":return n(d.position);case "quaternion":return Sk.ffi.callsim(a.Quaternion,Sk.ffi.referenceToPy(d.quaternion,"Quaternion"));case "rotation":return n(d.rotation);case "eulerOrder":return Sk.builtin.stringToPy(d.eulerOrder);
case "scale":return n(d.scale);case "up":return n(d.up);case "useQuaternion":return d.useQuaternion;case "lookAt":return p(b);case "type":return Sk.ffi.numberToIntPy(d.type)}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "type":if(d(c))a.type=c;else throw Error("type must be either LineStrip or LinePieces");break;default:throw Error(b+" is not an attribute of Line");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Line")});
c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Line")})},"Line",[]);a.LineBasicMaterial=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b){a.tp$name="LineBasicMaterial";b=Sk.ffi.remapToJs(b);a.v=new THREE.LineBasicMaterial(b)});c.__getattr__=Sk.ffi.functionPy(function(b,c){b=Sk.ffi.remapToJs(b);switch(c){case "color":return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(b.color,"Color"));case "opacity":return Sk.ffi.numberToFloatPy(b.opacity)}});c.__setattr__=
Sk.ffi.functionPy(function(a,b,c){a=Sk.ffi.remapToJs(a);c=Sk.ffi.remapToJs(c);switch(b){case "color":b=c;b=f(b)?b.hasOwnProperty("r")&&b.hasOwnProperty("g")&&b.hasOwnProperty("b")?d(b.r)&&d(b.g)&&d(b.b):!1:!1;if(b)a.color=c;else throw new Sk.builtin.TypeError("'opacity' attribute must be a <type 'Color'>.");break;case "opacity":if(d(c))a.opacity=c;else throw new Sk.builtin.TypeError("'opacity' attribute must be a <type 'float'>.");break;default:throw Error(b+" is not an attribute of LineBasicMaterial");
}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;b.opacity=a.opacity;return Sk.builtin.stringToPy("LineBasicMaterial("+JSON.stringify(b)+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("LineBasicMaterial("+[{}].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"LineBasicMaterial",[]);Sk.three.meshGetAttr=function(b,c,d){var e=Sk.ffi.remapToJs(c);switch(d){case "attitude":return k(e.quaternion);
case "id":return Sk.ffi.numberToIntPy(e.id);case "geometry":return Sk.ffi.callsim(a.Geometry,Sk.ffi.referenceToPy(e.geometry,"Geometry"));case "material":return Sk.ffi.callsim(a[Sk.three.MATERIAL],Sk.ffi.referenceToPy(e.material,Sk.three.MATERIAL));case "matrixAutoUpdate":return e.matrixAutoUpdate;case "name":return Sk.builtin.stringToPy(e.name);case "position":return n(e.position);case "rotation":return n(e.rotation);case "eulerOrder":return Sk.builtin.stringToPy(e.eulerOrder);case "scale":return n(e.scale);
case "up":return n(e.up);case "lookAt":return p(c);case "rotateOnAxis":return Sk.ffi.callableToPy(a,"rotateOnAxis",function(a,b,d){Sk.ffi.checkMethodArgs("rotateOnAxis",arguments,2,2);Sk.ffi.checkArgType("axis","Vector3",Sk.ffi.isInstance(b,"Vector3"),b);Sk.ffi.checkArgType("angle",w,Sk.ffi.isNum(d),d);e.rotateOnAxis(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(d));return c});case "rotateX":case "rotateY":case "rotateZ":return Sk.ffi.callableToPy(a,d,function(a,b){Sk.ffi.checkMethodArgs(d,arguments,1,1);
Sk.ffi.checkArgType("axis",w,Sk.ffi.isNum(b),b);e[d](Sk.ffi.remapToJs(b));return c});case "setGeometry":return Sk.ffi.callsim(Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="setGeometry"});b.__call__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);e.setGeometry(c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setGeometry")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("setGeometry")})},"setGeometry",
[]));case "translateOnAxis":return Sk.ffi.callableToPy(a,"translateOnAxis",function(a,b,d){Sk.ffi.checkMethodArgs("translateOnAxis",arguments,2,2);Sk.ffi.checkArgType("axis","Vector3",Sk.ffi.isInstance(b,"Vector3"),b);Sk.ffi.checkArgType("distance",w,Sk.ffi.isNum(d),d);e.translateOnAxis(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(d));return c});case "translateX":case "translateY":case "translateZ":return Sk.ffi.callableToPy(a,d,function(a,b){Sk.ffi.checkMethodArgs(d,arguments,1,1);Sk.ffi.checkArgType("distance",
w,Sk.ffi.isNum(b),b);e[d](Sk.ffi.remapToJs(b));return c});case "updateMatrix":return Sk.ffi.callableToPy(a,"updateMatrix",function(a){Sk.ffi.checkMethodArgs("updateMatrix",arguments,0,0);e.updateMatrix()});default:return Sk.three.object3DGetAttr(b,c,d)}};Sk.three.meshSetAttr=function(a,b,c,d){var f=Sk.ffi.remapToJs(b),h=Sk.ffi.remapToJs(d);switch(c){case "attitude":q(Sk.three.MESH,b,"quaternion",d,c);break;case "matrixAutoUpdate":Sk.ffi.checkArgType("matrixAutoUpdate",Sk.ffi.PyType.BOOL,Sk.ffi.isBool(d),
d);a=Sk.ffi.remapToJs(d);f.matrixAutoUpdate=a;break;case "name":Sk.ffi.checkArgType("name",Sk.ffi.PyType.STR,Sk.builtin.isStringPy(d),d);f.name=h;break;case "position":case "rotation":case "scale":case "up":g(f,c,d);break;case "quaternion":f.quaternion=h;break;case "eulerOrder":if(e(h))f.eulerOrder=h;else throw Error(c+" must be a string");break;case "useQuaternion":f.useQuaternion=h;break;default:return Sk.three.object3DSetAttr(a,b,c,d)}};a[Sk.three.MESH]=Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs(Sk.three.MESH,arguments,1,2);Sk.ffi.checkArgType("geometry","Geometry",O(b),b);Sk.ffi.checkArgType("material",Sk.three.MATERIAL,K(c),c);Sk.ffi.referenceToPy(new THREE[Sk.three.MESH](Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(c)),Sk.three.MESH,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return Sk.three.meshGetAttr(Sk.three.MESH,a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return Sk.three.meshSetAttr(Sk.three.MESH,a,b,c)});b.__str__=
Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.id=a.id;b.name=a.name;return Sk.builtin.stringToPy(Sk.three.MESH+"("+JSON.stringify(b)+")")});b.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(Sk.three.MESH+"("+[].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},Sk.three.MESH,[]);a[Sk.three.MATERIAL]=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs(Sk.three.MATERIAL,arguments,0,
1);f(b)?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),Sk.three.MATERIAL,void 0,a):Sk.ffi.referenceToPy(new THREE[Sk.three.MATERIAL],Sk.three.MATERIAL,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){switch(b){default:return y(Sk.three.MATERIAL,a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:return B(Sk.three.MATERIAL,a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.MATERIAL+"()")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.MATERIAL+
"()")})},Sk.three.MATERIAL,[]);a.MeshBasicMaterial=Sk.ffi.buildClass(a,function(b,f){f.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.MeshBasicMaterial(c),"MeshBasicMaterial",void 0,a)});f.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "color":return Sk.ffi.callsim(a.Color,Sk.ffi.referenceToPy(d.color,"Color"));case "wireframe":return d.wireframe;case "wireframeLinewidth":return Sk.ffi.numberToFloatPy(d.wireframeLinewidth);
default:return y("MeshBasicMaterial",b,c)}});f.__setattr__=Sk.ffi.functionPy(function(a,b,f){var g=Sk.ffi.remapToJs(a),h=Sk.ffi.remapToJs(f);switch(b){case "color":g.color=new THREE.Color(h);break;case "name":if(e(h))g.name=h;else throw Error(b+" must be a string");break;case "opacity":if(d(h))g.opacity=h;else throw new Sk.builtin.TypeError("'opacity' attribute must be a <type 'float'>.");break;case "wireframe":if(c(h))g.wireframe=h;else throw Error(b+" must be Boolean");break;case "wireframeLinewidth":if(d(h))g.wireframeLinewidth=
h;else throw Error(b+" must be a number");break;default:return B("MeshBasicMaterial",a,b,f)}});f.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;b.wireframe=a.wireframe;b.wireframeLinewidth=a.wireframeLinewidth;return Sk.builtin.stringToPy("MeshBasicMaterial("+JSON.stringify(b)+")")});f.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;b.wireframe=a.wireframe;b.wireframeLinewidth=a.wireframeLinewidth;return Sk.builtin.stringToPy("MeshBasicMaterial("+
[b].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"MeshBasicMaterial",[]);a.MeshLambertMaterial=Sk.ffi.buildClass(a,function(b,f){f.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs("MeshLambertMaterial",arguments,0,1);var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.MeshLambertMaterial(c),"MeshLambertMaterial",void 0,a)});f.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "id":return Sk.ffi.numberToIntPy(d.id);case "color":return Sk.ffi.callsim(a.Color,
Sk.ffi.referenceToPy(d.color,"Color"));case "name":return Sk.builtin.stringToPy(d.name);case "opacity":return Sk.ffi.numberToFloatPy(d.opacity);default:return y("MeshLambertMaterial",b,c)}});f.__setattr__=Sk.ffi.functionPy(function(a,b,f){var g=Sk.ffi.remapToJs(a),h=Sk.ffi.remapToJs(f);switch(b){case "color":g.color=new THREE.Color(h);break;case "name":if(e(h))g.name=h;else throw Error(b+" must be a string");break;case "opacity":if(d(h))g.opacity=h;else throw new Sk.builtin.TypeError("'opacity' attribute must be a <type 'float'>.");
break;case "wireframe":if(c(h))g.wireframe=h;else throw Error(b+" must be Boolean");break;case "wireframeLinewidth":if(d(h))g.wireframeLinewidth=h;else throw Error(b+" must be a number");break;default:return B("MeshLambertMaterial",a,b,f)}});f.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("MeshLambertMaterial("+JSON.stringify({})+")")});f.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);var b={};b.color=a.color;return Sk.builtin.stringToPy("MeshLambertMaterial("+
[b].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"MeshLambertMaterial",[]);a.MeshNormalMaterial=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.MeshNormalMaterial(c),"MeshNormalMaterial",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return y("MeshNormalMaterial",a,b)});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){return B("MeshNormalMaterial",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("MeshNormalMaterial("+
JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("MeshNormalMaterial("+[{}].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"MeshNormalMaterial",[]);a.MeshPhongMaterial=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE.MeshPhongMaterial(c),"MeshPhongMaterial",void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){return y("MeshPhongMaterial",a,b)});b.__setattr__=
Sk.ffi.functionPy(function(a,b,c){return B("MeshPhongMaterial",a,b,c)});b.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("MeshPhongMaterial("+JSON.stringify({})+")")});b.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("MeshPhongMaterial("+[{}].map(function(a){return JSON.stringify(a)}).join(", ")+")")})},"MeshPhongMaterial",[]);a[Sk.three.PARTICLE_SYSTEM]=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs(Sk.three.PARTICLE_SYSTEM,
arguments,0,2);Sk.ffi.checkArgType("geometry","Geometry",O(b),b);Sk.ffi.checkArgType("material",Sk.three.MATERIAL,K(c),c);Sk.ffi.referenceToPy(new THREE.ParticleSystem(Sk.ffi.remapToJs(b),Sk.ffi.remapToJs(c)),Sk.three.PARTICLE_SYSTEM,void 0,a)});b.__getattr__=Sk.ffi.functionPy(function(a,b){switch(b){default:return Sk.three.object3DGetAttr(Sk.three.PARTICLE_SYSTEM,a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:return Sk.three.object3DSetAttr(Sk.three.PARTICLE_SYSTEM,a,b,
c)}});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=[].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy(Sk.three.PARTICLE_SYSTEM+"("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=[].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy(Sk.three.PARTICLE_SYSTEM+"("+b.join(", ")+")")})},
Sk.three.PARTICLE_SYSTEM,[]);a[Sk.three.PARTICLE_SYSTEM_MATERIAL]=Sk.ffi.buildClass(a,function(a,b){b.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs(Sk.three.PARTICLE_SYSTEM_MATERIAL,arguments,0,1);if(f(b)&&("object"!==typeof b||null!==b)&&Sk.ffi.isInstance(b,Sk.three.PARTICLE_SYSTEM_MATERIAL))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),Sk.three.PARTICLE_SYSTEM_MATERIAL,void 0,a);else{var c=Sk.ffi.remapToJs(b);Sk.ffi.referenceToPy(new THREE[Sk.three.PARTICLE_SYSTEM_MATERIAL](c),Sk.three.PARTICLE_SYSTEM_MATERIAL,
void 0,a)}});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "color":return z(c.color);case "size":return Sk.ffi.numberToFloatPy(c.size);case "sizeAttenuation":return Sk.ffi.booleanToPy(c.sizeAttenuation);case "vertexColors":return Sk.ffi.booleanToPy(c.vertexColors);case "fog":return Sk.ffi.booleanToPy(c.fog);default:return y(Sk.three.PARTICLE_SYSTEM_MATERIAL,a,b)}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){var d=Sk.ffi.remapToJs(a);switch(b){case "color":Sk.ffi.checkArgType(b,
"Color",Sk.ffi.isInstance(c,"Color"),c);d.color=Sk.ffi.remapToJs(c);break;case "size":Sk.ffi.checkArgType(b,Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);d.size=Sk.ffi.remapToJs(c);break;case "sizeAttenuation":Sk.ffi.checkArgType(b,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(c),c);d.sizeAttenuation=Sk.ffi.remapToJs(c);break;case "vertexColors":Sk.ffi.checkArgType(b,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(c),c);d.vertexColors=Sk.ffi.remapToJs(c);break;case "fog":Sk.ffi.checkArgType(b,Sk.ffi.PyType.BOOL,Sk.ffi.isBool(c),
c);d.fog=Sk.ffi.remapToJs(c);break;default:return B(Sk.three.PARTICLE_SYSTEM_MATERIAL,a,b,c)}});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["color","size","sizeAttenuation","vertexColors","fog"].map(function(b){return[b,Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.gattr(a,b)))].join("=")});return Sk.builtin.stringToPy(Sk.three.PARTICLE_SYSTEM_MATERIAL+"("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["color","size","sizeAttenuation","vertexColors",
"fog"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy(Sk.three.PARTICLE_SYSTEM_MATERIAL+"("+b.join(", ")+")")})},Sk.three.PARTICLE_SYSTEM_MATERIAL,[]);a[Sk.three.MATRIX_3]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,g,h,k,n,m){Sk.ffi.checkMethodArgs(Sk.three.MATRIX_3,arguments,0,9);if(f(b))if(Sk.ffi.isInstance(b,Sk.three.MATRIX_3))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),Sk.three.MATRIX_3,
void 0,a);else{Sk.ffi.checkMethodArgs(Sk.three.MATRIX_3,arguments,9,9);Sk.ffi.checkArgType("n11",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b);Sk.ffi.checkArgType("n12",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);Sk.ffi.checkArgType("n13",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(d),d);Sk.ffi.checkArgType("n21",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);Sk.ffi.checkArgType("n22",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(g),g);Sk.ffi.checkArgType("n23",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(h),h);Sk.ffi.checkArgType("n31",Sk.ffi.PyType.FLOAT,
Sk.ffi.isFloat(k),k);Sk.ffi.checkArgType("n32",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(n),n);Sk.ffi.checkArgType("n33",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(m),m);var l=Sk.ffi.remapToJs(b),p=Sk.ffi.remapToJs(c),q=Sk.ffi.remapToJs(d),r=Sk.ffi.remapToJs(e),s=Sk.ffi.remapToJs(g),u=Sk.ffi.remapToJs(h),v=Sk.ffi.remapToJs(k),w=Sk.ffi.remapToJs(n),x=Sk.ffi.remapToJs(m);Sk.ffi.referenceToPy(new THREE.Matrix3(l,p,q,r,s,u,v,w,x),Sk.three.MATRIX_3,void 0,a)}else Sk.ffi.referenceToPy(new THREE.Matrix3,Sk.three.MATRIX_3,
void 0,a)});c.__mul__=Sk.ffi.functionPy(function(b,c){switch(Sk.ffi.getType(c)){case Sk.ffi.PyType.INSTANCE:if(Sk.ffi.isInstance(c,Sk.three.MATRIX_3)){var d=Sk.ffi.remapToJs(b).elements,e=d[0],f=d[3],g=d[6],h=d[1],k=d[4],n=d[7],m=d[2],l=d[5],p=d[8],d=Sk.ffi.remapToJs(c).elements,q=d[0],r=d[3],s=d[6],u=d[1],v=d[4],w=d[7],x=d[2],y=d[5],d=d[8],d=new THREE.Matrix3(e*q+f*u+g*x,e*r+f*v+g*y,e*s+f*w+g*d,h*q+k*u+n*x,h*r+k*v+n*y,h*s+k*w+n*d,m*q+l*u+p*x,m*r+l*v+p*y,m*s+l*w+p*d);return Sk.ffi.callsim(a[Sk.three.MATRIX_3],
Sk.ffi.referenceToPy(d,Sk.three.MATRIX_3))}throw Sk.ffi.err.operand("other").toOperation("*").mustHaveType([Sk.ffi.PyType.FLOAT,Sk.three.MATRIX_3]);case Sk.ffi.PyType.FLOAT:return d=Sk.ffi.remapToJs(b).elements,e=d[0],f=d[3],g=d[6],h=d[1],k=d[4],n=d[7],m=d[2],l=d[5],p=d[8],d=Sk.ffi.remapToJs(c),d=new THREE.Matrix3(e*d,f*d,g*d,h*d,k*d,n*d,m*d,l*d,p*d),Sk.ffi.callsim(a[Sk.three.MATRIX_3],Sk.ffi.referenceToPy(d,Sk.three.MATRIX_3));default:throw Sk.ffi.err.operand("other").toOperation("*").mustHaveType([Sk.ffi.PyType.FLOAT,
Sk.three.MATRIX_3]);}});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "clone":return Sk.ffi.callableToPy(a,c,function(b){Sk.ffi.checkMethodArgs(c,arguments,0,0);return Sk.ffi.callsim(a[Sk.three.MATRIX_3],Sk.ffi.referenceToPy(d.clone(),Sk.three.MATRIX_3))});case "copy":return Sk.ffi.callableToPy(a,c,function(a,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("matrix",Sk.three.MATRIX_3,Sk.ffi.isInstance(e,Sk.three.MATRIX_3),e);d.copy(Sk.ffi.remapToJs(e));
return b});case "determinant":return Sk.ffi.callableToPy(a,c,function(a){Sk.ffi.checkMethodArgs(c,arguments,0,0);return Sk.ffi.numberToFloatPy(d.determinant())});case "getNormalMatrix":return Sk.ffi.callableToPy(a,c,function(a,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("m",Sk.three.MATRIX_4,Sk.ffi.isInstance(e,Sk.three.MATRIX_4),e);d.getNormalMatrix(Sk.ffi.remapToJs(e));return b});case "identity":return Sk.ffi.callableToPy(a,c,function(a){Sk.ffi.checkMethodArgs(c,arguments,0,0);
d.identity();return b});case "set":return Sk.ffi.callableToPy(a,c,function(a,e,f,g,h,k,n,m,l,p){Sk.ffi.checkMethodArgs(c,arguments,9,9);Sk.ffi.checkArgType("n11",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);Sk.ffi.checkArgType("n12",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(f),f);Sk.ffi.checkArgType("n13",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(g),g);Sk.ffi.checkArgType("n21",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(h),h);Sk.ffi.checkArgType("n22",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(k),k);Sk.ffi.checkArgType("n23",Sk.ffi.PyType.FLOAT,
Sk.ffi.isFloat(n),n);Sk.ffi.checkArgType("n31",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(m),m);Sk.ffi.checkArgType("n32",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(l),l);Sk.ffi.checkArgType("n33",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(p),p);var q=Sk.ffi.remapToJs(e),r=Sk.ffi.remapToJs(f),s=Sk.ffi.remapToJs(g),u=Sk.ffi.remapToJs(h),v=Sk.ffi.remapToJs(k),w=Sk.ffi.remapToJs(n),x=Sk.ffi.remapToJs(m),y=Sk.ffi.remapToJs(l),z=Sk.ffi.remapToJs(p);d.set(q,r,s,u,v,w,x,y,z);return b});case "transpose":return Sk.ffi.callableToPy(a,
c,function(a){Sk.ffi.checkMethodArgs(c,arguments,0,0);d.transpose();return b});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.three.MATRIX_3);}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.three.MATRIX_3);}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a).elements;a=[[a[0],a[3],a[6]],[a[1],a[4],a[7]],[a[2],a[5],a[8]]].map(function(a){return a.map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(Sk.ffi.numberToFloatPy(a)))}).join(" ")}).join("\n");
return Sk.builtin.stringToPy(a)});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a).elements;a=[a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(Sk.ffi.numberToFloatPy(a)))}).join(", ");return Sk.builtin.stringToPy(Sk.three.MATRIX_3+"("+a+")")})},Sk.three.MATRIX_3,[]);a[Sk.three.MATRIX_4]=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkMethodArgs(Sk.three.MATRIX_4,arguments,0,1);f(b)&&Sk.ffi.isInstance(b,
Sk.three.MATRIX_4)?Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),Sk.three.MATRIX_4,void 0,a):Sk.ffi.referenceToPy(new THREE.Matrix4,Sk.three.MATRIX_4,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "makeRotationX":return Sk.ffi.callableToPy(a,c,function(b,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("theta",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);var f=Sk.ffi.remapToJs(e);return Sk.ffi.callsim(a[Sk.three.MATRIX_4],Sk.ffi.referenceToPy(d.makeRotationX(f),
Sk.three.MATRIX_4))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.three.MATRIX_4);}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.three.MATRIX_4);}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.MATRIX_4+"()")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy(Sk.three.MATRIX_4+"()")})},Sk.three.MATRIX_4,[]);a[Sk.three.FACE_3]=Sk.ffi.buildClass(a,function(b,
c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e,g,h){if(f(b)&&Sk.ffi.isInstance(b,Sk.three.FACE_3)){Sk.ffi.checkMethodArgs(Sk.three.FACE_3,arguments,1,1);var k=Sk.ffi.remapToJs(b);Sk.ffi.checkArgType("a","!?",f(k),b);Sk.ffi.checkArgType("a","?!",k instanceof THREE.Face3,b)}else{Sk.ffi.checkMethodArgs(Sk.three.FACE_3,arguments,3,6);Sk.ffi.checkArgType("a",A,Sk.ffi.isInt(b),b);Sk.ffi.checkArgType("b",A,Sk.ffi.isInt(c),c);Sk.ffi.checkArgType("c",A,Sk.ffi.isInt(d),d);f(e)&&Sk.ffi.checkArgType("normal",
"Euclidean3",Sk.ffi.isInstance(e,"Euclidean3"),e);var k=Sk.ffi.remapToJs(b),n=Sk.ffi.remapToJs(c),l=Sk.ffi.remapToJs(d),p=m("normal",e),q=Sk.ffi.remapToJs(g),r=Sk.ffi.remapToJs(h),k=new THREE.Face3(k,n,l,p,q,r)}Sk.ffi.referenceToPy(k,Sk.three.FACE_3,void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "a":return Sk.ffi.numberToIntPy(d.a);case "b":return Sk.ffi.numberToIntPy(d.b);case "c":return Sk.ffi.numberToIntPy(d.c);case "color":return Sk.ffi.callsim(a.Color,
Sk.ffi.referenceToPy(d.color,"Color"));case "centroid":return n(d.centroid);case "normal":return n(d.normal);case "vertexNormals":return Sk.ffi.listPy(d.vertexNormals.map(function(a){return n(a)}));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(Sk.three.FACE_3);}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType(Sk.three.FACE_3);}});c.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["a",
"b","c","normal"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy(Sk.three.FACE_3+"("+b.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["a","b","c","normal"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy(Sk.three.FACE_3+"("+b.join(", ")+")")})},Sk.three.FACE_3,[]);a.Intersection=Sk.ffi.buildClass(a,
function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d){switch(Sk.ffi.checkMethodArgs("Intersection",arguments,1,3)){case 1:Sk.ffi.checkMethodArgs("Intersection",arguments,1,1);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Intersection",void 0,a);break;default:Sk.ffi.checkMethodArgs("Intersection",arguments,3,3);Sk.ffi.checkArgType("distance",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(b),b);Sk.ffi.checkArgType("point","Euclidean3",Sk.ffi.isInstance(c,"Euclidean3"),c);Sk.ffi.checkArgType("face",Sk.three.FACE_3,
Sk.ffi.isInstance(d,Sk.three.FACE_3),d);var e={};e.distance=Sk.ffi.remapToJs(b);e.point=m("point",c);e.face=Sk.ffi.remapToJs(d);Sk.ffi.referenceToPy(e,"Intersection",void 0,a)}});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "distance":return Sk.ffi.numberToFloatPy(d.distance);case "point":return n(d.point);case "face":var e=d.face;return!f(e)||"object"===typeof e&&null===e?Sk.builtin.none.none$:Sk.ffi.callsim(a[Sk.three.FACE_3],Sk.ffi.referenceToPy(d.face,
Sk.three.FACE_3));case "object":return Sk.ffi.callsim(a[Sk.three.OBJECT_3D],Sk.ffi.referenceToPy(d.object,Sk.three.OBJECT_3D));default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Intersection");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Intersection");}});c.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["distance","point","face"].map(function(b){return Sk.ffi.gattr(a,
b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy("Intersection("+b.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["distance","point","face"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("Intersection("+b.join(", ")+")")})},"Intersection",[]);a.Plane=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Plane",
arguments,0,2);var d=m("normal",b);f(c)&&Sk.ffi.checkArgType("offset",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);var e=Sk.ffi.remapToJs(c);Sk.ffi.referenceToPy(new THREE.Plane(d,e),"Plane",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "normal":return n(d.normal);case "offset":case "constant":return Sk.ffi.numberToFloatPy(d.constant);case "copy":return Sk.ffi.callableToPy(a,c,function(a,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("plane",
"Plane",Sk.ffi.isInstance(e,"Plane"),e);d.copy(Sk.ffi.remapToJs(e));return b});case "distanceToPoint":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);return Sk.ffi.numberToFloatPy(d.distanceToPoint(m("point",b)))});case "distanceToSphere":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("sphere","Sphere",Sk.ffi.isInstance(b,"Sphere"),b);return Sk.ffi.numberToFloatPy(d.distanceToSphere(Sk.ffi.remapToJs(b)))});
default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Plane");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Plane");}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[n(a.normal),Sk.ffi.numberToFloatPy(a.constant)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy("Plane("+a.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=
Sk.ffi.remapToJs(a);a=[n(a.normal),Sk.ffi.numberToFloatPy(a.constant)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("Plane("+a.join(", ")+")")})},"Plane",[]);a.Projector=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a){Sk.ffi.checkMethodArgs("Projector",arguments,0,0);Sk.ffi.referenceToPy(new THREE.Projector,"Projector",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "pickingRay":return Sk.ffi.callableToPy(a,
c,function(b,e,f){Sk.ffi.checkMethodArgs(c,arguments,2,2);var g=d.pickingRay(m("vector",e),Sk.ffi.remapToJs(f));return Sk.ffi.callsim(a.Raycaster,Sk.ffi.referenceToPy(g,"Raycaster"))});case "projectVector":return Sk.ffi.callableToPy(a,c,function(a,b,e){Sk.ffi.checkMethodArgs(c,arguments,2,2);return n(d.projectVector(m("vector",b),Sk.ffi.remapToJs(e)))});case "unprojectVector":return Sk.ffi.callableToPy(a,c,function(a,b,e){Sk.ffi.checkMethodArgs(c,arguments,2,2);return n(d.unprojectVector(m("vector",
b),Sk.ffi.remapToJs(e)))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Projector");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Projector");}});c.__str__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Projector")});c.__repr__=Sk.ffi.functionPy(function(a){return Sk.builtin.stringToPy("Projector()")})},"Projector",[]);a.Ray=Sk.ffi.buildClass(a,function(a,b){b.__init__=
Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Ray",arguments,1,2);if(Sk.ffi.isInstance(b,"Ray"))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Ray",void 0,a);else{Sk.ffi.checkMethodArgs("Ray",arguments,2,2);var d=m("origin",b),e=m("direction",c);Sk.ffi.referenceToPy(new THREE.Ray(d,e),"Ray",void 0,a)}});b.__getattr__=Sk.ffi.functionPy(function(a,b){var c=Sk.ffi.remapToJs(a);switch(b){case "origin":case "direction":return n(c[b]);default:throw Sk.ffi.err.attribute(b).isNotGetableOnType("Ray");
}});b.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Ray");}});b.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["origin","direction"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy("Ray("+b.join(", ")+")")});b.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["origin","direction"].map(function(b){return Sk.ffi.gattr(a,
b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("Ray("+b.join(", ")+")")})},"Ray",[]);a.Raycaster=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c,d,e){Sk.ffi.checkMethodArgs("Raycaster",arguments,0,4);if(f(b)&&Sk.ffi.isInstance(b,"Raycaster"))Sk.ffi.referenceToPy(Sk.ffi.remapToJs(b),"Raycaster",void 0,a);else{var g=m("origin",b),h=m("direction",c);f(d)&&Sk.ffi.checkArgType("near",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(d),d);f(e)&&
Sk.ffi.checkArgType("far",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(e),e);var k=Sk.ffi.remapToJs(d);Sk.ffi.remapToJs(e);Sk.ffi.referenceToPy(new THREE.Raycaster(g,h,k),"Raycaster",void 0,a)}});c.__getattr__=Sk.ffi.functionPy(function(b,c){var d=Sk.ffi.remapToJs(b);switch(c){case "ray":return Sk.ffi.callsim(a.Ray,Sk.ffi.referenceToPy(d.ray,"Ray"));case "near":case "far":return Sk.ffi.numberToFloatPy(d[c]);case "intersectObjects":return Sk.ffi.callableToPy(a,c,function(b,e,f){Sk.ffi.checkMethodArgs(c,arguments,
1,2);Sk.ffi.checkArgType("objects",Sk.ffi.PyType.LIST,Sk.ffi.isList(e),e);var g=d.intersectObjects(Sk.ffi.remapToJs(e),Sk.ffi.remapToJs(f));return Sk.ffi.listPy(g.map(function(b){return Sk.ffi.callsim(a.Intersection,Sk.ffi.referenceToPy(b,"Intersection"))}))});case "set":return Sk.ffi.callableToPy(a,c,function(a,e,f){Sk.ffi.checkMethodArgs(c,arguments,2,2);d.set(m("origin",e),m("direction",f));return b});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Raycaster");}});c.__setattr__=Sk.ffi.functionPy(function(a,
b,c){Sk.ffi.remapToJs(a);Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Raycaster");}});c.__str__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["ray","near","far"].map(function(b){return Sk.ffi.gattr(a,b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy("Raycaster("+b.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){Sk.ffi.remapToJs(a);var b=["ray","near","far"].map(function(b){return Sk.ffi.gattr(a,
b)}).map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("Raycaster("+b.join(", ")+")")})},"Raycaster",[]);a.Sphere=Sk.ffi.buildClass(a,function(b,c){c.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Sphere",arguments,0,2);var d=m("center",b);f(c)&&Sk.ffi.checkArgType("radius",Sk.ffi.PyType.FLOAT,Sk.ffi.isFloat(c),c);var e=Sk.ffi.remapToJs(c);Sk.ffi.referenceToPy(new THREE.Sphere(d,e),"Sphere",void 0,a)});c.__getattr__=Sk.ffi.functionPy(function(b,
c){var d=Sk.ffi.remapToJs(b);switch(c){case "center":return n(d.center);case "radius":return Sk.ffi.numberToFloatPy(d.radius);case "copy":return Sk.ffi.callableToPy(a,c,function(a,e){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("sphere","Sphere",Sk.ffi.isInstance(e,"Sphere"),e);d.copy(Sk.ffi.remapToJs(e));return b});case "containsPoint":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);return Sk.ffi.booleanToPy(d.containsPoint(m("point",b)))});case "distanceToPoint":return Sk.ffi.callableToPy(a,
c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);return Sk.ffi.numberToFloatPy(d.distanceToPoint(m("point",b)))});case "intersectsSphere":return Sk.ffi.callableToPy(a,c,function(a,b){Sk.ffi.checkMethodArgs(c,arguments,1,1);Sk.ffi.checkArgType("sphere","Sphere",Sk.ffi.isInstance(b,"Sphere"),b);return Sk.ffi.booleanToPy(d.intersectsSphere(Sk.ffi.remapToJs(b)))});default:throw Sk.ffi.err.attribute(c).isNotGetableOnType("Sphere");}});c.__setattr__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.remapToJs(a);
Sk.ffi.remapToJs(c);switch(b){default:throw Sk.ffi.err.attribute(b).isNotSetableOnType("Sphere");}});c.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[n(a.center),Sk.ffi.numberToFloatPy(a.radius)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.str(a))});return Sk.builtin.stringToPy("Sphere("+a.join(", ")+")")});c.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);a=[n(a.center),Sk.ffi.numberToFloatPy(a.radius)].map(function(a){return Sk.ffi.remapToJs(Sk.ffh.repr(a))});return Sk.builtin.stringToPy("Sphere("+
a.join(", ")+")")})},"Sphere",[]);f(THREE)&&(a.LineStrip=Sk.ffi.numberToIntPy(THREE.LineStrip),a.LinePieces=Sk.ffi.numberToIntPy(THREE.LinePieces),a.FlatShading=Sk.ffi.numberToIntPy(THREE.FlatShading),a.NoShading=Sk.ffi.numberToIntPy(THREE.NoShading),a.SmoothShading=Sk.ffi.numberToIntPy(THREE.SmoothShading),a.NoColors=Sk.ffi.numberToIntPy(THREE.NoColors),a.FaceColors=Sk.ffi.numberToIntPy(THREE.FaceColors),a.VertexColors=Sk.ffi.numberToIntPy(THREE.VertexColors),a.FrontSide=Sk.ffi.numberToIntPy(THREE.FrontSide),
a.BackSide=Sk.ffi.numberToIntPy(THREE.BackSide),a.DoubleSide=Sk.ffi.numberToIntPy(THREE.DoubleSide))}}).call(this);(function(){var a=function(a,b){var c,h,k,q,n;k=[];c=function(a,b){var c;if(0!==a){0<=a?0<k.length&&k.push("+"):k.push("-");c=Math.abs(a);if(1===c)return k.push(b);k.push(c.toString());if("1"!==b)return k.push("*"),k.push(b)}};h=q=0;for(n=a.length-1;0<=n?q<=n:q>=n;h=0<=n?++q:--q)c(a[h],b[h]);return 0<k.length?k.join(""):"0"},b=[Sk.ffi.PyType.FLOAT,Sk.ffi.PyType.INT,Sk.ffi.PyType.LONG],c=Sk.ffi.PyType.INT;Sk.builtin.defineVector3=function(d,e){Sk.ffi.checkFunctionArgs("defineVector3",arguments,2,2);
var f=function(a){return Sk.ffi.isInstance(a,"Vector3")},h=function(a,b,c){return Sk.ffi.callsim(d.Vector3,Sk.ffi.numberToFloatPy(a),Sk.ffi.numberToFloatPy(b),Sk.ffi.numberToFloatPy(c))};d.Vector3=Sk.ffi.buildClass(d,function(k,q){q.__init__=Sk.ffi.functionPy(function(a,c,d,h){Sk.ffi.checkMethodArgs("Vector3",arguments,0,4);if(Sk.ffi.isUndefined(c)&&Sk.ffi.isUndefined(d)&&Sk.ffi.isUndefined(h))Sk.ffi.referenceToPy(new e.Vector3,"Vector3",void 0,a);else switch(Sk.ffi.getType(c)){case Sk.ffi.PyType.INSTANCE:Sk.ffi.checkMethodArgs("Vector3",
arguments,1,1);Sk.ffi.checkArgType("x","Vector3",f(c),c);Sk.ffi.referenceToPy(Sk.ffi.remapToJs(c),"Vector3",void 0,a);break;case Sk.ffi.PyType.FLOAT:case Sk.ffi.PyType.INT:case Sk.ffi.PyType.LONG:Sk.ffi.checkMethodArgs("Vector3",arguments,3,3);Sk.ffi.checkArgType("x",b,Sk.ffi.isNum(c),c);Sk.ffi.checkArgType("y",b,Sk.ffi.isNum(d),d);Sk.ffi.checkArgType("z",b,Sk.ffi.isNum(h),h);Sk.ffi.referenceToPy(new e.Vector3(Sk.ffi.remapToJs(c),Sk.ffi.remapToJs(d),Sk.ffi.remapToJs(h)),"Vector3",void 0,a);break;
default:Sk.ffi.checkArgType("x",[b,"Vector3"],!1,c)}});q.__add__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add","Vector3",f(a),a);Sk.ffi.checkRhsOperandType("add","Vector3",f(b),b);var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return h(c.x+d.x,c.y+d.y,c.z+d.z)});q.__iadd__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add","Vector3",f(a),a);Sk.ffi.checkRhsOperandType("add","Vector3",f(b),b);var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);c.x+=d.x;c.y+=d.y;c.z+=d.z;
return a});q.__sub__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("subtract","Vector3",f(a),a);Sk.ffi.checkRhsOperandType("subtract","Vector3",f(b),b);var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);return h(c.x-d.x,c.y-d.y,c.z-d.z)});q.__isub__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkLhsOperandType("add","Vector3",f(a),a);Sk.ffi.checkRhsOperandType("add","Vector3",f(b),b);var c=Sk.ffi.remapToJs(a),d=Sk.ffi.remapToJs(b);c.x-=d.x;c.y-=d.y;c.z-=d.z;return a});q.__mul__=Sk.ffi.functionPy(function(a,
c){Sk.ffi.checkLhsOperandType("multiply","Vector3",f(a),a);Sk.ffi.checkRhsOperandType("multiply",b,Sk.ffi.isNum(c),c);var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(c);return h(d.x*e,d.y*e,d.z*e)});q.__rmul__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkLhsOperandType("multiply",b,Sk.ffi.isNum(c),c);Sk.ffi.checkRhsOperandType("multiply","Vector3",f(a),a);var d=Sk.ffi.remapToJs(c),e=Sk.ffi.remapToJs(a);return h(d*e.x,d*e.y,d*e.z)});q.__div__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkLhsOperandType("divide",
"Vector3",f(a),a);Sk.ffi.checkRhsOperandType("divide",b,Sk.ffi.isNum(c),c);var d=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(c);return h(d.x/e,d.y/e,d.z/e)});q.__rdiv__=Sk.ffi.functionPy(function(a,c){Sk.ffi.checkLhsOperandType("divide",b,Sk.ffi.isNum(c),c);Sk.ffi.checkRhsOperandType("divide","Vector3",f(a),a);var d=Sk.ffi.remapToJs(c),e=Sk.ffi.remapToJs(a);return h(e.x/d,e.y/d,e.z/d)});q.__getattr__=Sk.ffi.functionPy(function(a,e){var f=Sk.ffi.remapToJs(a);switch(e){case "x":case "y":case "z":return Sk.ffi.numberToFloatPy(f[e]);
case "applyQuaternion":return Sk.ffi.callableToPy(d,"applyQuaternion",function(b,c){Sk.ffi.checkMethodArgs("applyQuaternion",arguments,1,1);Sk.ffi.checkArgType("q","Quaternion",Sk.ffi.isInstance(c,"Quaternion"),c);f.applyQuaternion(Sk.ffi.remapToJs(c));return a});case "clone":return Sk.ffi.callsim(Sk.ffi.buildClass(d,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="clone"});b.__call__=Sk.ffi.functionPy(function(a){return h(f.x,f.y,f.z)})},"clone",[]));case "getComponent":return Sk.ffi.callableToPy(d,
"getComponent",function(a,b){Sk.ffi.checkMethodArgs("getComponent",arguments,1,1);Sk.ffi.checkArgType("index",c,Sk.ffi.isNum(b),b);return Sk.ffi.numberToFloatPy(f.getComponent(Sk.ffi.remapToJs(b)))});case "magnitude":return Sk.ffi.callsim(Sk.ffi.buildClass(d,function(a,b){b.__init__=Sk.ffi.functionPy(function(a){a.tp$name="magnitude"});b.__call__=Sk.ffi.functionPy(function(a){return Sk.ffi.numberToFloatPy(f.length())})},"magnitude",[]));case "normalize":return Sk.ffi.callsim(Sk.ffi.buildClass(d,function(b,
c){c.__init__=Sk.ffi.functionPy(function(a){a.tp$name="normalize"});c.__call__=Sk.ffi.functionPy(function(b){Sk.ffi.checkMethodArgs("Vector3",arguments,0,0);f.normalize();return a})},"normalize",[]));case "set":return Sk.ffi.callableToPy(d,"set",function(c,d,e,h){Sk.ffi.checkMethodArgs("set",arguments,3,3);Sk.ffi.checkArgType("x",b,Sk.ffi.isNum(d),d);Sk.ffi.checkArgType("y",b,Sk.ffi.isNum(e),e);Sk.ffi.checkArgType("z",b,Sk.ffi.isNum(h),h);d=Sk.ffi.remapToJs(d);e=Sk.ffi.remapToJs(e);h=Sk.ffi.remapToJs(h);
f.set(d,e,h);return a});case "setComponent":return Sk.ffi.callableToPy(d,"setComponent",function(d,e,h){Sk.ffi.checkMethodArgs("setComponent",arguments,2,2);Sk.ffi.checkArgType("index",c,Sk.ffi.isInt(e),e);Sk.ffi.checkArgType("value",b,Sk.ffi.isNum(h),h);var k=Sk.ffi.remapToJs(e),m=Sk.ffi.remapToJs(h);f.setComponent(k,m);return a});case "setX":case "setY":case "setZ":return Sk.ffi.callableToPy(d,e,function(c,d){Sk.ffi.checkMethodArgs(e,arguments,1,1);Sk.ffi.checkArgType("value",b,Sk.ffi.isNum(d),
d);f[e](Sk.ffi.remapToJs(d));return a});default:throw Sk.ffi.err.attribute(e).isNotGetableOnType("Vector3");}});q.__setattr__=Sk.ffi.functionPy(function(a,c,d){switch(c){case "x":case "y":case "z":Sk.ffi.checkArgType(c,b,Sk.ffi.isNum(d),d);Sk.ffi.remapToJs(a)[c]=Sk.ffi.remapToJs(d);break;default:throw Sk.ffi.err.attribute(c).isNotSetableOnType("Vector3");}});q.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy("Vector3("+[a.x,a.y,a.z].join(", ")+")")});q.__str__=
Sk.ffi.functionPy(function(b){b=Sk.ffi.remapToJs(b);return Sk.builtin.stringToPy(a([b.x,b.y,b.z],["i","j","k"]))})},"Vector3",[])}}).call(this);(function(){Sk.builtin.defineFractions=function(a,b,c){Sk.ffi.checkFunctionArgs("defineFractions",arguments,3,3);var d=function(a){return Sk.ffi.isInstance(a,b)},e=[b,Sk.ffi.PyType.INT];a[b]=Sk.ffi.buildClass(a,function(f,h){h.__init__=Sk.ffi.functionPy(function(a,e,f){if(Sk.ffi.isUndefined(f))Sk.ffi.isUndefined(e)?Sk.ffi.referenceToPy(c(0,1),b,void 0,a):d(e)?(Sk.ffi.checkMethodArgs(b,arguments,1,1),Sk.ffi.referenceToPy(Sk.ffi.remapToJs(e),b,void 0,a)):Sk.ffi.isNum(e)?(Sk.ffi.checkArgType("numerator",
Sk.ffi.PyType.INT,Sk.ffi.isInt(e),e),h=Sk.ffi.remapToJs(e),Sk.ffi.referenceToPy(c(h,1),b,void 0,a)):Sk.ffi.checkMethodArgs(b,arguments,2,2);else{Sk.ffi.checkMethodArgs(b,arguments,2,2);Sk.ffi.checkArgType("numerator",Sk.ffi.PyType.INT,Sk.ffi.isInt(e),e);Sk.ffi.checkArgType("denominator",Sk.ffi.PyType.INT,Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(e),g=Sk.ffi.remapToJs(f);if(0!=g)Sk.ffi.referenceToPy(c(h,g),b,void 0,a);else throw new Sk.builtin.ZeroDivisionError("denominator must not be zero");}});
h.__getattr__=Sk.ffi.functionPy(function(a,c){var d=Sk.ffi.remapToJs(a);switch(c){case "numer":case "numerator":return Sk.ffi.numberToIntPy(d.numer);case "denom":case "denominator":return Sk.ffi.numberToIntPy(d.denom);default:throw Sk.ffi.err.attribute(c).isNotGetableOnType(b);}});h.__add__=Sk.ffi.functionPy(function(c,f){Sk.ffi.checkRhsOperandType("add",e,d(f)||Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(c),m=Sk.ffi.remapToJs(f);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(h.add(m),b))});h.__radd__=
Sk.ffi.functionPy(function(d,f){Sk.ffi.checkLhsOperandType("add",e,Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(d),m=c(Sk.ffi.remapToJs(f),1);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(m.add(h),b))});h.__sub__=Sk.ffi.functionPy(function(c,f){Sk.ffi.checkRhsOperandType("subtract",e,d(f)||Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(c),m=Sk.ffi.remapToJs(f);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(h.sub(m),b))});h.__rsub__=Sk.ffi.functionPy(function(d,f){Sk.ffi.checkLhsOperandType("subtract",
e,Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(d),m=c(Sk.ffi.remapToJs(f),1);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(m.sub(h),b))});h.__mul__=Sk.ffi.functionPy(function(c,d){switch(Sk.ffi.getType(d)){case Sk.ffi.PyType.INSTANCE:switch(Sk.ffi.typeName(d)){case b:var e=Sk.ffi.remapToJs(c),f=Sk.ffi.remapToJs(d);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(e.mul(f),b));default:return}case Sk.ffi.PyType.INT:return e=Sk.ffi.remapToJs(c),f=Sk.ffi.remapToJs(d),Sk.ffi.callsim(a[b],Sk.ffi.numberToIntPy(e.numer*
f),Sk.ffi.numberToIntPy(e.denom))}});h.__rmul__=Sk.ffi.functionPy(function(d,f){Sk.ffi.checkLhsOperandType("multiply",e,Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(d),m=c(Sk.ffi.remapToJs(f),1);return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(m.mul(h),b))});h.__div__=Sk.ffi.functionPy(function(c,f){var h=Sk.ffi.remapToJs(c),m=Sk.ffi.remapToJs(f);if(Sk.ffi.isNum(f)){if(Sk.ffi.checkRhsOperandType("divide",e,Sk.ffi.isInt(f),f),0!=m)return Sk.ffi.callsim(a[b],Sk.ffi.numberToIntPy(h.numer),Sk.ffi.numberToIntPy(h.denom*
m))}else if(Sk.ffi.checkRhsOperandType("divide",e,d(f),f),0!=m.numer)return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(h.div(m),b));throw new Sk.builtin.ZeroDivisionError("denominator must not be zero");});h.__rdiv__=Sk.ffi.functionPy(function(d,f){Sk.ffi.checkLhsOperandType("divide",e,Sk.ffi.isInt(f),f);var h=Sk.ffi.remapToJs(d),m=c(Sk.ffi.remapToJs(f),1);if(0!=h.numer)return Sk.ffi.callsim(a[b],Sk.ffi.referenceToPy(m.div(h),b));throw new Sk.builtin.ZeroDivisionError("denominator must not be zero");
});h.__eq__=Sk.ffi.functionPy(function(a,b){Sk.ffi.checkFunctionArgs("equal",arguments,2,2);if(d(a)&&d(b)){var c=Sk.ffi.remapToJs(a),e=Sk.ffi.remapToJs(b);return Sk.ffi.booleanToPy(c.equals(e))}return Sk.ffi.bool.False});h.__repr__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(b+"("+a.numer+","+a.denom+")")});h.__str__=Sk.ffi.functionPy(function(a){a=Sk.ffi.remapToJs(a);return Sk.builtin.stringToPy(""+a)})},b,[])}}).call(this);(function(){Sk.builtin.defineWorkbench=function(a){function b(a){a=document.getElementsByTagName(a);for(var b=a.length-1;0<=b;b--){var c=a[b];c.parentNode.removeChild(c)}}Sk.ffi.checkFunctionArgs("defineWorkbench",arguments,1,1);var c=function(){var a;a=Object.prototype.toString.call(window);return function(b){var c,d;c=Object.prototype.toString.call(b);switch(a){case "[object DOMWindow]":case "[object Window]":case "[object global]":return c===a}if("self"in b){c=b.hasOwnProperty("self");try{c&&(d=
b.self),delete b.self,c&&(b.self=d)}catch(q){return!0}}return!1}}(),d=function(a){if("undefined"===typeof a||Sk.ffi.isNone(a))return window;var b=Sk.ffi.remapToJs(a);Sk.ffi.checkArgType("window","Window",c(b),a);return b};a.Workbench2D=Sk.ffi.buildClass(a,function(c,f){f.__init__=Sk.ffi.functionPy(function(a,b,c){Sk.ffi.checkMethodArgs("Workbench2D(canvas[, window])",arguments,1,2);Sk.ffi.checkArgType("canvas",[Sk.ffi.PyType.OBJECT],Sk.ffi.isObjectPy(b)||Sk.ffi.isInstance(b),b);var e=Sk.ffi.remapToJs(b),
f=d(c);Sk.ffi.referenceToPy({canvas:e,window:f,onWindowResize:function(a){a=f.innerHeight;e.width=f.innerWidth;e.height=a}},"Workbench2D",void 0,a)});f.__getattr__=Sk.ffi.functionPy(function(c,d){var e=Sk.ffi.remapToJs(c),f=e.window,m=f.document;switch(d){case "setUp":return Sk.ffi.callableToPy(a,"setUp",function(a){Sk.ffi.checkMethodArgs("setUp",arguments,0,0);m.body.insertBefore(e.canvas,m.body.firstChild);f.addEventListener("resize",e.onWindowResize,!1);e.onWindowResize(null)});case "tearDown":return Sk.ffi.callableToPy(a,
"tearDown",function(a){f.removeEventListener("resize",e.onWindowResize,!1);b("canvas")})}})},"Workbench2D",[]);a.Workbench3D=Sk.ffi.buildClass(a,function(c,f){f.__init__=Sk.ffi.functionPy(function(a,b,c,e,f){Sk.ffi.checkMethodArgs("Workbench3D(canvas, renderer, camera[, window])",arguments,3,4);var g=Sk.ffi.remapToJs(b),l=Sk.ffi.remapToJs(c),p=Sk.ffi.remapToJs(e),H=d(f);Sk.ffi.referenceToPy({canvas:g,renderer:l,camera:p,window:H,onWindowResize:function(a){a=H.innerWidth;var b=H.innerHeight;l.setSize(a,
b);p.aspect=a/b;p.updateProjectionMatrix()}},"Workbench3D",void 0,a)});f.__getattr__=Sk.ffi.functionPy(function(c,d){var e=Sk.ffi.remapToJs(c),f=e.window,m=f.document;switch(d){case "setUp":return Sk.ffi.callableToPy(a,"setUp",function(a){m.body.insertBefore(e.canvas,m.body.firstChild);f.addEventListener("resize",e.onWindowResize,!1);e.onWindowResize(null)});case "tearDown":return Sk.ffi.callableToPy(a,"tearDown",function(a){f.removeEventListener("resize",e.onWindowResize,!1);b("canvas")})}})},"Workbench3D",
[])}}).call(this);}());
